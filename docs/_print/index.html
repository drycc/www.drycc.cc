<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="canonical" type="text/html" href="/docs/">
<link rel="alternate" type="application/rss&#43;xml" href="/docs/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Docs | Drycc</title>
<meta name="description" content="A Open, Unified, Lightweight, Simpler Containers as a Service (CaaS).
Welcome to Drycc Drycc Workflow is an open source container cloud platform.
Usually we also call it Container as a Service(CaaS) that adds a developer-friendly layer to any Kubernetes cluster, making it easy to deploy and manage applications.
Drycc Workflow includes capabilities for building and deploying from source via git push, simple application configuration, creating and rolling back releases, managing domain names and SSL certificates, providing seamless edge routing, aggregating logs, and sharing applications with teams.">
<meta property="og:url" content="/docs/">
  <meta property="og:site_name" content="Drycc">
  <meta property="og:title" content="Docs">
  <meta property="og:description" content="A Open, Unified, Lightweight, Simpler Containers as a Service (CaaS).
Welcome to Drycc Drycc Workflow is an open source container cloud platform.
Usually we also call it Container as a Service(CaaS) that adds a developer-friendly layer to any Kubernetes cluster, making it easy to deploy and manage applications.
Drycc Workflow includes capabilities for building and deploying from source via git push, simple application configuration, creating and rolling back releases, managing domain names and SSL certificates, providing seamless edge routing, aggregating logs, and sharing applications with teams.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Docs">
  <meta itemprop="description" content="A Open, Unified, Lightweight, Simpler Containers as a Service (CaaS).
Welcome to Drycc Drycc Workflow is an open source container cloud platform.
Usually we also call it Container as a Service(CaaS) that adds a developer-friendly layer to any Kubernetes cluster, making it easy to deploy and manage applications.
Drycc Workflow includes capabilities for building and deploying from source via git push, simple application configuration, creating and rolling back releases, managing domain names and SSL certificates, providing seamless edge routing, aggregating logs, and sharing applications with teams.">
  <meta itemprop="dateModified" content="2024-02-29T23:04:26+08:00">
  <meta itemprop="wordCount" content="153">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Docs">
  <meta name="twitter:description" content="A Open, Unified, Lightweight, Simpler Containers as a Service (CaaS).
Welcome to Drycc Drycc Workflow is an open source container cloud platform.
Usually we also call it Container as a Service(CaaS) that adds a developer-friendly layer to any Kubernetes cluster, making it easy to deploy and manage applications.
Drycc Workflow includes capabilities for building and deploying from source via git push, simple application configuration, creating and rolling back releases, managing domain names and SSL certificates, providing seamless edge routing, aggregating logs, and sharing applications with teams.">
<link rel="preload" href="/scss/main.min.c5f3972ecd14552b62d50499cdf962964cffcef39104da44781bfe2d89334f3c.css" as="style" integrity="sha256-xfOXLs0UVSti1QSZzflilkz/zvORBNpEeBv&#43;LYkzTzw=" crossorigin="anonymous">
<link href="/scss/main.min.c5f3972ecd14552b62d50499cdf962964cffcef39104da44781bfe2d89334f3c.css" rel="stylesheet" integrity="sha256-xfOXLs0UVSti1QSZzflilkz/zvORBNpEeBv&#43;LYkzTzw=" crossorigin="anonymous">
<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      <nav class="td-navbar js-navbar-scroll" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg width="30" height="30" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><circle id="Oval" stroke="#ff2f57" fill="#ff2f57" cx="3" cy="3" r="2"/><circle id="Oval" stroke="#ff2f57" fill="#ff2f57" cx="3" cy="13" r="2"/><circle id="Oval" stroke="#ff2f57" fill="#ff2f57" cx="13" cy="13" r="2"/><circle id="Oval" stroke="#ff2f57" fill="#ff2f57" cx="13" cy="13" r="2"/><circle id="Oval" stroke="#ff2f57" fill="#ff2f57" cx="13" cy="3" r="2"/><rect id="Rectangle" stroke="#3fb1e5" fill="#3fb1e5" x="6.5" y="6.5" width="3" height="3"/><polygon id="Triangle" stroke="#38bb4c" fill="#38bb4c" stroke-linejoin="round" points="8 11 10 15 6 15"/><polygon id="Triangle" stroke="#38bb4c" fill="#38bb4c" stroke-linejoin="round" transform="translate(3.000000, 8.000000) rotate(90.000000) translate(-3.000000, -8.000000)" points="3 6 5 10 1 10"/><polygon id="Triangle" stroke="#38bb4c" fill="#38bb4c" stroke-linejoin="round" transform="translate(8.000000, 3.000000) rotate(180.000000) translate(-8.000000, -3.000000)" points="8 1 10 5 6 5"/><polygon id="Triangle" stroke="#38bb4c" fill="#38bb4c" stroke-linejoin="round" transform="translate(13.000000, 8.000000) rotate(270.000000) translate(-13.000000, -8.000000)" points="13 6 15 10 11 10"/></g></svg></span><span class="navbar-brand__name">Drycc</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/about/"><span>About Us</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/docs/"><span>Docs</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/blog/"><span>Blog</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/community/"><span>Community</span></a>
      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.f289c1e4acebc2095c6ea9f5b314646a.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Docs</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-08b1b69f6319108b0455d24614fdd660">Quick Start</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.1: <a href="#pg-c44ef3d444be71ea9e19e6b46099120c">Quick Start</a></li>


    
  
    
    
	
<li>1.2: <a href="#pg-19de2e3ad5db012bc696e084bd521832">Install Workflow</a></li>


    
  
    
    
	
<li>1.3: <a href="#pg-70f22538a3706ab607f31f52253895b1">Drycc Workflow Client CLI</a></li>


    
  
    
    
	
<li>1.4: <a href="#pg-7323d78972f7284a5a82b3888ad3b56a">Deploy Your First App</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-c05ba8d7156e436f952f5f04fb1ed570">Understanding Workflow</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.1: <a href="#pg-26d236fa72225654c1d849add92dafa4">Concepts</a></li>


    
  
    
    
	
<li>2.2: <a href="#pg-c982d33ed1d4cdbe2048cc622558e243">Architecture</a></li>


    
  
    
    
	
<li>2.3: <a href="#pg-c8b3697d58439ac48af0e2f6d87073ea">Components</a></li>


    
  

    </ul>
    
  
    
    
	
<li>3: <a href="#pg-0803a90686533b29ef862bacde530be2">Installing To Kubenetes</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.1: <a href="#pg-46bc914b43c7294d3007db288d795021">Requirements</a></li>


    
  
    
    
	
<li>3.2: <a href="#pg-ee3fe110d0efcc1b34a882fb946886e4">Specify Gateway</a></li>


    
  
    
    
	
<li>3.3: <a href="#pg-8ff1c03ab1d2c9948af7ce8da6fa387a">Installing Drycc Workflow</a></li>


    
  
    
    
	
<li>3.4: <a href="#pg-295b46299c21cdb84c782750a6780f61">Configuring Object Storage</a></li>


    
  
    
    
	
<li>3.5: <a href="#pg-0d336adcc6b0a2147690be79cb9a7557">Configuring Postgres</a></li>


    
  
    
    
	
<li>3.6: <a href="#pg-fe6530b6e8ee56416ae8a9f905cc910c">Configuring Registry</a></li>


    
  

    </ul>
    
  
    
    
	
<li>4: <a href="#pg-f6e51c56e03dacc1b2d031da7e3608ab">Users</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>4.1: <a href="#pg-4fb0482339ab618b926388863b0a7831">Drycc Workflow  CLI</a></li>


    
  
    
    
	
<li>4.2: <a href="#pg-12c0c67f6b5849e4a51f8b6f7c8d4df3">Users and Registration</a></li>


    
  
    
    
	
<li>4.3: <a href="#pg-58441c0d4701f07c911ce8422802623a">Users and SSH Keys</a></li>


    
  

    </ul>
    
  
    
    
	
<li>5: <a href="#pg-4d0bf8c20c038033cbbccd99ba61313f">Applications</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>5.1: <a href="#pg-39cba0eed348438976fb73c0202d32e7">Deploying an Application</a></li>


    
  
    
    
	
<li>5.2: <a href="#pg-e96b3fec23ec2a2036cb1009c6e0f7b9">Using Buildpacks</a></li>


    
  
    
    
	
<li>5.3: <a href="#pg-bad1760884a3d1568108fc1c87043baf">Using Dockerfiles</a></li>


    
  
    
    
	
<li>5.4: <a href="#pg-911ae34b8caae3b502b7d403c569c269">Using Docker Images</a></li>


    
  
    
    
	
<li>5.5: <a href="#pg-3513e6172bfa8a431b2e8b6aadf643c9">Managing Application Processes</a></li>


    
  
    
    
	
<li>5.6: <a href="#pg-f7fe2ebef366052e0d8bfb14e3e044f5">Configuring an Application</a></li>


    
  
    
    
	
<li>5.7: <a href="#pg-9db3915fd6ded30b69a25418cc7df8c0">Managing Application Metrics</a></li>


    
  
    
    
	
<li>5.8: <a href="#pg-8b23c65b4ab7634b1e278d7873029bf6">Managing an Application</a></li>


    
  
    
    
	
<li>5.9: <a href="#pg-4f70d2fc7490bc1f7a4aba25dd86ea12">Mounting volumes for an Application</a></li>


    
  
    
    
	
<li>5.10: <a href="#pg-d364e5ac44490f83dacb071ecdaaebb8">About gateway for an Application</a></li>


    
  
    
    
	
<li>5.11: <a href="#pg-b120b91d31144e14252d09e3351ac63d">Managing resources for an Application</a></li>


    
  
    
    
	
<li>5.12: <a href="#pg-af7e8c313c7749aeeb64a743cd877d8c">Inter-app Communication</a></li>


    
  
    
    
	
<li>5.13: <a href="#pg-3d9c4efe910f455454c4946b64225b5f">Resource Limits</a></li>


    
  
    
    
	
<li>5.14: <a href="#pg-587aac9ca7fb3c0e091c5b73ec65588b">Domains and Routing</a></li>


    
  
    
    
	
<li>5.15: <a href="#pg-ea3f4f0325f471c26fd2281464da7884">Application SSL Certificates</a></li>


    
  
    
    
	
<li>5.16: <a href="#pg-25a98ad7024438acf828ac381152307f">Using drycc path</a></li>


    
  

    </ul>
    
  
    
    
	
<li>6: <a href="#pg-ea0f1e2986b13c87aadf36ffbecbe08e">Managing Workflow</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>6.1: <a href="#pg-0e712a5c2020887818ceab36d4f26910">Tuning Component Settings</a></li>


    
  
    
    
	
<li>6.2: <a href="#pg-a1258f39e96a14029efa8d7c379f95a4">Configure DNS</a></li>


    
  
    
    
	
<li>6.3: <a href="#pg-5e70dabb651ba434bf52f6a0f428d092">Deploy Hooks</a></li>


    
  
    
    
	
<li>6.4: <a href="#pg-004a15eb4cb73246d89366dd9838d84d">Platform Logging</a></li>


    
  
    
    
	
<li>6.5: <a href="#pg-fd8f5f6dc2937f1343d4f1cd4660ae35">Platform Monitoring</a></li>


    
  
    
    
	
<li>6.6: <a href="#pg-ad04652ad398a8700cd2996d3d721e6f">Production Deployments</a></li>


    
  
    
    
	
<li>6.7: <a href="#pg-f30a865310ec754108a4ce6a32869210">Upgrading Workflow</a></li>


    
  

    </ul>
    
  
    
    
	
<li>7: <a href="#pg-cec98a3a5ff74162065d32be41bf560a">Troubleshooting</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>7.1: <a href="#pg-ae09ee5bda595915162c64bb5b058028">Troubleshooting Workflow</a></li>


    
  
    
    
	
<li>7.2: <a href="#pg-804be11dbfa1e18a9008195da92602ff">Troubleshooting using Kubectl</a></li>


    
  
    
    
	
<li>7.3: <a href="#pg-840798867228de33b883f3d76e5df256">Troubleshooting Applications</a></li>


    
  

    </ul>
    
  
    
    
	
<li>8: <a href="#pg-99222d24d8be89b4e4f9ce2e8603cbd4">Roadmap</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>8.1: <a href="#pg-99009c3172bc9dbfc3e228e3834c0e23">Planning Process</a></li>


    
  
    
    
	
<li>8.2: <a href="#pg-193cadd1e11bc399214b229fd4fd16ac">Drycc Workflow Roadmap</a></li>


    
  
    
    
	
<li>8.3: <a href="#pg-a943759f7c91da926ba8084d243fbd69">Releases</a></li>


    
  

    </ul>
    
  
    
    
	
<li>9: <a href="#pg-99a93ef9534d11fef4be3e4b3b1a6381">Contribution Guidelines</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>9.1: <a href="#pg-08b3aded2d13ce44d558e3dbcae74ffc">Contributor Overview</a></li>


    
  
    
    
	
<li>9.2: <a href="#pg-08cd9bebc85c4a3f6153fd18dbdf2839">Design Documents</a></li>


    
  
    
    
	
<li>9.3: <a href="#pg-9b090b68781587a95f4d69fa53a87a54">Development Environment</a></li>


    
  
    
    
	
<li>9.4: <a href="#pg-47d4efce1065e77690f7e726aed1dbb8">Testing Drycc</a></li>


    
  
    
    
	
<li>9.5: <a href="#pg-43f98400fc0eff3cda8a4dd6d3e62a68">Submitting a Pull Request</a></li>


    
  
    
    
	
<li>9.6: <a href="#pg-b581d1fa63cd0c7a51cc4e1fd2e702fb">Community</a></li>


    
  
    
    
	
<li>9.7: <a href="#pg-b6d4c4d8ed97156c0da739a10438e7e1">Triaging Issues</a></li>


    
  
    
    
	
<li>9.8: <a href="#pg-d54e8090fa4a6e4a2126e18228389dba">Conduct</a></li>


    
  
    
    
	
<li>9.9: <a href="#pg-c1c48ff60a45c08dad6207a502065b32">Drycc Maintainers</a></li>


    
  

    </ul>
    
  
    
    
	
<li>10: <a href="#pg-af8ec3493d5fd50ccf5c1779b10c574e">Reference Guide</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>10.1: <a href="#pg-8dc8e2744c72e06d155d31efb9f8001f">Creating a Self-Signed SSL Certificate</a></li>


    
  
    
    
	
<li>10.2: <a href="#pg-8a47178b8f3a1af42c395fef1a635765">Controller API v2.0</a></li>


    
  
    
    
	
<li>10.3: <a href="#pg-cee50ca92714d97db6e9e68bc506be78">Controller API v2.1</a></li>


    
  
    
    
	
<li>10.4: <a href="#pg-b5fb7561bc7d913f5efd9e06d7b13c33">Controller API v2.2</a></li>


    
  
    
    
	
<li>10.5: <a href="#pg-6272bef032a9303c3be681bdf0c9d07b">Controller API v2.3</a></li>


    
  

    </ul>
    
  

    </ul>


<div class="content">
      

<div class="pageinfo pageinfo-primary">
<p>A Open, Unified, Lightweight, Simpler Containers as a Service (CaaS).</p>

</div>

<h2 id="welcome-to-drycc">Welcome to Drycc<a class="td-heading-self-link" href="#welcome-to-drycc" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow is an open source container cloud platform.</p>
<p>Usually we also call it Container as a Service(CaaS) that adds a developer-friendly layer
to any Kubernetes cluster, making it easy to deploy and manage applications.</p>
<p>Drycc Workflow includes capabilities for building and deploying from source via <code>git push</code>, simple
application configuration, creating and rolling back releases, managing domain names and SSL
certificates, providing seamless edge routing, aggregating logs, and sharing applications with
teams. All of this is exposed through a simple REST API and command line interface.</p>
<h2 id="getting-started">Getting Started<a class="td-heading-self-link" href="#getting-started" aria-label="Heading self-link"></a></h2>
<p>To get started with Workflow, follow our <a href="/docs/quickstart/">Quick Start</a> guide.</p>
<p>Take a deep dive into Drycc Workflow in our <a href="/docs/understanding-workflow/concepts/">Concepts</a>, <a href="/docs/understanding-workflow/architecture/">Architecture</a>, and
<a href="/docs/understanding-workflow/components/">Components</a> sections.</p>
<p>Feel like contibuting some code or want to get started as a maintainer? Pick an issue tagged as an
<a href="https://github.com/pulls?utf8=%E2%9C%93&q=user%3Adrycc+label%3A%22easy+fix%22+is%3Aopen">easy fix</a> or <a href="https://github.com/pulls?utf8=%E2%9C%93&q=user%3Adrycc+label%3A%22help+wanted%22+is%3Aopen">help wanted</a> and start contributing!</p>

</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-08b1b69f6319108b0455d24614fdd660">1 - Quick Start</h1>
    <div class="lead">Step-by-step guides for deploying your first app and mastering the basics of Drycc.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-c44ef3d444be71ea9e19e6b46099120c">1.1 - Quick Start</h1>
    <div class="lead">This guide helps you set up the Drycc workflow.</div>
	<p>Get started with Drycc Workflow in three easy steps.</p>
<ol>
<li>Install CLI tools for Helm and Drycc Workflow</li>
<li>Boot a Kubernetes and install Drycc Workflow</li>
<li>Deploy your first application</li>
</ol>
<p>This guide will help you set up a cluster suitable for evaluation, development and testing. When you are ready for staging and production, view our <a href="/docs/managing-workflow/production-deployments/">production checklist</a>.</p>
<h2 id="step-1-install-workflow">Step 1: Install Workflow<a class="td-heading-self-link" href="#step-1-install-workflow" aria-label="Heading self-link"></a></h2>
<p>For the quickstart we will <a href="/docs/quickstart/install-workflow/">install Drycc Workflow</a>.</p>
<h2 id="step-2-install-cli-tools">Step 2: Install CLI tools<a class="td-heading-self-link" href="#step-2-install-cli-tools" aria-label="Heading self-link"></a></h2>
<p>For the quickstart we will <a href="/docs/quickstart/install-cli-tools/">install Drycc Workflow CLI</a>.</p>
<h2 id="step-3-deploy-your-first-app">Step 3: Deploy your first app<a class="td-heading-self-link" href="#step-3-deploy-your-first-app" aria-label="Heading self-link"></a></h2>
<p>Last but not least, <a href="/docs/quickstart/deploy-an-app/">login and deploy your first application</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-19de2e3ad5db012bc696e084bd521832">1.2 - Install Workflow</h1>
    <div class="lead">Install Workflow in pure host, it can be a cloud server, bare metal server, virtual machine, or even your laptop.</div>
	<p>If you have a pure host, it can be a cloud server, bare metal server, virtual machine, or even your laptop. Then this chapter is very suitable for you.</p>
<h2 id="operating-systems">Operating Systems<a class="td-heading-self-link" href="#operating-systems" aria-label="Heading self-link"></a></h2>
<p>Drycc is expected to work on most modern Linux systems. Some OSS have specific requirements:</p>
<ul>
<li>(Red Hat/CentOS) Enterprise Linux, they usually use RPM package management.</li>
<li>Ubuntu (Desktop/Server/Cloud) Linux, a very popular distribution.</li>
<li>Debian GNU Linux, a very pure distribution of opensource software.</li>
</ul>
<p>If you want to add more Linux distribution support, please submit a issue on github or submit PR directly.</p>
<h2 id="system-software">System Software<a class="td-heading-self-link" href="#system-software" aria-label="Heading self-link"></a></h2>
<p>Some basic software needs to be installed before installing drycc workflow.</p>
<h3 id="os-configuration">OS configuration<a class="td-heading-self-link" href="#os-configuration" aria-label="Heading self-link"></a></h3>
<p>K8s requires a large number of ports. If you are not sure what they are, please close the local firewall or open these ports.
At the same time, because k8s you need system time, you need to ensure that the system time is correct.</p>
<h3 id="installing-nfsv4-client">Installing NFSv4 client<a class="td-heading-self-link" href="#installing-nfsv4-client" aria-label="Heading self-link"></a></h3>
<p>The command used to install a NFSv4 client differs depending on the Linux distribution.</p>
<p>For Debian and Ubuntu, use this command:</p>
<pre tabindex="0"><code>$ apt-get install nfs-common
</code></pre><p>For RHEL, CentOS, and EKS with EKS Kubernetes Worker AMI with AmazonLinux2 image, use this command:</p>
<pre tabindex="0"><code>$ yum install nfs-utils
</code></pre><h3 id="installing-curl">Installing curl<a class="td-heading-self-link" href="#installing-curl" aria-label="Heading self-link"></a></h3>
<p>For Debian and Ubuntu, use this command:</p>
<pre tabindex="0"><code>$ apt-get install curl
</code></pre><p>For RHEL, CentOS, and EKS with EKS Kubernetes Worker AMI with AmazonLinux2 image, use this command:</p>
<pre tabindex="0"><code>$ yum install curl
</code></pre><h2 id="hardware">Hardware<a class="td-heading-self-link" href="#hardware" aria-label="Heading self-link"></a></h2>
<p>Hardware requirements scale based on the size of your deployments. Minimum recommendations are outlined here.</p>
<ul>
<li>RAM: 1G Minimum (we recommend at least 2GB)</li>
<li>CPU: 1 Minimum</li>
</ul>
<p>This configuration only contains the minimum requirements that can meet the operation.</p>
<h2 id="disk">Disk<a class="td-heading-self-link" href="#disk" aria-label="Heading self-link"></a></h2>
<p>Drycc performance depends on the performance of the database. To ensure optimal speed, we recommend using an SSD when possible. Disk performance will vary on ARM devices utilizing an SD card or eMMC.</p>
<h2 id="domain-name">Domain Name<a class="td-heading-self-link" href="#domain-name" aria-label="Heading self-link"></a></h2>
<p>Drycc needs a root domain name under your full control and points this domain name to the server to be installed.
Suppose there is a wildcard domain pointing to the current server to install drycc, which is the name <code>*.dryccdoman.com</code>.
We need to set the <code>PLATFORM_DOMAIN</code> environment variables before installation.</p>
<pre tabindex="0"><code>$ export PLATFORM_DOMAIN=dryccdoman.co
</code></pre><p>Of course, if it is a test environment, we can also use <code>nip.io</code>, an IP to domain name service.
For example, your host IP is <code>59.46.3.190</code>, we will get the following domain name <code>59.46.3.190.nip.io</code></p>
<pre tabindex="0"><code>$ export PLATFORM_DOMAIN=59.46.3.190.nip.io
</code></pre><h2 id="install">Install<a class="td-heading-self-link" href="#install" aria-label="Heading self-link"></a></h2>
<p>Before installation, please make sure whether your installation environment is a public network.
If it is an intranet environment and there is no public IP, you need to disable the automatic certificate.</p>
<pre tabindex="0"><code>$ export CERT_MANAGER_ENABLED=false
</code></pre><p>Then you can use the installation script available at <a href="https://www.drycc.cc/install.sh">https://www.drycc.cc/install.sh</a> to install drycc as a service on systemd and openrc based systems.</p>
<pre tabindex="0"><code>$ curl -sfL https://www.drycc.cc/install.sh | bash -
</code></pre><p>!!! important
If you are in China, you need to use mirror acceleration:</p>
<pre><code>```
$ curl -sfL https://www.drycc.cc/install.sh | INSTALL_DRYCC_MIRROR=cn bash -
```
</code></pre>
<h3 id="install-node">Install Node<a class="td-heading-self-link" href="#install-node" aria-label="Heading self-link"></a></h3>
<p>Node can be a simple agent or a server; Server has the function of agent. Multiple servers have high availability, but the number of servers should not
exceed 7 at most. There is no limit to the number of agents.</p>
<ul>
<li>First, check the cluster token of the master.</li>
</ul>
<pre tabindex="0"><code>$ cat /var/lib/rancher/k3s/server/node-token
K1078e7213ca32bdaabb44536f14b9ce7926bb201f41c3f3edd39975c16ff4901ea::server:33bde27f-ac49-4483-b6ac-f4eec2c6dbfa
</code></pre><p>We assume that the IP address of the cluster master is <code>192.168.6.240</code>, in that way.</p>
<ul>
<li>Then, Set the environment variable:</li>
</ul>
<pre tabindex="0"><code>$ export K3S_URL=https://192.168.6.240:6443
$ export K3S_TOKEN=&#34;K1078e7213ca32bdaabb44536f14b9ce7926bb201f41c3f3edd39975c16ff4901ea::server:33bde27f-ac49-4483-b6ac-f4eec2c6dbfa&#34;
</code></pre><p>!!! important
If you are in China, you need to use mirror acceleration:</p>
<pre><code>```
$ export INSTALL_DRYCC_MIRROR=cn
```
</code></pre>
<ul>
<li>Join the cluster as server:</li>
</ul>
<pre tabindex="0"><code>$ curl -sfL https://www.drycc.cc/install.sh | bash -s - install_k3s_server
</code></pre><ul>
<li>Join the cluster as agent:</li>
</ul>
<pre tabindex="0"><code>$ curl -sfL https://www.drycc.cc/install.sh | bash -s - install_k3s_agent
</code></pre><h3 id="install-options">Install Options<a class="td-heading-self-link" href="#install-options" aria-label="Heading self-link"></a></h3>
<p>When using this method to install drycc, the following environment variables can be used to configure the installation:</p>
<table>
<thead>
<tr>
<th>ENVIRONMENT VARIABLE</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td>PLATFORM_DOMAIN</td>
<td>Required item, specify drycc&rsquo;s domain name</td>
</tr>
<tr>
<td>DRYCC_ADMIN_USERNAME</td>
<td>Required item, specify drycc&rsquo;s admin username</td>
</tr>
<tr>
<td>DRYCC_ADMIN_PASSWORD</td>
<td>Required item, specify drycc&rsquo;s admin password</td>
</tr>
<tr>
<td>CERT_MANAGER_ENABLED</td>
<td>Whether to use automatic certificate. It is <code>false</code> by default</td>
</tr>
<tr>
<td>CHANNEL</td>
<td>By default, <code>stable</code> channel will be installed. You can also specify <code>testing</code></td>
</tr>
<tr>
<td>KUBERNETES_SERVICE_HOST</td>
<td>Set with the HOST of the loadbalancer that was in front of kube-apiserver</td>
</tr>
<tr>
<td>KUBERNETES_SERVICE_PORT</td>
<td>Set with the PORT of the loadbalancer that was in front of kube-apiserver</td>
</tr>
<tr>
<td>METALLB_CONFIG_FILE</td>
<td>The metallb config file path, layer 2 network is used by default</td>
</tr>
<tr>
<td>LONGHORN_CONFIG_FILE</td>
<td>The Longhorn config file path</td>
</tr>
<tr>
<td>INSTALL_DRYCC_MIRROR</td>
<td>Specify the accelerated mirror location. Currently, only <code>cn</code> is supported</td>
</tr>
<tr>
<td>BUILDER_REPLICAS</td>
<td>Number of builder replicas to deploy</td>
</tr>
<tr>
<td>CONTROLLER_API_REPLICAS</td>
<td>Number of controller api replicas to deploy</td>
</tr>
<tr>
<td>CONTROLLER_CELERY_REPLICAS</td>
<td>Number of controller celery replicas to deploy</td>
</tr>
<tr>
<td>CONTROLLER_WEBHOOK_REPLICAS</td>
<td>Number of controller webhook replicas to deploy</td>
</tr>
<tr>
<td>CONTROLLER_APP_RUNTIME_CLASS</td>
<td>RuntimeClass is a feature for selecting the container runtime configuration.</td>
</tr>
<tr>
<td>CONTROLLER_APP_GATEWAY_CLASS</td>
<td>GatewayClass allocated by <code>drycc gateways</code>; default GatewayClass is used by default</td>
</tr>
<tr>
<td>CONTROLLER_APP_STORAGE_CLASS</td>
<td>StorageClass allocated by <code>drycc volumes</code>; default storageClass is used by default</td>
</tr>
<tr>
<td>VALKEY_PERSISTENCE_SIZE</td>
<td>The size of the persistence space allocated to <code>valkey</code>, which is <code>5Gi</code> by default</td>
</tr>
<tr>
<td>VALKEY_PERSISTENCE_STORAGE_CLASS</td>
<td>StorangeClass of <code>valkey</code>; default storangeclass is used by default</td>
</tr>
<tr>
<td>STORAGE_PERSISTENCE_SIZE</td>
<td>The size of the persistence space allocated to <code>storage</code>, which is <code>5Gi</code> by default</td>
</tr>
<tr>
<td>STORAGE_PERSISTENCE_STORAGE_CLASS</td>
<td>StorangeClass of <code>storage</code>; default storangeclass is used by default</td>
</tr>
<tr>
<td>MONITOR_GRAFANA_PERSISTENCE_SIZE</td>
<td>The size of the persistence space allocated to <code>monitor.grafana</code>, which is <code>5Gi</code> by default</td>
</tr>
<tr>
<td>MONITOR_GRAFANA_PERSISTENCE_STORAGE_CLASS</td>
<td>StorangeClass of <code>monitor</code> grafana; default storangeclass is used by default</td>
</tr>
<tr>
<td>DATABASE_PERSISTENCE_SIZE</td>
<td>The size of the persistence space allocated to <code>database</code>, which is <code>5Gi</code> by default</td>
</tr>
<tr>
<td>DATABASE_PERSISTENCE_STORAGE_CLASS</td>
<td>StorangeClass of <code>database</code>; default storangeclass is used by default</td>
</tr>
<tr>
<td>TIMESERIES_REPLICAS</td>
<td>Number of timeseries replicas to deploy</td>
</tr>
<tr>
<td>TIMESERIES_PERSISTENCE_SIZE</td>
<td>The size of the persistence space allocated to <code>timeseries</code>, which is <code>5Gi</code> by default</td>
</tr>
<tr>
<td>TIMESERIES_PERSISTENCE_STORAGE_CLASS</td>
<td>StorangeClass of <code>timeseries</code>; default storangeclass is used by default</td>
</tr>
<tr>
<td>PASSPORT_REPLICAS</td>
<td>Number of passport replicas to deploy</td>
</tr>
<tr>
<td>REGISTRY_REPLICAS</td>
<td>Number of registry replicas to deploy</td>
</tr>
<tr>
<td>HELMBROKER_REPLICAS</td>
<td>Number of helmbroker api replicas to deploy</td>
</tr>
<tr>
<td>HELMBROKER_CELERY_REPLICAS</td>
<td>Number of helmbroker celery replicas to deploy</td>
</tr>
<tr>
<td>HELMBROKER_PERSISTENCE_SIZE</td>
<td>The size of the persistence space allocated to <code>helmbroker</code>, which is <code>5Gi</code> by default</td>
</tr>
<tr>
<td>HELMBROKER_PERSISTENCE_STORAGE_CLASS</td>
<td>StorangeClass of <code>helmbroker</code>; default storangeclass is used by default</td>
</tr>
<tr>
<td>VICTORIAMETRICS_CONFIG_FILE</td>
<td>The path of the victoriametrics configuration file, turn on this, the two below won&rsquo;t work.</td>
</tr>
<tr>
<td>VICTORIAMETRICS_VMAGENT_PERSISTENCE_SIZE</td>
<td>The size of the persistence space allocated to <code>victoriametrics</code> vmagent, which is <code>10Gi</code> by default</td>
</tr>
<tr>
<td>VICTORIAMETRICS_VMAGENT_PERSISTENCE_STORAGE_CLASS</td>
<td>StorangeClass of <code>victoriametrics</code> vmagent; default storangeclass is used by default</td>
</tr>
<tr>
<td>VICTORIAMETRICS_VMSTORAGE_PERSISTENCE_SIZE</td>
<td>The size of the persistence space allocated to <code>victoriametrics</code> vmstorage, which is <code>10Gi</code> by default</td>
</tr>
<tr>
<td>VICTORIAMETRICS_VMSTORAGE_PERSISTENCE_STORAGE_CLASS</td>
<td>StorangeClass of <code>victoriametrics</code> vmstorage; default storangeclass is used by default</td>
</tr>
<tr>
<td>K3S_DATA_DIR</td>
<td>The config of k3s data dir; If not set, the default path is used</td>
</tr>
<tr>
<td>ACME_SERVER</td>
<td>ACME Server url, default use letsencrypt</td>
</tr>
<tr>
<td>ACME_EAB_KEY_ID</td>
<td>The key ID of which your external account binding is indexed by the external account</td>
</tr>
<tr>
<td>ACME_EAB_KEY_SECRET</td>
<td>The key Secret of which your external account symmetric MAC key</td>
</tr>
</tbody>
</table>
<p>Since the installation script will install k3s, other environment variables can refer to k3s installation <a href="https://rancher.com/docs/k3s/latest/en/installation/install-options/">environment variables</a>.</p>
<h2 id="uninstall">Uninstall<a class="td-heading-self-link" href="#uninstall" aria-label="Heading self-link"></a></h2>
<p>If you installed drycc using an installation script, you can uninstall the entire drycc using this script.</p>
<pre tabindex="0"><code>$ curl -sfL https://www.drycc.cc/uninstall.sh | bash -
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-70f22538a3706ab607f31f52253895b1">1.3 - Drycc Workflow Client CLI</h1>
    <div class="lead">How to download, install Drycc CLI tools.</div>
	<h2 id="drycc-workflow-client-cli">Drycc Workflow Client CLI<a class="td-heading-self-link" href="#drycc-workflow-client-cli" aria-label="Heading self-link"></a></h2>
<p>The Drycc command-line interface (CLI), lets you interact with Drycc Workflow.
Use the CLI to create and configure and manage applications.</p>
<p>Install the <code>drycc</code> client for Linux or Mac OS X with:</p>
<pre tabindex="0"><code>$ curl -sfL https://www.drycc.cc/install-cli.sh | bash -
</code></pre><p>!!! important
Users in Chinese mainland can use the following methods to speed up installation:</p>
<pre><code>```
$ curl -sfL https://www.drycc.cc/install-cli.sh | INSTALL_DRYCC_MIRROR=cn bash -
```
</code></pre>
<p>Others please visit: <a href="https://github.com/drycc/workflow-cli/releases">https://github.com/drycc/workflow-cli/releases</a></p>
<p>The installer places the <code>drycc</code> binary in your current directory, but you
should move it somewhere in your $PATH:</p>
<pre tabindex="0"><code>$ sudo ln -fs $PWD/drycc /usr/local/bin/drycc
</code></pre><p><em>or</em>:</p>
<pre tabindex="0"><code>$ sudo mv $PWD/drycc /usr/local/bin/drycc
</code></pre><p>Check your work by running <code>drycc version</code>:</p>
<pre tabindex="0"><code>$ drycc version
v1.1.0
</code></pre><p>Update workflow cli to latest release.</p>
<pre tabindex="0"><code>drycc update
</code></pre><p>!!! note
Note that version numbers may vary as new releases become available</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7323d78972f7284a5a82b3888ad3b56a">1.4 - Deploy Your First App</h1>
    <div class="lead">Deploy an application using drycc cli.</div>
	<h2 id="determine-your-host-and-hostname-values">Determine Your Host and Hostname Values<a class="td-heading-self-link" href="#determine-your-host-and-hostname-values" aria-label="Heading self-link"></a></h2>
<p>Drycc workflow requires a wildcard DNS record to dynamically map app names to the router.</p>
<p>User should already have DNS set up pointing to their known host. The <code>$hostname</code> value can be calculated by prepending <code>drycc.</code> to the value set in <code>global.platformDomain</code>.</p>
<h2 id="login-to-workflow">Login to Workflow<a class="td-heading-self-link" href="#login-to-workflow" aria-label="Heading self-link"></a></h2>
<p>Workflow use the passport component to create and authorize users.
If you already have an account, use <code>drycc login</code> to authenticate against the Drycc Workflow API.</p>
<pre tabindex="0"><code>$ drycc login http://drycc.example.com
Opening browser to http://drycc.example.com/v2/login/drycc/?key=4ccc81ee2dce4349ad5261ceffe72c71
Waiting for login... .o.Logged in as admin
Configuration file written to /root/.drycc/client.json
</code></pre><p>Or you can login with username and password</p>
<pre tabindex="0"><code>$ drycc login http://drycc.example.com --username=demo --password=demo
Configuration file written to /root/.drycc/client.json
</code></pre><h2 id="deploy-an-application">Deploy an Application<a class="td-heading-self-link" href="#deploy-an-application" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow supports three different types of applications, Buildpacks,
Dockerfiles and Container Images. Our first application will be a simple Container
Image-based application, so you don&rsquo;t have to wrestle with checking out code.</p>
<p>Run <code>drycc create</code> to create a new application on Drycc Workflow. If you do not
specify a name for your application, Workflow automatically generates a
friendly (and sometimes funny) name.</p>
<pre tabindex="0"><code>$ drycc create --no-remote
Creating Application... done, created proper-barbecue
If you want to add a git remote for this app later, use `drycc git remote -a proper-barbecue`
</code></pre><p>Our application has been created and named <code>proper-barbecue</code>. As with the
<code>drycc</code> hostname, any HTTP traffic to <code>proper-barbecue</code> will be automatically
routed to your application pods by the edge router.</p>
<p>Let&rsquo;s use the CLI to tell the platform to deploy an application and then use curl to send a request to the app:</p>
<pre tabindex="0"><code>$ drycc pull drycc/example-go -a proper-barbecue
Creating build... done
$ curl http://proper-barbecue.$hostname
Powered by Drycc
</code></pre><p>!!! note
If you see a 404 error, make sure you specified your application name with <code>-a &lt;appname&gt;</code>!</p>
<p>Workflow&rsquo;s edge router knows all about application names and automatically
sends traffic to the right application. The router sends traffic for
<code>proper-barbecue.104.197.125.75.nip.io</code> to your app, just like
<code>drycc.104.197.125.75.nip.io</code> was sent to the Workflow API service.</p>
<h2 id="change-application-configuration">Change Application Configuration<a class="td-heading-self-link" href="#change-application-configuration" aria-label="Heading self-link"></a></h2>
<p>Next, let&rsquo;s change some configuration using the CLI. Our example app is built
to read configuration from the environment. By using <code>drycc config set</code> we can
change how the application behaves:</p>
<pre tabindex="0"><code>$ drycc config set POWERED_BY=&#34;Container Images + Kubernetes&#34; -a proper-barbecue
Creating config... done
</code></pre><p>Behind the scenes, Workflow creates a new release for your application and uses
Kubernetes to provide a zero-downtime rolling deploy to the new release!</p>
<p>Validate that our configuration change has worked:</p>
<pre tabindex="0"><code>$ curl http://proper-barbecue.104.197.125.75.nip.io
Powered by Container Images + Kubernetes
</code></pre><h2 id="scale-your-application">Scale Your Application<a class="td-heading-self-link" href="#scale-your-application" aria-label="Heading self-link"></a></h2>
<p>Last, let&rsquo;s scale our application by adding more application processes. Using the CLI you can easily add and remove
additional processes to service requests:</p>
<pre tabindex="0"><code>$ drycc scale web=2 -a proper-barbecue
Scaling processes... but first, coffee!
done in 36s

NAME                                RELEASE    STATE    PTYPE       STARTED
proper-barbecue-v18-web-rk644       v18        up       web         2023-12-08T03:09:25UTC
proper-barbecue-v18-web-0ag04       v18        up       web         2023-12-08T03:09:25UTC
</code></pre><p>Congratulations! You have deployed, configured, and scaled your first application using Drycc Workflow.</p>
<h2 id="going-further">Going Further<a class="td-heading-self-link" href="#going-further" aria-label="Heading self-link"></a></h2>
<p>There is a lot more you can do with Drycc Workflow, play around with the CLI:</p>
<p>!!! important
In order to have permission to push an app you must add a SSH key to your user on the Drycc Workflow.
For more information, please check <a href="/docs/users/ssh-keys/">Users and SSH Keys</a> and <a href="/docs/troubleshooting/">Troubleshooting Workflow</a>.</p>
<ul>
<li>Roll back to a previous release with <code>drycc rollback -a proper-barbecue</code></li>
<li>See application logs with <code>drycc logs -a proper-barbecue</code></li>
<li>Try one of our other example applications like:
<ul>
<li><a href="https://github.com/drycc/ruby-getting-started">drycc/ruby-getting-started</a></li>
<li><a href="https://github.com/drycc/python-getting-started">drycc/python-getting-started</a></li>
<li><a href="https://github.com/drycc/php-getting-started">drycc/php-getting-started</a></li>
</ul>
</li>
<li>Read about using application <a href="/docs/applications/using-buildpacks/">Buildpacks</a> or <a href="/docs/applications/using-dockerfiles/">Dockerfiles</a></li>
<li>Join our <a href="https://drycc.slack.com/">#community slack channel</a> and meet the team!</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c05ba8d7156e436f952f5f04fb1ed570">2 - Understanding Workflow</h1>
    <div class="lead">Understanding the architecture design of workflow.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-26d236fa72225654c1d849add92dafa4">2.1 - Concepts</h1>
    <div class="lead">Drycc Workflow is a lightweight application platform that deploys and scales Twelve-Factor apps as containers across a Kubernetes cluster.</div>
	<h2 id="twelve-factor-applications">Twelve-Factor Applications<a class="td-heading-self-link" href="#twelve-factor-applications" aria-label="Heading self-link"></a></h2>
<p>The <a href="http://12factor.net/">Twelve-Factor App</a> is a methodology for building modern
applications that can be scaled across a distributed system.</p>
<p>Twelve-factor is a valuable synthesis of years of experience with
software-as-a-service apps in the wild, particularly on the
Heroku platform.</p>
<p>Workflow is designed to run applications that adhere to the <a href="http://12factor.net/">Twelve-Factor App</a>
methodology and best practices.</p>
<h2 id="kubernetes">Kubernetes<a class="td-heading-self-link" href="#kubernetes" aria-label="Heading self-link"></a></h2>
<p><a href="https://kubernetes.io">Kubernetes</a> is an open-source cluster manager developed by Google and
donated to the <a href="https://cncf.io/">Cloud Native Compute Foundation</a>. Kubernetes manages all
the activity on your cluster, including: desired state convergence, stable
service addresses, health monitoring, service discovery, and DNS resolution.</p>
<p>Workflow builds upon Kubernetes abstractions like Services,
Deployments and Pods to provide a developer-friendly experience.
Building containers directly from application source code, aggregating logs,
and managing deployment configurations and app releases are just some of the
features Workflow adds.</p>
<p>Drycc Workflow is a set of Kubernetes-native components, installable via
<a href="https://github.com/kubernetes/helm">Helm</a>. Systems engineers who are familiar with Kubernetes will feel right
at home running Workflow.</p>
<p>See the <a href="/docs/understanding-workflow/components/">components</a> overview for more detail.</p>
<h2 id="container">Container<a class="td-heading-self-link" href="#container" aria-label="Heading self-link"></a></h2>
<p>[Container][] is an open source project to build, ship and run any
application as a lightweight, portable, self-sufficient container.</p>
<p>If you have not yet converted your application to containers, Workflow provides
a simple and straightforward &ldquo;source to Container image&rdquo; capability. Supporting
multiple language runtimes via community <a href="/docs/applications/using-buildpacks/">buildpacks</a>, building your application
in a container can be as easy as <code>git push drycc master</code>.</p>
<p>Applications which use either a Dockerfile or reference external Container
images are launched unmodified.</p>
<h2 id="applications">Applications<a class="td-heading-self-link" href="#applications" aria-label="Heading self-link"></a></h2>
<p>Workflow is designed around the concept of an <a href="../reference-guide/terms.md#application">application</a>, or app.</p>
<p>Applications come in one of three forms:</p>
<ol>
<li>a collection of source files stored in a <code>git</code> repository</li>
<li>a Dockerfile and associated source files stored in a <code>git</code> repository</li>
<li>a reference to an existing image at a Container repository</li>
</ol>
<p>Applications are identified by a unique name for easy reference. If you do not
specify a name when creating your application, Workflow generates one for you.
Workflow also manages related information, including domain names, SSL
certificates, and developer-provided configuration.</p>
<h2 id="build-release-run">Build, Release, Run<a class="td-heading-self-link" href="#build-release-run" aria-label="Heading self-link"></a></h2>
<p><img alt="Git Push Workflow" src="../../diagrams/Git_Push_Flow.png"></p>
<h3 id="build-stage">Build Stage<a class="td-heading-self-link" href="#build-stage" aria-label="Heading self-link"></a></h3>
<p>The <a href="/docs/understanding-workflow/components/#builder">builder</a> component processes incoming <code>git push drycc master</code> requests
and manages your application packaging.</p>
<p>If your application is using a <a href="/docs/applications/using-buildpacks/">buildpack</a>, builder will launch an ephemeral
job to extract and execute the packaging instructions. The resulting
application artifact is stored by the platform for execution during the run
stage.</p>
<p>If instead builder finds a <a href="/docs/applications/using-dockerfiles/">Dockerfile</a>, it follows those instructions to
create a Container image. The resulting artifact is stored in a Drycc-managed registry which
will be referenced during the run stage.</p>
<p>If another system already builds and packages your application, that container
artifact can be used directly. When referencing an <a href="/docs/applications/using-container-images/">external Container
image</a>, the builder component doesn&rsquo;t attempt to repackage your
app.</p>
<h3 id="release-stage">Release Stage<a class="td-heading-self-link" href="#release-stage" aria-label="Heading self-link"></a></h3>
<p>During the release stage, a <a href="../reference-guide/terms.md#build">build</a> is combined with <a href="../reference-guide/terms.md#config">application configuration</a>
to create a new, numbered <a href="../reference-guide/terms.md#release">release</a>. New releases are created any time a new
build is created or application configuration is changed. Tracking releases as a
&ldquo;write-only ledger&rdquo; this way makes it easy to rollback to any previous release.</p>
<h3 id="run-stage">Run Stage<a class="td-heading-self-link" href="#run-stage" aria-label="Heading self-link"></a></h3>
<p>The run stage deploys the new release to the underlying Kubernetes cluster by
changing the Deployment object which references the new release.
By managing the desired replica count, Workflow
orchestrates a zero-downtime, rolling update of your application. Once
successfully updated, Workflow removes the last reference to the old release.
Note that during the deploy, your application will be running in a mixed mode.</p>
<h2 id="backing-services">Backing Services<a class="td-heading-self-link" href="#backing-services" aria-label="Heading self-link"></a></h2>
<p>Workflow treats all persistent services such as databases, caches, storage,
messaging systems, and other <a href="http://12factor.net/backing-services">backing services</a> as resources managed
separately from your application. This philosophy aligns with Twelve-Factor
best practices.</p>
<p>Applications attach to backing services using <a href="http://12factor.net/config">environment variables</a>.
Because apps are decoupled from backing services, they are free to
scale up independently, to use services provided by other apps, or to switch
to external or third-party vendor services.</p>
<h2 id="see-also">See Also<a class="td-heading-self-link" href="#see-also" aria-label="Heading self-link"></a></h2>
<ul>
<li><a href="/docs/understanding-workflow/architecture/">Workflow Architecture</a></li>
<li><a href="/docs/understanding-workflow/components/">Workflow Components</a></li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c982d33ed1d4cdbe2048cc622558e243">2.2 - Architecture</h1>
    <div class="lead">Drycc Workflow is built using a service oriented architecture.</div>
	<p>All components are published as a set of container images which can be deployed to any
compliant Kubernetes cluster.</p>
<h2 id="overview">Overview<a class="td-heading-self-link" href="#overview" aria-label="Heading self-link"></a></h2>
<p><img alt="System Overview" src="../../diagrams/Ecosystem_Basic.jpg"></p>
<p>Operators use <a href="https://github.com/kubernetes/helm">Helm</a> to configure and install the Workflow components which
interface directly with the underlying Kubernetes cluster. Service discovery,
container availability and networking are all delegated to Kubernetes, while
Workflow provides a clean and simple developer experience.</p>
<h2 id="platform-services">Platform Services<a class="td-heading-self-link" href="#platform-services" aria-label="Heading self-link"></a></h2>
<p><img alt="Workflow Overview" src="../../diagrams/Workflow_Overview.jpg"></p>
<p>Drycc Workflow provides additional functionality to your Kubernetes cluster, including:</p>
<ul>
<li><a href="/docs/understanding-workflow/components/#builder">Source to Image Builder</a> which compiles your Application code via Buildpacks or Dockerfiles</li>
<li><a href="/docs/understanding-workflow/components/#controller">Simple REST API</a> which powers the CLI and any external integrations</li>
<li>Application release and rollback</li>
<li>Authentication and Authorization to Application resources</li>
</ul>
<h2 id="kubernetes-native">Kubernetes-Native<a class="td-heading-self-link" href="#kubernetes-native" aria-label="Heading self-link"></a></h2>
<p>All platform components and applications deployed via Workflow expect to be
running on an existing Kubernetes cluster. This means that you can happily run
your Kubernetes-native workloads next to applications that are managed through
Drycc Workflow.</p>
<p><img alt="Workflow and Kubernetes" src="../../diagrams/Workflow_Detail.png"></p>
<h2 id="application-layout-and-edge-routing">Application Layout and Edge Routing<a class="td-heading-self-link" href="#application-layout-and-edge-routing" aria-label="Heading self-link"></a></h2>
<p>By default Workflow creates per-application Namespaces and Services so you can
easily connect your applications to other on-cluster services through standard
Kubernetes mechanisms.</p>
<p><img alt="Application Configuration" src="../../diagrams/Application_Layout.png"></p>
<p>The router component is responsible for routing HTTP/s traffic to your
Applications as well as proxying <code>git push</code> and platform API traffic.</p>
<p>By default, the router component is deployed as a Kubernetes service with type
<code>LoadBalancer</code>; which, depending on your configuration, will provision a
cloud-native load balancer automatically.</p>
<p>The router automatically discovers routable Applications, SSL/TLS certificates
and application-specific configurations through the use of Kubernetes
annotations. Any changes to router configuration or certificates are applied
within seconds.</p>
<h2 id="topologies">Topologies<a class="td-heading-self-link" href="#topologies" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow no longer dictates a specific topology or server count for your
deployment. The platform components will happily run on single-server
configurations as well as multi-server production clusters.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c8b3697d58439ac48af0e2f6d87073ea">2.3 - Components</h1>
    <div class="lead">Workflow is comprised of a number of small, independent services that combine to create a distributed CaaS.</div>
	<p>All Workflow components are deployed as services (and associated controllers) in your Kubernetes cluster.
If you are interested we have a more detailed exploration of the <a href="/docs/understanding-workflow/architecture/">Workflow architecture</a>.</p>
<p>All of the componentry for Workflow is built with composability in mind. If you
need to customize one of the components for your specific deployment or need
the functionality in your own project we invite you to give it a shot!</p>
<h2 id="controller">Controller<a class="td-heading-self-link" href="#controller" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/controller">drycc/controller</a></p>
<p>The controller component is an HTTP API server which serves as the endpoint for
the <code>drycc</code> CLI. The controller provides all of the platform functionality as
well as interfacing with your Kubernetes cluster. The controller persists all
of its data to the database component.</p>
<h2 id="passport">Passport<a class="td-heading-self-link" href="#passport" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/passport">drycc/passport</a></p>
<p>The passport component exposes a web API and provide OAuth2 authentication.</p>
<h2 id="database">Database<a class="td-heading-self-link" href="#database" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/postgres">drycc/postgres</a></p>
<p>The database component is a managed instance of <a href="http://www.postgresql.org/">PostgreSQL</a> which holds a
majority of the platforms state. Backups and WAL files are pushed to object
storage via <a href="https://github.com/wal-e/wal-e">WAL-E</a>. When the database is restarted, backups are fetched and
replayed from object storage so no data is lost.</p>
<h2 id="builder">Builder<a class="td-heading-self-link" href="#builder" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/builder">drycc/builder</a></p>
<p>The builder component is responsible for accepting code pushes via <a href="http://git-scm.com/">Git</a> and
managing the build process of your <a href="../reference-guide/terms.md#application">Application</a>. The builder process is:</p>
<ol>
<li>Receives incoming <code>git push</code> requests over SSH</li>
<li>Authenticates the user via SSH key fingerprint</li>
<li>Authorizes the user&rsquo;s access to push code to the Application</li>
<li>Starts the Application Build phase (see below)</li>
<li>Triggers a new <a href="../reference-guide/terms.md#release">Release</a> via the Controller</li>
</ol>
<p>Builder currently supports both buildpack and Dockerfile based builds.</p>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/imagebuilder">drycc/imagebuilder</a></p>
<p>For Buildpack-based deploys, the builder component will launch a one-shot Job
in the <code>drycc</code> namespace. This job runs <code>imagebuilder</code> component which handles
default and custom buildpacks (specified by <code>.packbuilder</code>). The completed image
is pushed to the managed Container registry on cluster. For more information
about buildpacks see <a href="/docs/applications/using-buildpacks/">using buildpacks</a>.</p>
<p>Unlike buildpack-based, For Applications which contain a <code>Dockerfile</code> in the root
of the repository, it generates a Container image (using the underlying Container engine).
For more information see <a href="/docs/applications/using-dockerfiles/">using Dockerfiles</a>.</p>
<h2 id="object-storage">Object Storage<a class="td-heading-self-link" href="#object-storage" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/storage">drycc/storage</a></p>
<p>All of the Workflow components that need to persist data will ship them to the
object storage that was configured for the cluster.For example, database ships
its WAL files, registry stores Container images, and slugbuilder stores slugs.</p>
<p>Workflow supports either on or off-cluster storage. For production deployments
we highly recommend that you configure <a href="/docs/installing-workflow/configuring-object-storage/">off-cluster object storage</a>.</p>
<p>To facilitate experimentation, development and test environments, the default charts for
Workflow include on-cluster storage via <a href="https://github.com/drycc/storage">storage</a>.</p>
<p>If you also feel comfortable using Kubernetes persistent volumes you may
configure storage to use persistent storage available in your environment.</p>
<h2 id="registry">Registry<a class="td-heading-self-link" href="#registry" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/registry">drycc/registry</a></p>
<p>The registry component is a managed container registry which holds application
images generated from the builder component. Registry persists the Container image
images to either local storage (in development mode) or to object storage
configured for the cluster.</p>
<h2 id="quickwit">Quickwit<a class="td-heading-self-link" href="#quickwit" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/quickwit">drycc/quickwit</a></p>
<p>Quickwit is the first engine to execute complex search and analytics queries directly on cloud storage with
sub-second latency. Powered by Rust and its decoupled compute and storage architecture, it is designed to
be resource-efficient, easy to operate, and scale to petabytes of data.</p>
<p>Quickwit is a great fit for log management, distributed tracing, and generally immutable data such as
conversational data (emails, texts, messaging platforms) and event-based analytics.</p>
<h2 id="fluentbit">Fluentbit<a class="td-heading-self-link" href="#fluentbit" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/fluentbit">drycc/fluentbit</a></p>
<p>Fluent Bit is a fast and lightweight telemetry agent for logs, metrics, and traces for Linux, macOS, Windows,
and BSD family operating systems. Fluent Bit has been made with a strong focus on performance to allow the
collection and processing of telemetry data from different sources without complexity.</p>
<h2 id="victoriametrics">Victoriametrics<a class="td-heading-self-link" href="#victoriametrics" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/victoriametrics">drycc/victoriametrics</a></p>
<p>Victoriametrics is a system monitoring and alerting system. It was opensourced by SoundCloud in 2012 and is
the second project both to join and to graduate within Cloud Native Computing Foundation after Kubernetes.
Victoriametrics stores all metrics data as time series, i.e metrics information is stored along with the
timestamp at which it was recorded, optional key-value pairs called as labels can also be stored along
with metrics.</p>
<h2 id="helmbroker">HelmBroker<a class="td-heading-self-link" href="#helmbroker" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc-addons/helmbroker">drycc-addons/helmbroker</a></p>
<p>Helm Broker is a Service Broker that exposes Helm charts as Service Classes in Service Catalog.
To do so, Helm Broker uses the concept of addons. An addon is an abstraction layer over a Helm chart
which provides all information required to convert the chart into a Service Class.</p>
<h2 id="victoriametrics-1">Victoriametrics<a class="td-heading-self-link" href="#victoriametrics-1" aria-label="Heading self-link"></a></h2>
<p><strong>Project Location:</strong> <a href="https://github.com/drycc/victoriametrics">drycc/victoriametrics</a></p>
<p>Victoriametrics is an open-source systemsmonitoring and alerting toolkit originally built atSoundCloud.</p>
<h2 id="see-also">See Also<a class="td-heading-self-link" href="#see-also" aria-label="Heading self-link"></a></h2>
<ul>
<li><a href="/docs/understanding-workflow/concepts/">Workflow Concepts</a></li>
<li><a href="/docs/understanding-workflow/architecture/">Workflow Architecture</a></li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0803a90686533b29ef862bacde530be2">3 - Installing To Kubenetes</h1>
    <div class="lead">Deploying Drycc on a Kubernetes Cluster.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-46bc914b43c7294d3007db288d795021">3.1 - Requirements</h1>
    <div class="lead">To run Drycc Workflow on a Kubernetes cluster, there are a few requirements to keep in mind.</div>
	<h2 id="kubernetes-versions">Kubernetes Versions<a class="td-heading-self-link" href="#kubernetes-versions" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow requires Kubernetes v1.16.15 or later.</p>
<h2 id="components-requirements">Components Requirements<a class="td-heading-self-link" href="#components-requirements" aria-label="Heading self-link"></a></h2>
<p>Drycc uses gateway as a routing implementation, so you have to choose an gateway. We recommend using <a href="https://istio.io/">istio</a> or <a href="https://konghq.com/">kong</a>.</p>
<p>Workflow supports the use of ACME to manage automatic certificates, <a href="https://github.com/helm/charts/tree/master/stable/cert-manager">cert-manager</a> is also one of the necessary components, if you use cert-manager EAB, you need to set the <code>clusterResourceNamespace</code> to the namespace of drycc.</p>
<p>Workflow supports stateful apps. You can create and use them through the &lsquo;drycc volumes&rsquo; command. If you want to use this feature, you must have a <code>StorageClass</code> that supports <code>ReadWriteMany</code>.</p>
<p>Workflow also supports the <a href="https://github.com/openservicebrokerapi/servicebroker">OSB</a> API through the &lsquo;drycc resources&rsquo; command. If you want to use this function, you need to install <a href="https://service-catalog.drycc.cc">service-catalog</a>.</p>
<h2 id="storage-requirements">Storage Requirements<a class="td-heading-self-link" href="#storage-requirements" aria-label="Heading self-link"></a></h2>
<p>A variety of Drycc Workflow components rely on an object storage system to do their work, including storing application
slugs, Container images and database logs.</p>
<p>Drycc Workflow ships with drycc storage by default, which provides in-cluster.</p>
<p>Workflow supports Amazon Simple Storage Service (S3), Google Cloud Storage (GCS), OpenShift Swift, and Azure Blob
Storage. See <a href="/docs/installing-workflow/configuring-object-storage/">configuring object storage</a> for setup instructions.</p>
<h2 id="resource-requirements">Resource Requirements<a class="td-heading-self-link" href="#resource-requirements" aria-label="Heading self-link"></a></h2>
<p>When deploying Drycc Workflow, it&rsquo;s important to provision machines with adequate resources. Drycc is a highly-available
distributed system, which means that Drycc components and your deployed applications will move around the cluster onto
healthy hosts as hosts leave the cluster for various reasons (failures, reboots, autoscalers, etc.). Because of this,
you should have ample spare resources on any machine in your cluster to withstand the additional load of running
services for failed machines.</p>
<p>Drycc Workflow components use about 2.5GB of memory across the cluster, and require approximately 30GB of hard disk
space. Because it may need to handle additional load if another one fails, each machine has minimum requirements of:</p>
<ul>
<li>At least 4GB of RAM (more is better)</li>
<li>At least 40GB of hard disk space</li>
</ul>
<p>Note that these estimates are for Drycc Workflow and Kubernetes only. Be sure to leave enough spare capacity for your
application footprint as well.</p>
<p>Running smaller machines will likely result in increased system load and has been known to result in component failures
and instability.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ee3fe110d0efcc1b34a882fb946886e4">3.2 - Specify Gateway</h1>
    <div class="lead">Choose the gateway provider that best suits your needs and platform.</div>
	<h2 id="install-drycc-workflow-specify-gateway">Install Drycc Workflow (Specify gateway)<a class="td-heading-self-link" href="#install-drycc-workflow-specify-gateway" aria-label="Heading self-link"></a></h2>
<p>Now that Helm is installed and the repository has been added, install Workflow with a native gateway by running:</p>
<pre tabindex="0"><code>$ helm install drycc oci://registry.drycc.cc/charts/workflow \
    --namespace drycc \
    --set global.gatewayClass=istio \
    --set global.platformDomain=drycc.cc \
    --set builder.service.type=LoadBalancer
</code></pre><p>Of course, if you deploy it on a bare machine, you probably do not have Load Balancer. You need to use NodePort:</p>
<pre tabindex="0"><code>$ helm install drycc oci://registry.drycc.cc/charts/workflow \
    --namespace drycc \
    --set global.gatewayClass=istio \
    --set global.platformDomain=drycc.cc \
    --set builder.service.type=NodePort \
    --set builder.service.nodePort=32222
</code></pre><p>If you want to use Load Balancer on a bare machine, you can look at <a href="https://github.com/metallb/metallb">metallb</a></p>
<p>Where <code>global.platformDomain</code> is a <strong>required</strong> parameter that is traditionally not required for Workflow that is explained in the next section. In this example we are using <code>drycc.cc</code> for <code>$hostname</code>.</p>
<p>Helm will install a variety of Kubernetes resources in the <code>drycc</code> namespace.
Wait for the pods that Helm launched to be ready. Monitor their status by running:</p>
<pre tabindex="0"><code>$ kubectl --namespace=drycc get pods
</code></pre><p>You should also notice that several Kubernetes gatewayclass has been installed on your cluster. You can view it by running:</p>
<pre tabindex="0"><code>$ kubectl get gatewayclass --namespace drycc
</code></pre><p>Depending on the order in which the Workflow components initialize, some pods may restart. This is common during the
installation: if a component&rsquo;s dependencies are not yet available, that component will exit and Kubernetes will
automatically restart it.</p>
<p>Here, it can be seen that the controller, builder and registry all took a few loops waiting for storage before they were able to start:</p>
<pre tabindex="0"><code>$ kubectl --namespace=drycc get pods
NAME                          READY     STATUS    RESTARTS   AGE
drycc-builder-hy3xv            1/1       Running   5          5m
drycc-controller-g3cu8         1/1       Running   5          5m
drycc-controller-celery-cmxxn  3/3       Running   0          5m
drycc-database-rad1o           1/1       Running   0          5m
drycc-fluentbit-1v8uk          1/1       Running   0          5m
drycc-fluentbit-esm60          1/1       Running   0          5m
drycc-storage-4ww3t            1/1       Running   0          5m
drycc-registry-asozo           1/1       Running   1          5m
</code></pre><h2 id="install-a-kubernetes-gateway">Install a Kubernetes Gateway<a class="td-heading-self-link" href="#install-a-kubernetes-gateway" aria-label="Heading self-link"></a></h2>
<p>Now that Workflow has been deployed with the <code>global.gatewayClass</code> , we will need a Kubernetes gateway in place to begin routing traffic.</p>
<p>Here is an example of how to use <a href="https://istio.io/">istio</a> as an gateway for Workflow. Of course, you are welcome to use any controller you wish.</p>
<pre tabindex="0"><code>$ helm repo add istio https://istio-release.storage.googleapis.com/charts
$ helm repo update
$ kubectl create namespace istio-system
$ helm install istio-base istio/base -n istio-system
$ helm install istiod istio/istiod -n istio-system --wait
$ kubectl create namespace istio-ingress
$ helm install istio-ingress istio/gateway -n istio-ingress --wait
</code></pre><h2 id="configure-dns">Configure DNS<a class="td-heading-self-link" href="#configure-dns" aria-label="Heading self-link"></a></h2>
<p>User must install <a href="/docs/quickstart/install-workflow/">drycc</a> and then set up a hostname, and assumes the <code>*.$host</code> convention.</p>
<p>We need to point the <code>*.$host</code> record to the public IP address of your gateway. You can get the public IP using the following command. A wildcard entry is necessary here as apps will use the same rule after they are deployed.</p>
<pre tabindex="0"><code>$ kubectl get gateway --namespace drycc
NAME      CLASS   ADDRESS         PROGRAMMED   AGE
gateway   istio   138.91.243.152  True         36d
</code></pre><p>If we were using <code>drycc.cc</code> as a hostname, we would need to create the following A DNS records.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th style="text-align:center">Type</th>
<th style="text-align:right">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>*.drycc.cc</td>
<td style="text-align:center">A</td>
<td style="text-align:right">138.91.243.152</td>
</tr>
</tbody>
</table>
<p>Once all of the pods are in the <code>READY</code> state, and <code>*.$host</code> resolves to the external IP found above, the preparation of gateway has been completed!</p>
<p>After installing Workflow, <a href="/docs/quickstart/deploy-an-app/">register a user and deploy an application</a>.</p>
<p>If your k8s does not provide public network loadblance, you need to install TCP proxy services such as haproxy on machines that can
access both internal and external networks, and then expose <code>80</code> and <code>443</code>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8ff1c03ab1d2c9948af7ce8da6fa387a">3.3 - Installing Drycc Workflow</h1>
    <div class="lead">This document is aimed at those who have already provisioned a Kubernetes cluster and want to install Drycc Workflow.</div>
	<p>If help is required getting started with Kubernetes and
Drycc Workflow, follow the <a href="/docs/quickstart/">quickstart guide</a> for assistance.</p>
<h2 id="prerequisites">Prerequisites<a class="td-heading-self-link" href="#prerequisites" aria-label="Heading self-link"></a></h2>
<ol>
<li>Verify the <a href="/docs/installing-workflow/system-requirements/">Kubernetes system requirements</a></li>
<li>Install <a href="/docs/quickstart/install-cli-tools/">Helm and Drycc Workflow CLI</a> tools</li>
</ol>
<h2 id="check-your-setup">Check Your Setup<a class="td-heading-self-link" href="#check-your-setup" aria-label="Heading self-link"></a></h2>
<p>Check that the <code>helm</code> command is available and the version is v2.5.0 or newer.</p>
<pre tabindex="0"><code>$ helm version
Client: &amp;version.Version{SemVer:&#34;v2.5.0&#34;, GitCommit:&#34;012cb0ac1a1b2f888144ef5a67b8dab6c2d45be6&#34;, GitTreeState:&#34;clean&#34;}
Server: &amp;version.Version{SemVer:&#34;v2.5.0&#34;, GitCommit:&#34;012cb0ac1a1b2f888144ef5a67b8dab6c2d45be6&#34;, GitTreeState:&#34;clean&#34;}
</code></pre><h2 id="choose-your-deployment-strategy">Choose Your Deployment Strategy<a class="td-heading-self-link" href="#choose-your-deployment-strategy" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow includes everything it needs to run out of the box. However, these defaults are aimed at simplicity rather than
production readiness. Production and staging deployments of Workflow should, at a minimum, use off-cluster storage
which is used by Workflow components to store and backup critical data. Should an operator need to completely re-install
Workflow, the required components can recover from off-cluster storage. See the documentation for <a href="/docs/installing-workflow/configuring-object-storage/">configuring object
storage</a> for more details.</p>
<p>More rigorous installations would benefit from using outside sources for the following things:</p>
<ul>
<li><a href="/docs/installing-workflow/configuring-postgres/">Postgres</a> - For example AWS RDS.</li>
<li><a href="/docs/installing-workflow/configuring-registry/">Registry</a> - This includes <a href="https://quay.io">quay.io</a>, <a href="https://hub.docker.com">dockerhub</a>, <a href="https://aws.amazon.com/ecr/">Amazon ECR</a>, and <a href="https://cloud.google.com/container-registry/">Google GCR</a>.</li>
<li><a href="/docs/managing-workflow/platform-logging/#configuring-off-cluster-valkey">Valkey</a> - Such as AWS Elasticache</li>
<li><a href="/docs/managing-workflow/platform-monitoring/#off-cluster-grafana">Grafana</a></li>
</ul>
<h4 id="gateway">Gateway<a class="td-heading-self-link" href="#gateway" aria-label="Heading self-link"></a></h4>
<p>Now, workflow requires that gateway and cert-manager must be installed. Any compatible Kubernetes entry controller can be used.</p>
<h2 id="install-drycc-workflow">Install Drycc Workflow<a class="td-heading-self-link" href="#install-drycc-workflow" aria-label="Heading self-link"></a></h2>
<p>If the version of helm is 3.0 +; you need to create the namespace in advance:</p>
<pre tabindex="0"><code>kubectl create ns drycc
</code></pre><p>If you want to change it, set the variable when using helm.</p>
<pre tabindex="0"><code>$ helm install drycc oci://registry.drycc.cc/charts/workflow \
    --namespace drycc \
    --set builder.imageRegistry=quay.io \
    --set imagebuilder.imageRegistry=quay.io \
    --set controller.imageRegistry=quay.io \
    --set database.imageRegistry=quay.io \
    --set fluentbit.imageRegistry=quay.io \
    --set valkey.imageRegistry=quay.io \
    --set storage.imageRegistry=quay.io \
    --set grafana.imageRegistry=quay.io \
    --set registry.imageRegistry=quay.io \
    --set global.platformDomain=drycc.cc
</code></pre><p>Helm will install a variety of Kubernetes resources in the <code>drycc</code> namespace.
Wait for the pods that Helm launched to be ready. Monitor their status by running:</p>
<pre tabindex="0"><code>$ kubectl --namespace=drycc get pods
</code></pre><p>If it&rsquo;s preferred to have <code>kubectl</code> automatically update as the pod states change, run (type Ctrl-C to stop the watch):</p>
<pre tabindex="0"><code>$ kubectl --namespace=drycc get pods -w
</code></pre><p>Depending on the order in which the Workflow components initialize, some pods may restart. This is common during the
installation: if a component&rsquo;s dependencies are not yet available, that component will exit and Kubernetes will
automatically restart it.</p>
<p>Here, it can be seen that the controller, builder and registry all took a few loops before they were able to start:</p>
<pre tabindex="0"><code>$ kubectl --namespace=drycc get pods
NAME                                     READY     STATUS    RESTARTS   AGE
drycc-builder-574483744-l15zj             1/1       Running   0          4m
drycc-controller-3953262871-pncgq         1/1       Running   2          4m
drycc-controller-celery-cmxxn             3/3       Running   0          4m
drycc-database-83844344-47ld6             1/1       Running   0          4m
drycc-fluentbit-zxnqb                     1/1       Running   0          4m
drycc-valkey-304849759-1f35p              1/1       Running   0          4m
drycc-storage-676004970-nxqgt             1/1       Running   0          4m
drycc-monitor-grafana-432627134-lnl2h     1/1       Running   0          4m
drycc-monitor-telegraf-wmcmn              1/1       Running   1          4m
drycc-registry-756475849-lwc6b            1/1       Running   1          4m
drycc-registry-proxy-96c4p                1/1       Running   0          4m
</code></pre><p>Once all of the pods are in the <code>READY</code> state, Drycc Workflow is up and running!</p>
<p>For more installation parameters, please check the <a href="https://github.com/drycc/workflow/blob/main/charts/workflow/values.yaml">values.yaml</a> file of workflow.</p>
<p>After installing Workflow, <a href="/docs/quickstart/deploy-an-app/">register a user and deploy an application</a>.</p>
<h2 id="configure-dns">Configure DNS<a class="td-heading-self-link" href="#configure-dns" aria-label="Heading self-link"></a></h2>
<p>User must to set up a hostname, and assumes the <code>drycc-builder.$host</code> convention.</p>
<p>We need to point the <code>drycc-builder.$host</code> record to the public IP address of your builder. You can get the public IP using the following command. A wildcard entry is necessary here as apps will use the same rule after they are deployed.</p>
<pre tabindex="0"><code>$ kubectl get svc drycc-builder --namespace drycc
NAME              CLUSTER-IP   EXTERNAL-IP      PORT(S)                      AGE
drycc-builder     10.0.25.3    138.91.243.152   2222:31625/TCP               33m
</code></pre><p>If we were using <code>drycc.cc</code> as a hostname, we would need to create the following A DNS records.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th style="text-align:center">Type</th>
<th style="text-align:right">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>drycc-builder.drycc.cc</td>
<td style="text-align:center">A</td>
<td style="text-align:right">138.91.243.152</td>
</tr>
</tbody>
</table>
<p>Once all of the pods are in the <code>READY</code> state, and <code>drycc-builder.$host</code> resolves to the external IP found above, Workflow is up and running!</p>
<p>After installing Workflow, <a href="/docs/quickstart/deploy-an-app/">register a user and deploy an application</a>.</p>
<p>If your k8s does not provide public network loadblance, you need to install TCP proxy services such as haproxy on machines that can
access both internal and external networks, and then expose <code>80</code> and <code>443</code>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-295b46299c21cdb84c782750a6780f61">3.4 - Configuring Object Storage</h1>
    <div class="lead">A variety of Drycc Workflow components rely on an object storage system to do their work including storing application slugs, Container images and database logs.</div>
	<p>Drycc Workflow ships with <a href="/docs/understanding-workflow/components/#object-storage">Storage</a> by default, which provides in-cluster.</p>
<h2 id="configuring-off-cluster-object-storage">Configuring off-cluster Object Storage<a class="td-heading-self-link" href="#configuring-off-cluster-object-storage" aria-label="Heading self-link"></a></h2>
<p>Every component that relies on object storage uses two inputs for configuration:</p>
<ol>
<li>You must use object storage services that are compatible with S3 API</li>
<li>Access credentials stored as a Kubernetes secret named <code>storage-creds</code></li>
</ol>
<p>The helm chart for Drycc Workflow can be easily configured to connect Workflow components to off-cluster object storage. Drycc Workflow currently supports Google Compute Storage, Amazon S3, <a href="https://azure.microsoft.com/en-us/services/storage/blobs/">Azure Blob Storage</a> and OpenStack Swift Storage.</p>
<h3 id="step-1-create-storage-buckets">Step 1: Create storage buckets<a class="td-heading-self-link" href="#step-1-create-storage-buckets" aria-label="Heading self-link"></a></h3>
<p>Create storage buckets for each of the Workflow subsystems: <code>builder</code>, <code>registry</code>, and <code>database</code>.</p>
<p>Depending on your chosen object storage you may need to provide globally unique bucket names. If you are using S3, use hyphens instead of periods in the bucket names. Using periods in the bucket name will cause an <a href="https://forums.aws.amazon.com/thread.jspa?threadID=105357">ssl certificate validation issue with S3</a>.</p>
<p>If you provide credentials with sufficient access to the underlying storage, Workflow components will create the buckets if they do not exist.</p>
<h3 id="step-2-generate-storage-credentials">Step 2: Generate storage credentials<a class="td-heading-self-link" href="#step-2-generate-storage-credentials" aria-label="Heading self-link"></a></h3>
<p>If applicable, generate credentials that have create and write access to the storage buckets created in Step 1.</p>
<p>If you are using AWS S3 and your Kubernetes nodes are configured with appropriate <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/introduction.html">IAM</a> API keys via InstanceRoles, you do not need to create API credentials. Do, however, validate that the InstanceRole has appropriate permissions to the configured buckets!</p>
<h3 id="step-3-configure-workflow-chart">Step 3: Configure Workflow Chart<a class="td-heading-self-link" href="#step-3-configure-workflow-chart" aria-label="Heading self-link"></a></h3>
<p>Operators should configure object storage by editing the Helm values file before running <code>helm install</code>. To do so:</p>
<ul>
<li>Fetch the Helm values by running <code>helm inspect values oci://registry.drycc.cc/charts/workflow &gt; values.yaml</code></li>
<li>Update the <code>global/storage</code> parameter to reference the platform you are using, e.g. <code>s3</code>, <code>azure</code>, <code>gcs</code>, or <code>swift</code></li>
<li>Find the corresponding section for your storage type and provide appropriate values including region, bucket names, and access credentials.</li>
<li>Save your changes.</li>
</ul>
<p>!!! note
All values will be automatically (base64) encoded <em>except</em> the <code>key_json</code> values under <code>gcs</code>/<code>gcr</code>.  These must be base64-encoded.  This is to support cleanly passing said encoded text via <code>helm --set</code> cli functionality rather than attempting to pass the raw JSON data.  For example:</p>
<pre><code>	$ helm install drycc oci://registry.drycc.cc/charts/workflow \
	    --namespace drycc \
		--set global.platformDomain=youdomain.com
		--set global.storage=gcs,gcs.key_json=&quot;$(cat /path/to/gcs_creds.json | base64 -w 0)&quot;
</code></pre>
<p>You are now ready to run <code>helm install drycc oci://registry.drycc.cc/charts/workflow --namespace drycc -f values.yaml</code> using your desired object storage.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0d336adcc6b0a2147690be79cb9a7557">3.5 - Configuring Postgres</h1>
    <div class="lead">Drycc Workflow&rsquo;s controller and passport component rely on a PostgreSQL database to store platform state.</div>
	<h1 id="configuring-postgres">Configuring Postgres<a class="td-heading-self-link" href="#configuring-postgres" aria-label="Heading self-link"></a></h1>
<p>By default, Drycc Workflow ships with the <a href="/docs/understanding-workflow/components/#database">database</a> component, which provides an in-cluster PostgreSQL database backed up to in-cluster or off-cluster <a href="/docs/installing-workflow/configuring-object-storage/">object storage</a>. Currently, for object storage, which is utilized by <em>several</em> Workflow components, only off-cluster solutions such as S3 or GCS are recommended in production environments. Experience has shown that many operators already opting for off-cluster object storage similarly prefer to host Postgres off-cluster as well, using Amazon RDS or similar. When excercising both options, a Workflow installation becomes entirely stateless, and is thus restored or rebuilt with greater ease should the need ever arise.</p>
<h2 id="provisioning-off-cluster-postgres">Provisioning off-cluster Postgres<a class="td-heading-self-link" href="#provisioning-off-cluster-postgres" aria-label="Heading self-link"></a></h2>
<p>First, provision a PostgreSQL RDBMS using the cloud provider or other infrastructure of your choice. Take care to ensure that security groups or other firewall rules will permit connectivity from your Kubernetes worker nodes, any of which may play host to the Workflow controller component.</p>
<p>Take note of the following:</p>
<ol>
<li>The hostname or public IP of your PostgreSQL RDBMS</li>
<li>The port on which your PostgreSQL RDBMS runs&ndash; typically 5432</li>
</ol>
<p>Within the off-cluster RDBMS, manually provision the following:</p>
<ol>
<li>A database user (take note of the username and password)</li>
<li>A database owned by that user (take note of its name)</li>
</ol>
<p>If you are able to log into the RDBMS as a superuser or a user with appropriate permissions, this process will <em>typically</em> look like this:</p>
<pre tabindex="0"><code>$ psql -h &lt;host&gt; -p &lt;port&gt; -d postgres -U &lt;&#34;postgres&#34; or your own username&gt;
&gt; create user &lt;drycc username; typically &#34;drycc&#34;&gt; with password &#39;&lt;password&gt;&#39;;
&gt; create database &lt;database name; typically &#34;drycc&#34;&gt; with owner &lt;drycc username&gt;;
&gt; \q
</code></pre><h2 id="configuring-workflow">Configuring Workflow<a class="td-heading-self-link" href="#configuring-workflow" aria-label="Heading self-link"></a></h2>
<p>The Helm chart for Drycc Workflow can be easily configured to connect the Workflow controller component to an off-cluster PostgreSQL database.</p>
<ul>
<li><strong>Step 1:</strong> If you haven&rsquo;t already fetched the values, do so with <code>helm inspect values drycc/workflow &gt; values.yaml</code></li>
<li><strong>Step 2:</strong> Update database connection details by modifying <code>values.yaml</code>:
<ul>
<li>Update the <code>database.enabled</code> parameter to <code>false</code>.</li>
<li>Update the values in the <code>[database]</code> configuration section to properly reflect all connection details.</li>
<li>Update the values in the <code>[controller]</code> configuration section to properly reflect platformDomain details.</li>
<li>Save your changes.</li>
<li>Note: you do not need to (and must not) base64 encode any values, as the Helm chart will automatically handle encoding as necessary.</li>
</ul>
</li>
</ul>
<p>You are now ready to <code>helm install drycc oci://registry.drycc.cc/charts/workflow --namespace drycc -f values.yaml</code> <a href="/docs/installing-workflow/">as usual</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fe6530b6e8ee56416ae8a9f905cc910c">3.6 - Configuring Registry</h1>
    <div class="lead">Drycc Workflow&rsquo;s builder component relies on a registry for storing application container images.</div>
	<p>Drycc Workflow ships with a <a href="/docs/understanding-workflow/components/#registry">registry</a> component by default, which provides an in-cluster Container registry backed by the platform-configured <a href="/docs/installing-workflow/configuring-object-storage/">object storage</a>. Operators might want to use an off-cluster registry for performance or security reasons.</p>
<h2 id="configuring-off-cluster-private-registry">Configuring Off-Cluster Private Registry<a class="td-heading-self-link" href="#configuring-off-cluster-private-registry" aria-label="Heading self-link"></a></h2>
<p>Every component that relies on a registry uses two inputs for configuration:</p>
<ol>
<li>Registry Location environment variable named <code>DRYCC_REGISTRY_LOCATION</code></li>
<li>Access credentials stored as a Kubernetes secret named <code>registry-secret</code></li>
</ol>
<p>The Helm chart for Drycc Workflow can be easily configured to connect Workflow components to off-cluster registry. Drycc Workflow supports external registries which provide either short-lived tokens that are valid only for a specified amount of time or long-lived tokens (basic username/password) which are valid forever for authenticating to them. For those registries which provide short lived tokens for authentication, Drycc Workflow will generate and refresh them such that the deployed apps will only have access to the short-lived tokens and not to the actual credentials for the registries.</p>
<p>When using a private registry the container images are no longer pulled by Drycc Workflow Controller but rather are managed by <a href="https://kubernetes.io">Kubernetes</a>. This will increase security and overall speed, however the <code>port</code> information can no longer be discovered. Instead the <code>port</code> information can be set via <code>drycc config set PORT=&lt;port&gt;</code> prior to deploying the application.</p>
<p>Drycc Workflow currently supports:</p>
<ol>
<li>off-cluster: Any provider which supports long-lived username/password authentication, such as <a href="https://docs.microsoft.com/en-us/azure/container-registry/">Azure Container Registry</a>, <a href="https://hub.docker.com/">Docker Hub</a>, <a href="https://quay.io/">quay.io</a>, or a self-hosted Container registry.</li>
</ol>
<h2 id="configuration">Configuration<a class="td-heading-self-link" href="#configuration" aria-label="Heading self-link"></a></h2>
<ol>
<li>If you haven&rsquo;t already fetched the values file, do so with <code>helm inspect values drycc/workflow &gt; values.yaml</code></li>
<li>Update registry location details by modifying the values file:
* Update the <code>registry.enabled</code> parameter to reference the registry location you are using: <code>true</code>, <code>false</code>
* Update the values in the section which corresponds to your registry location type.</li>
</ol>
<p>You are now ready to <code>helm install drycc oci://registry.drycc.cc/charts/workflow --namespace drycc -f values.yaml</code> using your desired registry.</p>
<h2 id="examples">Examples<a class="td-heading-self-link" href="#examples" aria-label="Heading self-link"></a></h2>
<p>Here we show how the relevant parts of the fetched <code>values.yaml</code> file might look like after configuring for a particular off-cluster registry:</p>
<h3 id="azure-container-registryhttpsazuremicrosoftcomen-usservicescontainer-registry-acr"><a href="https://azure.microsoft.com/en-us/services/container-registry/">Azure Container Registry</a> (ACR)<a class="td-heading-self-link" href="#azure-container-registryhttpsazuremicrosoftcomen-usservicescontainer-registry-acr" aria-label="Heading self-link"></a></h3>
<p>After following the <a href="https://docs.microsoft.com/en-us/azure/container-registry/container-registry-get-started-azure-cli">docs</a> and creating a registry, e.g. <code>myregistry</code>, with its corresponding login server of <code>myregistry.azurecr.io</code>, the following values should be supplied:</p>
<pre tabindex="0"><code>builder:
  registryHost: &#34;myregistry.azurecr.io&#34;
  registryUsername: &#34;xxxx&#34;
  registryPassword: &#34;xxxx&#34;
  registryOrganization: &#34;xxxx&#34;
registry:
  enabled: false
</code></pre><p><strong>Note:</strong> The mandatory organization field (here <code>myorg</code>) will be created as an ACR repository if it does not already exist.</p>
<h3 id="quayio">Quay.io<a class="td-heading-self-link" href="#quayio" aria-label="Heading self-link"></a></h3>
<pre tabindex="0"><code>builder:
  registryHost: &#34;quay.io&#34;
  registryUsername: &#34;xxxx&#34;
  registryPassword: &#34;xxxx&#34;
  registryOrganization: &#34;xxxx&#34;
registry:
  enabled: false
</code></pre>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f6e51c56e03dacc1b2d031da7e3608ab">4 - Users</h1>
    <div class="lead">In this tutorial, you&rsquo;ll learn how to manage users.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-4fb0482339ab618b926388863b0a7831">4.1 - Drycc Workflow  CLI</h1>
    <div class="lead">How to download, install, and start using the Drycc CLI. The Drycc CLI used to be part of the Drycc Toolbelt.</div>
	<p>The Drycc Workflow command-line interface (CLI), or client, allows you to interact
with Drycc Workflow.</p>
<h2 id="installation">Installation<a class="td-heading-self-link" href="#installation" aria-label="Heading self-link"></a></h2>
<p>Install the latest <code>drycc</code> client for Linux or Mac OS X with:
$ curl -sfL <a href="https://www.drycc.cc/install-cli.sh">https://www.drycc.cc/install-cli.sh</a> | bash -</p>
<p>The installer puts <code>drycc</code> in your current directory, but you should move it
somewhere in your $PATH:</p>
<pre><code>$ ln -fs $PWD/drycc /usr/local/bin/drycc
</code></pre>
<h2 id="getting-help">Getting Help<a class="td-heading-self-link" href="#getting-help" aria-label="Heading self-link"></a></h2>
<p>The Drycc client comes with comprehensive documentation for every command.
Use <code>drycc help</code> to explore the commands available to you:</p>
<pre><code>$ drycc help
The Drycc command-line client issues API calls to a Drycc controller.

Usage: drycc &lt;command&gt; [&lt;args&gt;...]

Auth commands::

  login         login to a controller
  logout        logout from the current controller

Subcommands, use `drycc help [subcommand]` to learn more::
...
</code></pre>
<p>To get help on subcommands, use <code>drycc help [subcommand]</code>:</p>
<pre><code>$ drycc help apps
Valid commands for apps:

apps:create        create a new application
apps:list          list accessible applications
apps:info          view info about an application
apps:open          open the application in a browser
apps:logs          view aggregated application logs
apps:run           run a command in an ephemeral app container
apps:destroy       destroy an application
apps:transfer      transfer app ownership to another user

Use `drycc help [command]` to learn more
</code></pre>
<h2 id="support-for-multiple-profiles">Support for Multiple Profiles<a class="td-heading-self-link" href="#support-for-multiple-profiles" aria-label="Heading self-link"></a></h2>
<p>The CLI reads from the default <code>client</code> profile, which is located on your
workstation at <code>$HOME/.drycc/client.json</code>.</p>
<p>Easily switch between multiple Drycc Workflow installations or users by setting
the <code>$DRYCC_PROFILE</code> environment variable or by using the <code>-c</code> flag.</p>
<p>There are two ways to set the <code>$DRYCC_PROFILE</code> option.</p>
<ol>
<li>Path to a json configuration file.</li>
<li>Profile name. If you set profile to just a name, it will be saved alongside the default profile,
in <code>$HOME/.drycc/&lt;name&gt;.json</code>.</li>
</ol>
<p>Examples:</p>
<pre><code>$ DRYCC_PROFILE=production drycc login drycc.production.com
...
Opening browser to http://drycc.example.com/v2/login/drycc/?key=4ccc81ee2dce4349ad5261ceffe72c71
Waiting for login... .o.Logged in as drycc
Configuration saved to /home/testuser/.drycc/production.json
$ DRYCC_PROFILE=~/config.json drycc login drycc.example.com
...
Opening browser to http://drycc.example.com/v2/login/drycc/?key=4ccc81ee2dce4349ad5261ceffe72c71
Waiting for login... .o.Logged in as drycc
Configuration saved to /home/testuser/config.json
</code></pre>
<p>The configuration flag works identically to and overrides <code>$DRYCC_PROFILE</code>:</p>
<pre><code>$ drycc whoami -c ~/config.json
You are drycc at drycc.example.com
</code></pre>
<h2 id="proxy-support">Proxy Support<a class="td-heading-self-link" href="#proxy-support" aria-label="Heading self-link"></a></h2>
<p>If your workstation uses a proxy to reach the network where the cluster lies,
set the <code>http_proxy</code> or <code>https_proxy</code> environment variable to enable proxy support:</p>
<pre><code>$ export http_proxy=&quot;http://proxyip:port&quot;
$ export https_proxy=&quot;http://proxyip:port&quot;
</code></pre>
<p>!!! note
Configuring a proxy is generally not necessary for local Minikube clusters.</p>
<h2 id="cli-plugins">CLI Plugins<a class="td-heading-self-link" href="#cli-plugins" aria-label="Heading self-link"></a></h2>
<p>Plugins allow developers to extend the functionality of the Drycc Client, adding new commands or features.</p>
<p>If an unknown command is specified, the client will attempt to execute the command as a dash-separated command. In this case, <code>drycc resource:command</code> will execute <code>drycc-resource</code> with the argument list <code>command</code>. In full form:</p>
<pre><code>$ # these two are identical
$ drycc accounts list
$ drycc-accounts list
</code></pre>
<p>Any flags after the command will also be sent to the plugin as an argument:</p>
<pre><code>$ # these two are identical
$ drycc accounts list --debug
$ drycc-accounts list --debug
</code></pre>
<p>But flags preceding the command will not:</p>
<pre><code>$ # these two are identical
$ drycc --debug accounts list
$ drycc-accounts list
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-12c0c67f6b5849e4a51f8b6f7c8d4df3">4.2 - Users and Registration</h1>
    <div class="lead">Get started on Drycc today</div>
	<p>Workflow use the passport component to create and authorize users, it can config options for LDAP authentication or browse passport web site to register users.</p>
<h2 id="login-to-workflow">Login to Workflow<a class="td-heading-self-link" href="#login-to-workflow" aria-label="Heading self-link"></a></h2>
<p>If you already have an account, use <code>drycc login</code> to authenticate against the Drycc Workflow API.</p>
<pre><code>$ drycc login http://drycc.example.com
Opening browser to http://drycc.example.com/v2/login/drycc/?key=4ccc81ee2dce4349ad5261ceffe72c71
Waiting for login... .o.Logged in as drycc
Configuration file written to /root/.drycc/client.json
</code></pre>
<p>Or you can login with username and password
$ drycc login <a href="http://drycc.example.com">http://drycc.example.com</a> &ndash;username=demo &ndash;password=demo
Configuration file written to /root/.drycc/client.json</p>
<h2 id="logout-from-workflow">Logout from Workflow<a class="td-heading-self-link" href="#logout-from-workflow" aria-label="Heading self-link"></a></h2>
<p>Logout of an existing controller session using <code>drycc logout</code>.</p>
<pre><code>$ drycc logout
Logged out as drycc
</code></pre>
<h2 id="verify-your-session">Verify Your Session<a class="td-heading-self-link" href="#verify-your-session" aria-label="Heading self-link"></a></h2>
<p>You can verify your client configuration by running <code>drycc whoami</code>.</p>
<pre><code>$ drycc whoami
You are drycc at http://drycc.example.com
</code></pre>
<p>!!! note
Session and client configuration is stored in the <code>~/.drycc/client.json</code> file.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-58441c0d4701f07c911ce8422802623a">4.3 - Users and SSH Keys</h1>
    <div class="lead">Create, manage, and upload SSH keys to Drycc for use in deploying and connecting to applications.</div>
	<p>For <strong>Dockerfile</strong> and <strong>Buildpack</strong> based application deploys via <code>git push</code>, Drycc Workflow identifies users via SSH
keys. SSH keys are pushed to the platform and must be unique to each user. Users may have multiple SSH keys as needed.</p>
<h2 id="generate-an-ssh-key">Generate an SSH Key<a class="td-heading-self-link" href="#generate-an-ssh-key" aria-label="Heading self-link"></a></h2>
<p>If you do not already have an SSH key or would like to create a new key for Drycc Workflow, generate a new key using
<code>ssh-keygen</code>:</p>
<pre tabindex="0"><code>$ ssh-keygen -f ~/.ssh/id_drycc -t rsa
Generating public/private rsa key pair.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /Users/admin/.ssh/id_drycc.
Your public key has been saved in /Users/admin/.ssh/id_drycc.pub.
The key fingerprint is:
3d:ac:1f:f4:83:f7:64:51:c1:7e:7f:80:b6:70:36:c9 admin@plinth-23437.local
The key&#39;s randomart image is:
+--[ RSA 2048]----+
|              .. |
|               ..|
|           . o. .|
|         o. E .o.|
|        S == o..o|
|         o +.  .o|
|        . o + o .|
|         . o =   |
|          .   .  |
+-----------------+
$ ssh-add ~/.ssh/id_drycc
Identity added: /Users/admin/.ssh/id_drycc (/Users/admin/.ssh/id_drycc)
</code></pre><h2 id="adding-and-removing-ssh-keys">Adding and Removing SSH Keys<a class="td-heading-self-link" href="#adding-and-removing-ssh-keys" aria-label="Heading self-link"></a></h2>
<p>By publishing the <strong>public</strong> half of your SSH key to Drycc Workflow the component responsible for receiving <code>git push</code>
will be able to authenticate the user and ensure that they have access to the destination application.</p>
<pre tabindex="0"><code>$ drycc keys add ~/.ssh/id_drycc.pub
Uploading id_drycc.pub to drycc... done
</code></pre><p>You can always view the keys associated with your user as well:</p>
<pre tabindex="0"><code>$ drycc keys list
ID                              OWNER    KEY                           
admin@plinth-23437.local        admin    ssh-rsa abc AAAAB3Nz...3437.local
admin@subgenius.local           admin    ssh-rsa 123 AAAAB3Nz...nius.local
</code></pre><p>Remove keys by their name:</p>
<pre tabindex="0"><code>$ drycc keys remove admin@plinth-23437.local
Removing admin@plinth-23437.local SSH Key... don
</code></pre>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4d0bf8c20c038033cbbccd99ba61313f">5 - Applications</h1>
    <div class="lead">A simple and scalable cloud platform for all developer needs.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-39cba0eed348438976fb73c0202d32e7">5.1 - Deploying an Application</h1>
    <div class="lead">Learn how to deploy the application to drycc.</div>
	<p>An <a href="../reference-guide/terms.md#application">Application</a> is deployed to Drycc using <code>git push</code> or the <code>drycc</code> client.</p>
<h2 id="supported-applications">Supported Applications<a class="td-heading-self-link" href="#supported-applications" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow can deploy any application or service that can run inside a container.  In order to be scaled
horizontally, applications must follow the <a href="http://12factor.net/">Twelve-Factor App</a> methodology and store any application state in external
backing services.</p>
<p>For example, if your application persists state to the local filesystem &ndash; common with content management systems like
Wordpress and Drupal &ndash; it cannot be scaled horizontally using <code>drycc scale</code>.</p>
<p>Fortunately, most modern applications feature a stateless application tier that can scale horizontally inside Drycc.</p>
<h2 id="login-to-the-controller">Login to the Controller<a class="td-heading-self-link" href="#login-to-the-controller" aria-label="Heading self-link"></a></h2>
<p>!!! important
if you haven&rsquo;t yet, now is a good time to <a href="/docs/users/cli/#installation">install the client</a> and <a href="/docs/users/registration/">register</a>.</p>
<p>Before deploying an application, users must first authenticate against the Drycc <a href="/docs/understanding-workflow/components/#controller">Controller</a>
using the URL supplied by their Drycc administrator.</p>
<pre tabindex="0"><code>$ drycc login http://drycc.example.com
Opening browser to http://drycc.example.com/v2/login/drycc/?key=4ccc81ee2dce4349ad5261ceffe72c71
Waiting for login... .o.Logged in as admin
Configuration file written to /root/.drycc/client.json
</code></pre><p>Or you can login with username and password</p>
<pre tabindex="0"><code>$ drycc login http://drycc.example.com --username=demo --password=demo
Configuration file written to /root/.drycc/client.json
</code></pre><h2 id="select-a-build-process">Select a Build Process<a class="td-heading-self-link" href="#select-a-build-process" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow supports three different ways of building applications:</p>
<h3 id="buildpacks">Buildpacks<a class="td-heading-self-link" href="#buildpacks" aria-label="Heading self-link"></a></h3>
<p>Cloud Native Buildpacks are useful if you want to follow <a href="https://buildpacks.io/docs/">cnb&rsquo;s docs</a> for building applications.</p>
<p>Learn how to deploy applications <a href="/docs/applications/using-buildpacks/">using Buildpacks</a>.</p>
<h3 id="dockerfiles">Dockerfiles<a class="td-heading-self-link" href="#dockerfiles" aria-label="Heading self-link"></a></h3>
<p>Dockerfiles are a powerful way to define a portable execution environment built on a base OS of your choosing.</p>
<p>Learn how to deploy applications <a href="/docs/applications/using-dockerfiles/">using Dockerfiles</a>.</p>
<h3 id="container-image">Container Image<a class="td-heading-self-link" href="#container-image" aria-label="Heading self-link"></a></h3>
<p>Deploying a Container image onto Drycc allows you to take a Container image from either a public
or a private registry and copy it over bit-for-bit, ensuring that you are running the same
image in development or in your CI pipeline as you are in production.</p>
<p>Learn how to deploy applications <a href="/docs/applications/using-container-images/">using Container images</a>.</p>
<h2 id="tuning-application-settings">Tuning Application Settings<a class="td-heading-self-link" href="#tuning-application-settings" aria-label="Heading self-link"></a></h2>
<p>It is possible to configure a few of the <a href="/docs/applications/managing-app-configuration/">globally tunable</a> settings on per application basis using <code>config:set</code>.</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DRYCC_DISABLE_CACHE</td>
<td>if set, this will disable the [imagebuilder cache][] (default: not set)</td>
</tr>
<tr>
<td>DRYCC_DEPLOY_BATCHES</td>
<td>the number of pods to bring up and take down sequentially during a scale (default: number of available nodes)</td>
</tr>
<tr>
<td>DRYCC_DEPLOY_TIMEOUT</td>
<td>deploy timeout in seconds per deploy batch (default: 120)</td>
</tr>
<tr>
<td>IMAGE_PULL_POLICY</td>
<td>the kubernetes [image pull policy][pull-policy] for application images (default: &ldquo;IfNotPresent&rdquo;) (allowed values: &ldquo;Always&rdquo;, &ldquo;IfNotPresent&rdquo;)</td>
</tr>
<tr>
<td>KUBERNETES_DEPLOYMENTS_REVISION_HISTORY_LIMIT</td>
<td>how many <a href="http://kubernetes.io/docs/user-guide/deployments/#revision-history-limit">revisions</a> Kubernetes keeps around of a given Deployment (default: all revisions)</td>
</tr>
<tr>
<td>KUBERNETES_POD_TERMINATION_GRACE_PERIOD_SECONDS</td>
<td>how many seconds kubernetes waits for a pod to finish work after a SIGTERM before sending SIGKILL (default: 30)</td>
</tr>
</tbody>
</table>
<h3 id="deploy-timeout">Deploy Timeout<a class="td-heading-self-link" href="#deploy-timeout" aria-label="Heading self-link"></a></h3>
<p>Deploy timeout in seconds - There are 2 deploy methods, Deployments (see below) and RC (versions prior to 2.4) and this setting affects those a bit differently.</p>
<h4 id="deployments">Deployments<a class="td-heading-self-link" href="#deployments" aria-label="Heading self-link"></a></h4>
<p>Deployments behave a little bit differently from the RC based deployment strategy.</p>
<p>Kubernetes takes care of the entire deploy, doing rolling updates in the background. As a result, there is only an overall deployment timeout instead of a configurable per-batch timeout.</p>
<p>The base timeout is multiplied with <code>DRYCC_DEPLOY_BATCHES</code> to create an overall timeout. This would be 240 (timeout) * 4 (batches) = 960 second overall timeout.</p>
<h4 id="rc-deploy">RC deploy<a class="td-heading-self-link" href="#rc-deploy" aria-label="Heading self-link"></a></h4>
<p>This deploy timeout defines how long to wait for each batch to complete in <code>DRYCC_DEPLOY_BATCHES</code>.</p>
<h4 id="additions-to-the-base-timeout">Additions to the base timeout<a class="td-heading-self-link" href="#additions-to-the-base-timeout" aria-label="Heading self-link"></a></h4>
<p>The base timeout is extended as well with healthchecks using <code>initialDelaySeconds</code> on <code>liveness</code> and <code>readiness</code> where the bigger of those two is applied.
Additionally the timeout system accounts for slow image pulls by adding an additional 10 minutes when it has seen an image pull take over 1 minute. This allows the timeout values to be reasonable without having to account for image pull slowness in the base deploy timeout.</p>
<h3 id="deployments-1">Deployments<a class="td-heading-self-link" href="#deployments-1" aria-label="Heading self-link"></a></h3>
<p>Workflow uses <a href="http://kubernetes.io/docs/user-guide/deployments/">Deployments</a> for deploys. In prior versions <a href="http://kubernetes.io/docs/user-guide/replication-controller/">ReplicationControllers</a> were used with the ability to turn on Deployments via <code>DRYCC_KUBERNETES_DEPLOYMENTS=1</code>.</p>
<p>The advantage of <a href="http://kubernetes.io/docs/user-guide/deployments/">Deployments</a> is that rolling-updates will happen server-side in Kubernetes instead of in Drycc Workflow Controller,
along with a few other Pod management related functionality. This allows a deploy to continue even when the CLI connection is interrupted.</p>
<p>Behind the scenes your application deploy will be built up of a Deployment object per process type,
each having multiple ReplicaSets (one per release) which in turn manage the Pods running your application.</p>
<p>Drycc Workflow will behave the same way with <code>DRYCC_KUBERNETES_DEPLOYMENTS</code> enabled or disabled (only applicable to versions prior to 2.4).
The changes are behind the scenes. Where you will see differences while using the CLI is <code>drycc ps:list</code> will output Pod names differently.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e96b3fec23ec2a2036cb1009c6e0f7b9">5.2 - Using Buildpacks</h1>
    <div class="lead">An overview of buildpacks, which are responsible for transforming deployed code into a slug, which can then be executed on a container.</div>
	<p>Drycc supports deploying applications via <a href="https://buildpacks.io/">Cloud Native Buildpacks</a>. Cloud Native Buildpacks are useful if you want to follow <a href="https://buildpacks.io/docs/">cnb&rsquo;s docs</a> for building applications.</p>
<h2 id="add-ssh-key">Add SSH Key<a class="td-heading-self-link" href="#add-ssh-key" aria-label="Heading self-link"></a></h2>
<p>For <strong>Buildpack</strong> based application deploys via <code>git push</code>, Drycc Workflow identifies users via SSH keys. SSH keys are pushed to the platform and must be unique to each user.</p>
<ul>
<li>
<p>See <a href="/docs/users/ssh-keys/#generate-an-ssh-key">this document</a> for instructions on how to generate an SSH key.</p>
</li>
<li>
<p>Run <code>drycc keys add</code> to upload your SSH key to Drycc Workflow.</p>
</li>
</ul>
<pre tabindex="0"><code>$ drycc keys add ~/.ssh/id_drycc.pub
Uploading id_drycc.pub to drycc... done
</code></pre><p>Read more about adding/removing SSH Keys <a href="/docs/users/ssh-keys/#adding-and-removing-ssh-keys">here</a>.</p>
<h2 id="prepare-an-application">Prepare an Application<a class="td-heading-self-link" href="#prepare-an-application" aria-label="Heading self-link"></a></h2>
<p>If you do not have an existing application, you can clone an example application that demonstrates the Heroku Buildpack workflow.</p>
<pre><code>$ git clone https://github.com/drycc/example-go.git
$ cd example-go
</code></pre>
<h2 id="create-an-application">Create an Application<a class="td-heading-self-link" href="#create-an-application" aria-label="Heading self-link"></a></h2>
<p>Use <code>drycc create</code> to create an application on the <a href="/docs/understanding-workflow/components/#controller">Controller</a>.</p>
<pre><code>$ drycc create
Creating application... done, created skiing-keypunch
Git remote drycc added
</code></pre>
<h2 id="push-to-deploy">Push to Deploy<a class="td-heading-self-link" href="#push-to-deploy" aria-label="Heading self-link"></a></h2>
<p>Use <code>git push drycc master</code> to deploy your application.</p>
<pre><code>$ git push drycc master
Counting objects: 75, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (48/48), done.
Writing objects: 100% (75/75), 18.28 KiB | 0 bytes/s, done.
Total 75 (delta 30), reused 58 (delta 22)
remote: ---&gt;
Starting build... but first, coffee!
---&gt; Waiting podman running.
---&gt; Process podman started.
---&gt; Waiting caddy running.
---&gt; Process caddy started.
---&gt; Building pack
---&gt; Using builder registry.drycc.cc/drycc/buildpacks:bookworm
Builder 'registry.drycc.cc/drycc/buildpacks:bookworm' is trusted
Pulling image 'registry.drycc.cc/drycc/buildpacks:bookworm'
Resolving &quot;drycc/buildpacks&quot; using unqualified-search registries (/etc/containers/registries.conf)
Trying to pull registry.drycc.cc/drycc/buildpacks:bookworm...
Getting image source signatures
...
---&gt; Skip generate base layer
---&gt; Python Buildpack
---&gt; Downloading and extracting Python 3.10.0
---&gt; Installing requirements with pip
Collecting Django==3.2.8
Downloading Django-3.2.8-py3-none-any.whl (7.9 MB)
Collecting gunicorn==20.1.0
Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)
Collecting sqlparse&gt;=0.2.2
Downloading sqlparse-0.4.2-py3-none-any.whl (42 kB)
Collecting pytz
Downloading pytz-2021.3-py2.py3-none-any.whl (503 kB)
Collecting asgiref&lt;4,&gt;=3.3.2
Downloading asgiref-3.4.1-py3-none-any.whl (25 kB)
Requirement already satisfied: setuptools&gt;=3.0 in /layers/drycc_python/python/lib/python3.10/site-packages (from gunicorn==20.1.0-&gt;-r requirements.txt (line 2)) (57.5.0)
Installing collected packages: sqlparse, pytz, asgiref, gunicorn, Django
Successfully installed Django-3.2.8 asgiref-3.4.1 gunicorn-20.1.0 pytz-2021.3 sqlparse-0.4.2
---&gt; Generate Launcher
...
Build complete.
Launching App...
...
Done, skiing-keypunch:v2 deployed to Workflow

Use 'drycc open' to view this application in your browser

To learn more, use 'drycc help' or visit https://www.drycc.cc

To ssh://git@drycc.staging-2.drycc.cc:2222/skiing-keypunch.git
 * [new branch]      master -&gt; master

$ curl -s http://skiing-keypunch.example.com
Powered by Drycc
Release v2 on skiing-keypunch-v2-web-02zb9
</code></pre>
<p>Because a Buildpacks-style application is detected, the <code>web</code> process type is automatically scaled to 1 on first deploy.</p>
<p>Use <code>drycc scale web=3</code> to increase <code>web</code> processes to 3, for example. Scaling a
process type directly changes the number of <a href="http://kubernetes.io/v1.1/docs/user-guide/pods.html">pods</a> running that process.</p>
<h2 id="included-buildpacks">Included Buildpacks<a class="td-heading-self-link" href="#included-buildpacks" aria-label="Heading self-link"></a></h2>
<p>For convenience, a number of buildpacks come bundled with Drycc:</p>
<ul>
<li><a href="https://github.com/drycc/pack-images/tree/main/buildpacks/go">Go Buildpack</a></li>
<li><a href="https://github.com/drycc/pack-images/tree/main/buildpacks/java">Java Buildpack</a></li>
<li><a href="https://github.com/drycc/pack-images/tree/main/buildpacks/nodejs">Nodejs Buildpack</a></li>
<li><a href="https://github.com/drycc/pack-images/tree/main/buildpacks/php">PHP Buildpack</a></li>
<li><a href="https://github.com/drycc/pack-images/tree/main/buildpacks/python">Python Buildpack</a></li>
<li><a href="https://github.com/drycc/pack-images/tree/main/buildpacks/ruby">Ruby Buildpack</a></li>
<li><a href="https://github.com/drycc/pack-images/tree/main/buildpacks/rust">Rust Buildpack</a></li>
</ul>
<p>Drycc will cycle through the <code>bin/detect</code> script of each buildpack to match the code you
are pushing.</p>
<p>!!! note
If you&rsquo;re testing against the [Scala Buildpack][], the <a href="/docs/understanding-workflow/components/#builder">Builder</a> requires at least
512MB of free memory to execute the Scala Build Tool.</p>
<h2 id="using-a-custom-buildpack">Using a Custom Buildpack<a class="td-heading-self-link" href="#using-a-custom-buildpack" aria-label="Heading self-link"></a></h2>
<p>To use a custom buildpack, you need create a <code>.pack_builder</code> file in your root path app.</p>
<pre><code>$  tee &gt; .pack-builder &lt;&lt; EOF
   &gt; registry.drycc.cc/drycc/buildpacks:bookworm
   &gt; EOF
</code></pre>
<p>On your next <code>git push</code>, the custom buildpack will be used.</p>
<h2 id="using-private-repositories">Using Private Repositories<a class="td-heading-self-link" href="#using-private-repositories" aria-label="Heading self-link"></a></h2>
<p>To pull code from private repositories, set the <code>SSH_KEY</code> environment variable to a private key
which has access. Use either the path of a private key file or the raw key material:</p>
<pre><code>$ drycc config set SSH_KEY=/home/user/.ssh/id_rsa
$ drycc config set SSH_KEY=&quot;&quot;&quot;-----BEGIN RSA PRIVATE KEY-----
(...)
-----END RSA PRIVATE KEY-----&quot;&quot;&quot;
</code></pre>
<p>For example, to use a custom buildpack hosted at a private GitHub URL, ensure that an SSH public
key exists in your <a href="https://github.com/settings/ssh">GitHub settings</a>. Then set <code>SSH_KEY</code> to the corresponding SSH private key
and set <code>.pack_builder</code> to the builder image:</p>
<pre><code>$  tee &gt; .pack-builder &lt;&lt; EOF
   &gt; registry.drycc.cc/drycc/buildpacks:bookworm
   &gt; EOF
$ git add .buildpack
$ git commit -m &quot;chore(buildpack): modify the pack_builder&quot;
$ git push drycc master
</code></pre>
<h2 id="builder-selector">Builder selector<a class="td-heading-self-link" href="#builder-selector" aria-label="Heading self-link"></a></h2>
<p>Which way to build a project conforms to the following principles:</p>
<ul>
<li>If Dockerfile exists in the project, the stack uses <code>container</code></li>
<li>If Procfile exists in the project, the stack uses <code>buildpack</code></li>
<li>If both exist, <code>container</code> is used by default</li>
<li>You can also set the <code>DRYCC_STACK</code> to <code>container</code> or <code>buildpack</code> determine which stack to use.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-bad1760884a3d1568108fc1c87043baf">5.3 - Using Dockerfiles</h1>
    <div class="lead">Drycc Container Registry allows you to deploy your Docker-based app to Drycc. Both Common Runtime and Private Spaces are supported.</div>
	<p>Drycc supports deploying applications via Dockerfiles.  A <a href="https://docs.docker.com/reference/builder/">Dockerfile</a> automates the steps for crafting a [Container Image][].
Dockerfiles are incredibly powerful but require some extra work to define your exact application runtime environment.</p>
<h2 id="add-ssh-key">Add SSH Key<a class="td-heading-self-link" href="#add-ssh-key" aria-label="Heading self-link"></a></h2>
<p>For <strong>Dockerfile</strong> based application deploys via <code>git push</code>, Drycc Workflow identifies users via SSH keys. SSH keys are pushed to the platform and must be unique to each user.</p>
<ul>
<li>
<p>See <a href="/docs/users/ssh-keys/#generate-an-ssh-key">this document</a> for instructions on how to generate an SSH key.</p>
</li>
<li>
<p>Run <code>drycc keys add</code> to upload your SSH key to Drycc Workflow.</p>
</li>
</ul>
<pre tabindex="0"><code>$ drycc keys add ~/.ssh/id_drycc.pub
Uploading id_drycc.pub to drycc... done
</code></pre><p>Read more about adding/removing SSH Keys <a href="/docs/users/ssh-keys/#adding-and-removing-ssh-keys">here</a>.</p>
<h2 id="prepare-an-application">Prepare an Application<a class="td-heading-self-link" href="#prepare-an-application" aria-label="Heading self-link"></a></h2>
<p>If you do not have an existing application, you can clone an example application that demonstrates the Dockerfile workflow.</p>
<pre><code>$ git clone https://github.com/drycc/helloworld.git
$ cd helloworld
</code></pre>
<h3 id="dockerfile-requirements">Dockerfile Requirements<a class="td-heading-self-link" href="#dockerfile-requirements" aria-label="Heading self-link"></a></h3>
<p>In order to deploy Dockerfile applications, they must conform to the following requirements:</p>
<ul>
<li>The Dockerfile must use the <code>EXPOSE</code> directive to expose exactly one port.</li>
<li>That port must be listening for an HTTP connection.</li>
<li>The Dockerfile must use the <code>CMD</code> directive to define the default process that will run within the container.</li>
<li>The Container image must contain <a href="https://www.gnu.org/software/bash/">bash</a> to run processes.</li>
</ul>
<p>!!! note
Note that if you are using a private registry of any kind (<code>gcr</code> or other) the application environment must include a <code>$PORT</code> config variable that matches the <code>EXPOSE</code>&rsquo;d port, example: <code>drycc config set PORT=5000</code>. See <a href="/docs/installing-workflow/configuring-registry/#configuring-off-cluster-private-registry">Configuring Registry</a> for more info.</p>
<h2 id="create-an-application">Create an Application<a class="td-heading-self-link" href="#create-an-application" aria-label="Heading self-link"></a></h2>
<p>Use <code>drycc create</code> to create an application on the <a href="/docs/understanding-workflow/components/#controller">Controller</a>.</p>
<pre><code>$ drycc create
Creating application... done, created folksy-offshoot
Git remote drycc added
</code></pre>
<h2 id="push-to-deploy">Push to Deploy<a class="td-heading-self-link" href="#push-to-deploy" aria-label="Heading self-link"></a></h2>
<p>Use <code>git push drycc master</code> to deploy your application.</p>
<pre><code>$ git push drycc master
Counting objects: 13, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (13/13), done.
Writing objects: 100% (13/13), 1.99 KiB | 0 bytes/s, done.
Total 13 (delta 2), reused 0 (delta 0)
-----&gt; Building Docker image
Uploading context 4.096 kB
Uploading context
Step 0 : FROM drycc/base:latest
 ---&gt; 60024338bc63
Step 1 : RUN wget -O /tmp/go1.2.1.linux-amd64.tar.gz -q https://go.googlecode.com/files/go1.2.1.linux-amd64.tar.gz
 ---&gt; Using cache
 ---&gt; cf9ef8c5caa7
Step 2 : RUN tar -C /usr/local -xzf /tmp/go1.2.1.linux-amd64.tar.gz
 ---&gt; Using cache
 ---&gt; 515b1faf3bd8
Step 3 : RUN mkdir -p /go
 ---&gt; Using cache
 ---&gt; ebf4927a00e9
Step 4 : ENV GOPATH /go
 ---&gt; Using cache
 ---&gt; c6a276eded37
Step 5 : ENV PATH /usr/local/go/bin:/go/bin:$PATH
 ---&gt; Using cache
 ---&gt; 2ba6f6c9f108
Step 6 : ADD . /go/src/github.com/drycc/helloworld
 ---&gt; 94ab7f4b977b
Removing intermediate container 171b7d9fdb34
Step 7 : RUN cd /go/src/github.com/drycc/helloworld &amp;&amp; go install -v .
 ---&gt; Running in 0c8fbb2d2812
github.com/drycc/helloworld
 ---&gt; 13b5af931393
Removing intermediate container 0c8fbb2d2812
Step 8 : ENV PORT 80
 ---&gt; Running in 9b07da36a272
 ---&gt; 2dce83167874
Removing intermediate container 9b07da36a272
Step 9 : CMD [&quot;/go/bin/helloworld&quot;]
 ---&gt; Running in f7b215199940
 ---&gt; b1e55ce5195a
Removing intermediate container f7b215199940
Step 10 : EXPOSE 80
 ---&gt; Running in 7eb8ec45dcb0
 ---&gt; ea1a8cc93ca3
Removing intermediate container 7eb8ec45dcb0
Successfully built ea1a8cc93ca3
-----&gt; Pushing image to private registry

       Launching... done, v2

-----&gt; folksy-offshoot deployed to Drycc
       http://folksy-offshoot.local3.dryccapp.com

       To learn more, use `drycc help` or visit https://www.drycc.cc

To ssh://git@local3.dryccapp.com:2222/folksy-offshoot.git
 * [new branch]      master -&gt; master

$ curl -s http://folksy-offshoot.local3.dryccapp.com
Welcome to Drycc!
See the documentation at http://docs.drycc.cc/ for more information.
</code></pre>
<p>Because a Dockerfile application is detected, the <code>web</code> process type is automatically scaled to 1 on first deploy.</p>
<p>Use <code>drycc scale web=3</code> to increase <code>web</code> processes to 3, for example. Scaling a
process type directly changes the number of <a href="../reference-guide/terms.md#container">containers</a>
running that process.</p>
<h2 id="container-build-arguments">Container Build Arguments<a class="td-heading-self-link" href="#container-build-arguments" aria-label="Heading self-link"></a></h2>
<p>As of Workflow v2.13.0, users can inject their application config into the Container image using
<a href="https://docs.docker.com/engine/reference/commandline/build/#set-build-time-variables---build-arg">Container build arguments</a>. To opt into this, users must add a new environment variable
to their application:</p>
<pre tabindex="0"><code>$ drycc config set DRYCC_DOCKER_BUILD_ARGS_ENABLED=1
</code></pre><p>Every environment variable set with <code>drycc config set</code> will then be available for use inside the
user&rsquo;s Dockerfile. For example, if a user runs <code>drycc config set POWERED_BY=Workflow</code>,
the user can utilize that build argument in their Dockerfile:</p>
<pre tabindex="0"><code>ARG POWERED_BY
RUN echo &#34;Powered by $POWERED_BY&#34; &gt; /etc/motd
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-911ae34b8caae3b502b7d403c569c269">5.4 - Using Docker Images</h1>
    <div class="lead">Deploy an application using a container image stored in your Drycc Container Registry.</div>
	<p>Drycc supports deploying applications via an existing <a href="https://docs.docker.com/introduction/understanding-docker/">Docker Image</a>.
This is useful for integrating Drycc into Docker-based CI/CD pipelines.</p>
<h2 id="prepare-an-application">Prepare an Application<a class="td-heading-self-link" href="#prepare-an-application" aria-label="Heading self-link"></a></h2>
<p>Start by cloning an example application:</p>
<pre><code>$ git clone https://github.com/drycc/example-dockerfile-http.git
$ cd example-dockerfile-http
</code></pre>
<p>Next use your local <code>docker</code> client to build the image and push
it to <a href="https://registry.hub.docker.com/">DockerHub</a>.</p>
<pre><code>$ docker build -t &lt;username&gt;/example-dockerfile-http .
$ docker push &lt;username&gt;/example-dockerfile-http
</code></pre>
<h3 id="docker-image-requirements">Docker Image Requirements<a class="td-heading-self-link" href="#docker-image-requirements" aria-label="Heading self-link"></a></h3>
<p>In order to deploy Docker images, they must conform to the following requirements:</p>
<ul>
<li>The Dockerfile must use the <code>EXPOSE</code> directive to expose exactly one port.</li>
<li>That port must be listening for an HTTP connection.</li>
<li>The Dockerfile must use the <code>CMD</code> directive to define the default process that will run within the container.</li>
<li>The Docker image must contain <a href="https://www.gnu.org/software/bash/">bash</a> to run processes.</li>
</ul>
<p>!!! note
Note that if you are using a private registry of any kind (<code>gcr</code> or other) the application environment must include a <code>$PORT</code> config variable that matches the <code>EXPOSE</code>&rsquo;d port, example: <code>drycc config set PORT=5000</code>. See <a href="/docs/installing-workflow/configuring-registry/#configuring-off-cluster-private-registry">Configuring Registry</a> for more info.</p>
<h2 id="create-an-application">Create an Application<a class="td-heading-self-link" href="#create-an-application" aria-label="Heading self-link"></a></h2>
<p>Use <code>drycc create</code> to create an application on the <a href="/docs/understanding-workflow/components/#controller">controller</a>.</p>
<pre><code>$ mkdir -p /tmp/example-dockerfile-http &amp;&amp; cd /tmp/example-dockerfile-http
$ drycc create example-dockerfile-http --no-remote
Creating application... done, created example-dockerfile-http
</code></pre>
<p>!!! note
For all commands except for <code>drycc create</code>, the <code>drycc</code> client uses the name of the current directory
as the app name if you don&rsquo;t specify it explicitly with <code>--app</code>.</p>
<h2 id="deploy-the-application">Deploy the Application<a class="td-heading-self-link" href="#deploy-the-application" aria-label="Heading self-link"></a></h2>
<p>Use <code>drycc pull</code> to deploy your application from <a href="https://registry.hub.docker.com/">DockerHub</a> or
a public registry.</p>
<pre><code>$ drycc pull &lt;username&gt;/example-dockerfile-http:latest
Creating build...  done, v2

$ curl -s http://example-dockerfile-http.local3.dryccapp.com
Powered by Drycc
</code></pre>
<p>Because you are deploying a Docker image, the <code>web</code> process type is automatically scaled to 1 on first deploy.</p>
<p>Use <code>drycc scale web=3</code> to increase <code>web</code> processes to 3, for example. Scaling a
process type directly changes the number of <a href="../reference-guide/terms.md#container">Containers</a>
running that process.</p>
<h2 id="private-registry">Private Registry<a class="td-heading-self-link" href="#private-registry" aria-label="Heading self-link"></a></h2>
<p>To deploy Docker images from a private registry or from a private repository, use <code>drycc registry</code>
to attach credentials to your application. These credentials are the same as you&rsquo;d use when running
<code>docker login</code> at your private registry.</p>
<p>To deploy private Docker images, take the following steps:</p>
<ul>
<li>Gather the username and password for the registry, such as a <a href="https://docs.quay.io/glossary/robot-accounts.html">Quay.io Robot Account</a> or a <a href="https://cloud.google.com/container-registry/docs/auth#using_a_json_key_file">GCR.io Long Lived Token</a></li>
<li>Run <code>drycc registry set &lt;the-user&gt; &lt;secret&gt; -a &lt;application-name&gt;</code></li>
<li>Now perform <code>drycc pull</code> as normal, against an image in the private registry</li>
</ul>
<p>When using a <a href="https://cloud.google.com/container-registry/docs/auth#using_a_json_key_file">GCR.io Long Lived Token</a>, the JSON blob will have to be compacted first using a
tool like <a href="https://stedolan.github.io/jq/">jq</a> and then used in the password field in <code>drycc registry set</code>. For the username, use
<code>_json_key</code>. For example:</p>
<pre tabindex="0"><code>drycc registry set _json_key &#34;$(cat google_cloud_cred.json | jq -c .)&#34;
</code></pre><p>When using a private registry the docker images are no longer pulled into the Drycc Internal Registry via
the Drycc Workflow Controller but rather is managed by Kubernetes. This will increase security and overall speed,
however the application <code>port</code> information can no longer be discovered. Instead the application <code>port</code> information can be set via
<code>drycc config set PORT=80</code> prior to setting the registry information.</p>
<p>!!! note
Currently <a href="https://gcr.io">GCR.io</a> and <a href="https://aws.amazon.com/ecr/">ECR</a> in short lived auth token mode are not supported.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3513e6172bfa8a431b2e8b6aadf643c9">5.5 - Managing Application Processes</h1>
    <div class="lead">A Procfile is a list of process types in an app. Each process type declares a command that is executed when a container of that process type is started.</div>
	<p>Drycc Workflow manages your application as a set of processes that can be named, scaled and configured according to their
role. This gives you the flexibility to easily manage the different facets of your application. For example, you may have
web-facing processes that handle HTTP traffic, background worker processes that do async work, and a helper process that
streams from the Twitter API.</p>
<p>By using a Procfile, either checked in to your application or provided via the CLI you can specify the name of the type
and the application command that should run. To spawn other process types, use <code>drycc scale &lt;ptype&gt;=&lt;n&gt;</code> to scale those
types accordingly.</p>
<h2 id="default-process-types">Default Process Types<a class="td-heading-self-link" href="#default-process-types" aria-label="Heading self-link"></a></h2>
<p>In the absence of a Procfile, a single, default process type is assumed for each application.</p>
<p>Applications built using <a href="/docs/applications/using-buildpacks/">Buildpacks</a> via <code>git push</code> implicitly receive a <code>web</code> process type, which starts
the application server. Rails 4, for example, has the following process type:</p>
<pre><code>web: bundle exec rails server -p $PORT
</code></pre>
<p>All applications utilizing <a href="/docs/applications/using-dockerfiles/">Dockerfiles</a> have an implied <code>web</code> process type, which runs the
Dockerfile&rsquo;s <code>CMD</code> directive unmodified:</p>
<pre><code>$ cat Dockerfile
FROM centos:latest
COPY . /app
WORKDIR /app
CMD python -m SimpleHTTPServer 5000
EXPOSE 5000
</code></pre>
<p>For the above Dockerfile-based application, the <code>web</code> process type would run the Container <code>CMD</code> of <code>python -m SimpleHTTPServer 5000</code>.</p>
<p>Applications utilizing <a href="/docs/applications/using-container-images/">remote Container images</a>, a <code>web</code> process type is also implied, and runs the <code>CMD</code>
specified in the Container image.</p>
<p>!!! note
The <code>web</code> process type is special as they’is the default process type that will
receive HTTP traffic from Workflow’s routers. Other process types can be named arbitrarily.</p>
<h2 id="declaring-process-types">Declaring Process Types<a class="td-heading-self-link" href="#declaring-process-types" aria-label="Heading self-link"></a></h2>
<p>If you use <a href="/docs/applications/using-buildpacks/">Buildpack</a> or <a href="/docs/applications/using-dockerfiles/">Dockerfile</a> builds and want to override or specify additional process
types, simply include a file named <code>Procfile</code> in the root of your application&rsquo;s source tree.</p>
<p>The format of a <code>Procfile</code> is one process type per line, with each line containing the command to invoke:</p>
<pre><code>&lt;process type&gt;: &lt;command&gt;
</code></pre>
<p>The syntax is defined as:</p>
<ul>
<li><code>&lt;process type&gt;</code> – a lowercase alphanumeric string, is a name for your command, such as web, worker, urgentworker, clock, etc.</li>
<li><code>&lt;command&gt;</code> – a command line to launch the process, such as <code>rake jobs:work</code>.</li>
</ul>
<p>This example Procfile specifies two types, <code>web</code> and <code>sleeper</code>. The <code>web</code> process launches a web server on port 5000 and
a simple process which sleeps for 900 seconds and exits.</p>
<pre tabindex="0"><code>$ cat Procfile
web: bundle exec ruby web.rb -p ${PORT:-5000}
sleeper: sleep 900
</code></pre><p>If you are using <a href="/docs/applications/using-container-images/">remote Container images</a>, you may define process types by either running <code>drycc pull</code> with a
<code>Procfile</code> in your working directory, or by passing a stringified Procfile to the <code>--procfile</code> CLI option.</p>
<p>For example, passing process types inline:</p>
<pre tabindex="0"><code>$ drycc pull drycc/example-go:latest --procfile=&#34;web: /app/bin/boot&#34;
</code></pre><p>Read a <code>Procfile</code> in another directory:</p>
<pre tabindex="0"><code>$ drycc pull drycc/example-go:latest --procfile=&#34;$(cat deploy/Procfile)&#34;
</code></pre><p>Or via a Procfile located in your current, working directory:</p>
<pre tabindex="0"><code>$ cat Procfile
web: /bin/boot
sleeper: echo &#34;sleeping&#34;; sleep 900


$ drycc pull -a steely-mainsail drycc/example-go
Creating build... done

$ drycc scale sleeper=1 -a steely-mainsail
Scaling processes... but first, coffee!
done in 0s

NAME                                        RELEASE    STATE    PTYPE      READY    RESTARTS     STARTED
steely-mainsail-sleeper-76c45b967c-4qm6w    v3         up       sleeper    1/1      0            2023-12-08T02:25:00UTC
steely-mainsail-web-c4f44c4b4-7p7dh         v3         up       web        1/1      0            2023-12-08T02:25:00UTC
</code></pre><p>!!! note
Only process types of <code>web</code> will be scaled to 1 automatically. If you have additional process types
remember to scale the process counts after creation.</p>
<p>To remove a process type simply scale it to 0:</p>
<pre tabindex="0"><code>$ drycc scale sleeper=0 -a steely-mainsail
Scaling processes... but first, coffee!
done in 3s

NAME                                        RELEASE    STATE    PTYPE      READY    RESTARTS     STARTED
steely-mainsail-web-c4f44c4b4-7p7dh         v3         up       web        1/1      0            2023-12-08T02:25:00UTC
</code></pre><h2 id="scaling-processes">Scaling Processes<a class="td-heading-self-link" href="#scaling-processes" aria-label="Heading self-link"></a></h2>
<p>Applications deployed on Drycc Workflow scale out via the <a href="https://devcenter.heroku.com/articles/process-model">process model</a>. Use <code>drycc scale</code> to control the number of
<a href="../reference-guide/terms.md#container">containers</a> that power your app.</p>
<pre tabindex="0"><code>$ drycc scale web=5 -a iciest-waggoner
Scaling processes... but first, coffee!
done in 3s

NAME                                        RELEASE    STATE    PTYPE      READY    RESTARTS     STARTED
iciest-waggoner-web-c4f44c4b4-7p7dh         v3         up       web        1/1      0            2023-12-08T02:25:00UTC
iciest-waggoner-web-c4f44c4b4-8p7dh         v3         up       web        1/1      0            2023-12-08T02:25:00UTC
iciest-waggoner-web-c4f44c4b4-9p7dh         v3         up       web        1/1      0            2023-12-08T02:25:00UTC
iciest-waggoner-web-c4f44c4b4-1p7dh         v3         up       web        1/1      0            2023-12-08T02:25:00UTC
iciest-waggoner-web-c4f44c4b4-2p7dh         v3         up       web        1/1      0            2023-12-08T02:25:00UTC
</code></pre><p>If you have multiple process types for your application you may scale the process count for each type separately. For
example, this allows you to manage web process independently from background workers. For more information on process
types see our documentation for <a href="/docs/applications/managing-app-processes/">Managing App Processes</a>.</p>
<p>In this example, we are scaling the process type <code>web</code> to 5 but leaving the process type <code>background</code> with one worker.</p>
<pre tabindex="0"><code>$ drycc scale web=5
Scaling processes... but first, coffee!
done in 4s

NAME                                                RELEASE    STATE    PTYPE      READY    RESTARTS     STARTED
scenic-icehouse-web-3291896318-7lord                v3         up       web        1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-web-3291896318-jn957                v3         up       web        1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-web-3291896318-rsekj                v3         up       web        1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-web-3291896318-vwhnh                v3         up       web        1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-web-3291896318-vokg7                v3         up       web        1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-web-3291896318-vokg7                v3         up       web        1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-background-3291896318-yf8kh         v3         up       web        1/1      0            2023-12-08T02:25:00UTC
</code></pre><p>Scaling a process down, by reducing the process count, sends a <code>TERM</code> signal to the processes, followed by a <code>SIGKILL</code>
if they have not exited within 30 seconds. Depending on your application, scaling down may interrupt long-running HTTP
client connections.</p>
<p>For example, scaling from 5 processes to 3:</p>
<pre tabindex="0"><code>$ drycc scale web=3
Scaling processes... but first, coffee!
done in 1s

NAME                                                RELEASE    STATE    PTYPE     READY    RESTARTS     STARTED
scenic-icehouse-web-3291896318-vwhnh                v2         up       web       1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-web-3291896318-vokg7                v2         up       web       1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-web-3291896318-vokg9                v2         up       web       1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-background-3291896318-yf8kh         v2         up       web       1/1      0            2023-12-08T02:25:00UTC
</code></pre><h2 id="autoscale">Autoscale<a class="td-heading-self-link" href="#autoscale" aria-label="Heading self-link"></a></h2>
<p>Autoscale allows adding a minimum and maximum number of pods on a per process type basis. This is accomplished by specifying a target CPU usage across all available pods.</p>
<p>This feature is built on top of <a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/">Horizontal Pod Autoscaling</a> in Kubernetes or <a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/">HPA</a> for short.</p>
<p>!!! note
This is an alpha feature. It is recommended to be on the latest Kubernetes when using this feature.</p>
<pre tabindex="0"><code>$ drycc autoscale set web --min=3 --max=8 --cpu-percent=75
Applying autoscale settings for process type web on scenic-icehouse... done
</code></pre><p>And then review the scaling rule that was created for <code>web</code></p>
<pre tabindex="0"><code>$ drycc autoscale list
PTYPE    PERCENT    MIN    MAX
web      75         3      8
</code></pre><p>Remove scaling rule</p>
<pre tabindex="0"><code>$ drycc autoscale unset web
Removing autoscale for process type web on scenic-icehouse... done
</code></pre><p>For autoscaling to work CPU requests have to be specified on each application Pod (can be done via <code>drycc limits --cpu</code>). This allows the autoscale policies to do the <a href="https://github.com/kubernetes/community/blob/master/contributors/design-proposals/horizontal-pod-autoscaler.md#autoscaling-algorithm">appropriate calculations</a> and make decisions on when to scale up and down.</p>
<p>Scale up can only happen if there was no rescaling within the last 3 minutes. Scale down will wait for 5 minutes from the last rescaling. That information and more can be found at <a href="https://github.com/kubernetes/community/blob/master/contributors/design-proposals/horizontal-pod-autoscaler.md#autoscaling-algorithm">HPA algorithm page</a>.</p>
<h2 id="fetch-a-container-logs-of-the-application">Fetch a container logs of the application<a class="td-heading-self-link" href="#fetch-a-container-logs-of-the-application" aria-label="Heading self-link"></a></h2>
<p>List the containers:</p>
<pre tabindex="0"><code>$ drycc ps
NAME                                                RELEASE    STATE    PTYPEE     READY    RESTARTS     STARTED
python-getting-started-web-69b7d4bfdc-kl4xf         v2         up       web        1/1      0             2023-12-08T02:25:00UTC

=== python-getting-started Processes
--- web:
python-getting-started-web-69b7d4bfdc-kl4xf up (v2)
</code></pre><p>fetch the container logs:</p>
<pre tabindex="0"><code>$ drycc ps logs -f python-getting-started-web-69b7d4bfdc-kl4xf
[2024-05-24 07:14:39 +0000] [1] [INFO] Starting gunicorn 20.1.0
[2024-05-24 07:14:39 +0000] [1] [INFO] Listening at: http://0.0.0.0:8000 (1)
[2024-05-24 07:14:39 +0000] [1] [INFO] Using worker: gevent
[2024-05-24 07:14:39 +0000] [8] [INFO] Booting worker with pid: 8
[2024-05-24 07:14:39 +0000] [9] [INFO] Booting worker with pid: 9
[2024-05-24 07:14:39 +0000] [10] [INFO] Booting worker with pid: 10
[2024-05-24 07:14:39 +0000] [11] [INFO] Booting worker with pid: 11
</code></pre><h2 id="get-a-container-info-of-the-application">Get a container info of the application<a class="td-heading-self-link" href="#get-a-container-info-of-the-application" aria-label="Heading self-link"></a></h2>
<p>List the containers:</p>
<pre tabindex="0"><code>$ drycc ps describe python-getting-started-web-69b7d4bfdc-kl4xf
Container:        python-getting-started-web                   
Image:            drycc/python-getting-started:latest          
Command:          
Args:             
                  - gunicorn                                   
                  - -c                                         
                  - gunicorn_config.py                         
                  - helloworld.wsgi:application                
State:            running                                      
  startedAt:      &#34;2024-05-24T07:14:39Z&#34;                       
Ready:            true                                         
Restart Count:    0                 
</code></pre><h2 id="delete-a-container-of-the-application">delete a container of the application<a class="td-heading-self-link" href="#delete-a-container-of-the-application" aria-label="Heading self-link"></a></h2>
<p>Delete the containers.
Due to the set number of replicas, a new container will be launched to meet the quantity requirement.</p>
<pre tabindex="0"><code>$ drycc ps delete python-getting-started-web-69b7d4bfdc-kl4xf
Deleting python-getting-started-web-69b7d4bfdc-kl4xf from python-getting-started... done
</code></pre><h2 id="get-a-shell-to-a-running-container">Get a Shell to a Running Container<a class="td-heading-self-link" href="#get-a-shell-to-a-running-container" aria-label="Heading self-link"></a></h2>
<p>Verify that the container is running:</p>
<pre tabindex="0"><code>$ drycc ps
NAME                                                RELEASE    STATE    PTYPEE     READY    RESTARTS     STARTED
python-getting-started-web-69b7d4bfdc-kl4xf         v2         up       web        1/1      0             2023-12-08T02:25:00UTC

=== python-getting-started Processes
--- web:
python-getting-started-web-69b7d4bfdc-kl4xf up (v2)
</code></pre><p>Get a shell to the running container:</p>
<pre tabindex="0"><code>$ drycc ps exec python-getting-started-web-69b7d4bfdc-kl4xf -it -- bash
</code></pre><p>In your shell, list the root directory:</p>
<pre tabindex="0"><code># Run this inside the container
ls /
</code></pre><p>Running individual commands in a container</p>
<pre tabindex="0"><code>$ drycc ps exec python-getting-started-web-69b7d4bfdc-kl4xf -- date
</code></pre><p>Use &ldquo;drycc ps &ndash;help&rdquo; for a list of global command-line (applies to all commands).</p>
<h2 id="restarting-an-application-processes">Restarting an Application Processes<a class="td-heading-self-link" href="#restarting-an-application-processes" aria-label="Heading self-link"></a></h2>
<p>If you need to restart an application process, you may use <code>drycc pts restart</code>. Behind the scenes, Drycc Workflow instructs
Kubernetes to terminate the old process and launch a new one in its place.</p>
<pre tabindex="0"><code>$ drycc ps
NAME                                               RELEASE    STATE       PTYPE      READY    RESTARTS     STARTED
scenic-icehouse-web-3291896318-vokg7               v2         up          web        1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-web-3291896318-rsekj               v2         up          web        1/1      0            2023-12-08T02:50:21UTC
scenic-icehouse-web-3291896318-vokg7               v2         up          web        1/1      0            2023-12-08T02:25:00UTC
scenic-icehouse-background-3291896318-yf8kh        v2         up          web        1/1      0            2023-12-08T02:25:00UTC

$ drycc pts restart scenic-icehouse-background
NAME                                               RELEASE    STATE       PTYPE      READY    RESTARTS    STARTED
scenic-icehouse-web-3291896318-vokg7               v2         up          web        1/1      0           2023-12-08T02:25:00UTC
scenic-icehouse-web-3291896318-rsekj               v2         up          web        1/1      0           2023-12-08T02:50:21UTC
scenic-icehouse-web-3291896318-vokg7               v2         up          web        1/1      0           2023-12-08T02:25:00UTC
scenic-icehouse-background-3291896318-yf8kh        v2         starting    web        1/1      0           2023-12-08T02:25:00UTC
</code></pre><p>Notice that the process name has changed from <code>scenic-icehouse-background-3291896318-yf8kh</code> to
<code>scenic-icehouse-background-3291896318-yd87g</code>. In a multi-node Kubernetes cluster, this may also have the effect of scheduling
the Pod to a new node.</p>
<p>Use &ldquo;drycc pts &ndash;help&rdquo; for a list of pts command-line (process types info).</p>
<h2 id="list-an-application-process-types">List an Application Process Types<a class="td-heading-self-link" href="#list-an-application-process-types" aria-label="Heading self-link"></a></h2>
<pre tabindex="0"><code>$ drycc pts
NAME          RELEASE    READY    UP-TO-DATE    AVAILABLE    GARBAGE    STARTED                   
web           v2         3/3      1             1            true       2023-12-08T02:25:00UTC    
background    v2         1/1      1             1            false      2023-12-08T02:25:00UTC    
</code></pre><h2 id="clean-a-process-types">Clean a Process Types<a class="td-heading-self-link" href="#clean-a-process-types" aria-label="Heading self-link"></a></h2>
<p>Clean up non-existent ptypes, it is usually executed automatically when autodeploy is set to <code>true</code>.</p>
<pre tabindex="0"><code>$ drycc pts clean background
</code></pre><h2 id="get-deployment-info-of-the-application-process-type">Get deployment info of the application process type<a class="td-heading-self-link" href="#get-deployment-info-of-the-application-process-type" aria-label="Heading self-link"></a></h2>
<pre tabindex="0"><code>$ drycc pts describe web
Container:    python-getting-started-web                   
Image:        drycc/python-getting-started:latest          
Command:      
Args:         
              - gunicorn                                   
              - -c                                         
              - gunicorn_config.py                         
              - helloworld.wsgi:application                
Limits:       
              cpu 1                                                                                               
              ephemeral-storage 2Gi                                                                               
              memory 1Gi                                                                                          
Liveness:     http-get headers=[] path=/geo/ port=8000 delay=120s timeout=10s period=20s #success=1 #failure=3    
Readiness:    http-get headers=[] path=/geo/ port=8000 delay=120s timeout=10s period=20s #success=1 #failure=3  
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f7fe2ebef366052e0d8bfb14e3e044f5">5.6 - Configuring an Application</h1>
    <div class="lead">How to store configuration of a Drycc app in the environment, keeping config out of code, making it easy to maintain app or deployment specific configs.</div>
	<h1 id="configuring-an-application">Configuring an Application<a class="td-heading-self-link" href="#configuring-an-application" aria-label="Heading self-link"></a></h1>
<p>A Drycc application <a href="http://12factor.net/config">stores config in environment variables</a>.</p>
<h2 id="setting-environment-variables">Setting Environment Variables<a class="td-heading-self-link" href="#setting-environment-variables" aria-label="Heading self-link"></a></h2>
<p>Use <code>drycc config</code> to modify environment variables for a deployed application.</p>
<pre><code>$ drycc help config
Manage environment variables that define app config

Usage:
drycc config [flags]
drycc config [command]

Available Commands:
info        An app config info
set         Set environment variables for an app
unset       Unset environment variables for an app
pull        Pull environment variables to the path
push        Push environment variables from the path
attach      Selects environment groups to attach an app ptype
detach      Selects environment groups to detach an app ptype

Flags:
-a, --app string     The uniquely identifiable name for the application
-g, --group string   The group for which the config needs to be listed
-p, --ptype string   The ptype for which the config needs to be listed
-v, --version int    The version for which the config needs to be listed

Global Flags:
-c, --config string   Path to configuration file. (default &quot;~/.drycc/client.json&quot;)
-h, --help            Display help information

Use &quot;drycc config [command] --help&quot; for more information about a command.
</code></pre>
<p>When config is changed, a new release is created and deployed automatically.</p>
<p>You can set multiple environment variables with one <code>drycc config set</code> command,
or with <code>drycc config push</code> and a local .env file.</p>
<pre><code>$ drycc config set FOO=1 BAR=baz &amp;&amp; drycc config pull
$ cat .env
FOO=1
BAR=baz
$ echo &quot;TIDE=high&quot; &gt;&gt; .env
$ drycc config push
Creating config... done, v4

=== yuppie-earthman
DRYCC_APP: yuppie-earthman
FOO: 1
BAR: baz
TIDE: high
</code></pre>
<p>It can modify environment variables for a process type of application.</p>
<pre><code>$ drycc config set FOO=1 BAR=baz --ptype=web
</code></pre>
<p>It can also modify environment variables for a environment group.</p>
<pre><code>$ drycc config set FOO1=1 BAR1=baz --group=web.env
</code></pre>
<p>Then bind this environment variable group to the web.</p>
<pre><code>$ drycc config attach web web.env
</code></pre>
<p>Of course, you can also detach it.</p>
<pre><code>$ drycc config detach web web.env
</code></pre>
<h2 id="attach-to-backing-services">Attach to Backing Services<a class="td-heading-self-link" href="#attach-to-backing-services" aria-label="Heading self-link"></a></h2>
<p>Drycc treats backing services like databases, caches and queues as <a href="http://12factor.net/backing-services">attached resources</a>.
Attachments are performed using environment variables.</p>
<p>For example, use <code>drycc config</code> to set a <code>DATABASE_URL</code> that attaches
the application to an external PostgreSQL database.</p>
<pre><code>$ drycc config set DATABASE_URL=postgres://user:pass@example.com:5432/db
=== peachy-waxworks
DATABASE_URL: postgres://user:pass@example.com:5432/db
</code></pre>
<p>Detachments can be performed with <code>drycc config unset</code>.</p>
<h2 id="buildpacks-cache">Buildpacks Cache<a class="td-heading-self-link" href="#buildpacks-cache" aria-label="Heading self-link"></a></h2>
<p>By default, apps using the [Imagebuilder][] will reuse the latest image data.
When deploying applications that depend on third-party libraries that have to be fetched,
this could speed up deployments a lot. In order to make use of this, the buildpack must implement
the cache by writing to the cache directory. Most buildpacks already implement this, but when using
custom buildpacks, it might need to be changed to make full use of the cache.</p>
<h3 id="disabling-and-re-enabling-the-cache">Disabling and re-enabling the cache<a class="td-heading-self-link" href="#disabling-and-re-enabling-the-cache" aria-label="Heading self-link"></a></h3>
<p>In some cases, cache might not speed up your application. To disable caching, you can set the
<code>DRYCC_DISABLE_CACHE</code> variable with <code>drycc config set DRYCC_DISABLE_CACHE=1</code>. When you disable the
cache, Drycc will clear up files it created to store the cache. After having it turned off, run
<code>drycc config unset DRYCC_DISABLE_CACHE</code> to re-enable the cache.</p>
<h3 id="clearing-the-cache">Clearing the cache<a class="td-heading-self-link" href="#clearing-the-cache" aria-label="Heading self-link"></a></h3>
<p>Use the following procedure to clear the cache:</p>
<pre><code>$ drycc config set DRYCC_DISABLE_CACHE=1
$ git commit --allow-empty -m &quot;Clearing Drycc cache&quot;
$ git push drycc # (if you use a different remote, you should use your remote name)
$ drycc config unset DRYCC_DISABLE_CACHE
</code></pre>
<h2 id="custom-health-checks">Custom Health Checks<a class="td-heading-self-link" href="#custom-health-checks" aria-label="Heading self-link"></a></h2>
<p>By default, Workflow only checks that the application starts in their Container. A health
check may be added by configuring a health check probe for the application. The health
checks are implemented as Kubernetes Container Probes. A &lsquo;startupProbe&rsquo; &rsquo;livenessProbe&rsquo;
and a &lsquo;readinessProbe&rsquo; can be configured, and each probe can be of type &lsquo;httpGet&rsquo;, &rsquo;exec&rsquo;
or &rsquo;tcpSocket&rsquo; depending on the type of probe the Container requires.</p>
<p>A &lsquo;startupProbe&rsquo; indicates whether the application within the container is started.
All other probes are disabled if a startup probe is provided, until it succeeds.
If the startup probe fails, the container is subjected to its restart policy.</p>
<p>A &rsquo;livenessProbe&rsquo; is useful for applications running for long periods of time, eventually
transitioning to broken states and cannot recover except by restarting them.</p>
<p>Other times, a &lsquo;readinessProbe&rsquo; is useful when the Container is only temporarily unable
to serve, and will recover on its own. In this case, if a Container fails its &lsquo;readinessProbe&rsquo;
, the Container will not be shut down, but rather the Container will stop receiving
incoming requests.</p>
<p>&lsquo;httpGet&rsquo; probes are just as it sounds: it performs a HTTP GET operation on the Container.
A response code inside the 200-399 range is considered a pass. &lsquo;httpGet&rsquo; probes accept a
port number to perform the HTTP GET operation on the Container.</p>
<p>&rsquo;exec&rsquo; probes run a command inside the Container to determine its health. An exit code of
zero is considered a pass, while a non-zero status code is considered a fail. &rsquo;exec&rsquo;
probes accept a string of arguments to be run inside the Container.</p>
<p>&rsquo;tcpSocket&rsquo; probes attempt to open a socket in the Container. The Container is only
considered healthy if the check can establish a connection. &rsquo;tcpSocket&rsquo; probes accept a
port number to perform the socket connection on the Container.</p>
<p>Health checks can be configured on a per-proctype basis for each application using <code>drycc healthchecks set</code>. If no type is mentioned then the health checks are applied to default proc type web, whichever is present. To
configure a <code>httpGet</code> liveness probe:</p>
<pre tabindex="0"><code>$ drycc healthchecks set livenessProbe httpGet 80 --ptype web
Applying livenessProbe healthcheck... done

App:             peachy-waxworks
UUID:            afd84067-29e9-4a5f-9f3a-60d91e938812
Owner:           dev
Created:         2023-12-08T10:25:00Z
Updated:         2023-12-08T10:25:00Z
Healthchecks:
                 livenessProbe web http-get headers=[] path=/ port=80 delay=50s timeout=50s period=10s #success=1 #failure=3
</code></pre><p>If the application relies on certain headers being set (such as the <code>Host</code> header) or a specific
URL path relative to the root, you can also send specific HTTP headers:</p>
<pre tabindex="0"><code>$ drycc healthchecks set livenessProbe httpGet 80 \
    --path /welcome/index.html \
    --headers &#34;X-Client-Version:v1.0,X-Foo:bar&#34;
Applying livenessProbe healthcheck... done

App:             peachy-waxworks
UUID:            afd84067-29e9-4a5f-9f3a-60d91e938812
Owner:           dev
Created:         2023-12-08T10:25:00Z
Updated:         2023-12-08T10:25:00Z
Healthchecks:
                 livenessProbe web http-get headers=[X-Client-Version=v1.0] path=/welcome/index.html port=80 delay=50s timeout=50s period=10s #success=1 #failure=3
</code></pre><p>To configure an <code>exec</code> readiness probe:</p>
<pre tabindex="0"><code>$ drycc healthchecks set readinessProbe exec -- /bin/echo -n hello --ptype web
Applying readinessProbe healthcheck... done

App:             peachy-waxworks
UUID:            afd84067-29e9-4a5f-9f3a-60d91e938812
Owner:           dev
Created:         2023-12-08T10:25:00Z
Updated:         2023-12-08T10:25:00Z
Healthchecks:
                 readinessProbe web exec /bin/echo -n hello delay=50s timeout=50s period=10s #success=1 #failure=3
</code></pre><p>You can overwrite a probe by running <code>drycc healthchecks set</code> again:</p>
<pre tabindex="0"><code>$ drycc healthchecks set readinessProbe httpGet 80 --ptype web
Applying livenessProbe healthcheck... done

App:             peachy-waxworks
UUID:            afd84067-29e9-4a5f-9f3a-60d91e938812
Owner:           dev
Created:         2023-12-08T10:25:00Z
Updated:         2023-12-08T10:25:00Z
Healthchecks:
                 livenessProbe web http-get headers=[] path=/ port=80 delay=50s timeout=50s period=10s #success=1 #failure=3
</code></pre><p>Configured health checks also modify the default application deploy behavior. When starting a new
Pod, Workflow will wait for the health check to pass before moving onto the next Pod.</p>
<h2 id="autodeploy">Autodeploy<a class="td-heading-self-link" href="#autodeploy" aria-label="Heading self-link"></a></h2>
<p>By default, Changes the config, limits or healthchecks and so on will trigger deploy.
If you don&rsquo;t want deploy, you can disable.</p>
<pre tabindex="0"><code>$ drycc autodeploy disable
</code></pre><p>To re-enable autodeploy.</p>
<pre tabindex="0"><code>drycc autodeploy enable
</code></pre><p>you can deploy by executing the following command.
deploy all ptypes</p>
<pre tabindex="0"><code>drycc releases deploy
</code></pre><p>deploy web process type, and support <code>--force</code> option to force deploy.</p>
<pre tabindex="0"><code>drycc releases deploy web --force
</code></pre><h2 id="autorollback">Autorollback<a class="td-heading-self-link" href="#autorollback" aria-label="Heading self-link"></a></h2>
<p>By default, deployment failures will roll back to the previous successful version.
If you don&rsquo;t want this to happen, you can disable.</p>
<pre tabindex="0"><code>$ drycc autorollback disable
</code></pre><p>To re-enable autorollback.</p>
<pre tabindex="0"><code>drycc autorollback enable
</code></pre><h2 id="isolate-the-application">Isolate the Application<a class="td-heading-self-link" href="#isolate-the-application" aria-label="Heading self-link"></a></h2>
<p>Workflow supports isolating applications onto a set of nodes using <code>drycc tags</code>.</p>
<p>!!! note
In order to use tags, you must first launch your cluster with the proper node labels. If you do
not, tag commands will fail. Learn more by reading <a href="http://kubernetes.io/docs/user-guide/node-selection/">&ldquo;Assigning Pods to Nodes&rdquo;</a>.</p>
<p>Once your nodes are configured with appropriate label selectors, use <code>drycc tags set</code> to restrict
the application ptype to those nodes:</p>
<pre tabindex="0"><code>$ drycc tags set web environ=prod
Applying tags...  done, v4

environ  prod
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9db3915fd6ded30b69a25418cc7df8c0">5.7 - Managing Application Metrics</h1>
    <div class="lead">Metrics supports basic monitoring capabilities for Pod, providing various monitoring indicators such as CPU, memory, disk, network, etc., to meet the basic monitoring requirements for Pod resources.</div>
	<h2 id="create-an-authentication-token">Create an authentication token<a class="td-heading-self-link" href="#create-an-authentication-token" aria-label="Heading self-link"></a></h2>
<p>Create an authentication token using the drycc client.</p>
<pre tabindex="0"><code># drycc tokens add prometheus --password admin --username admin
 !    WARNING: Make sure to copy your token now.
 !    You won&#39;t be able to see it again, please confirm whether to continue.
 !    To proceed, type &#34;yes&#34; !

&gt; yes
UUID                                  USERNAME    TOKEN                                                                                              
58176cf1-37a8-4c52-9b27-4c7a47269dfb  admin       1F2c7A802aF640fd9F31dD846AdDf56BcMsay
</code></pre><h2 id="add-scrape-configurations-for-prometheus">Add scrape configurations for prometheus<a class="td-heading-self-link" href="#add-scrape-configurations-for-prometheus" aria-label="Heading self-link"></a></h2>
<p>A valid example file can be found here.</p>
<p>The global configuration specifies parameters that are valid in all other configuration contexts. They also serve as defaults for other configuration sections.</p>
<pre tabindex="0"><code>global:
  scrape_interval:   60s
  evaluation_interval: 60s
scrape_configs:
- job_name: &#39;drycc&#39;
  scheme: https
  metrics_path: /v2/apps/&lt;appname&gt;/metrics
  authorization:
    type: Token
    credentials: 1F2c7A802aF640fd9F31dD846AdDf56BcMsay
  static_configs:
  - targets: [&#39;drycc.domain.com&#39;]
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8b23c65b4ab7634b1e278d7873029bf6">5.8 - Managing an Application</h1>
    <div class="lead">This is a high-level, technical description of how Drycc works. It ties together many of the concepts you&rsquo;ll encounter while writing, configuring, deploying and running applications on the Drycc platform.</div>
	<h2 id="track-application-changes">Track Application Changes<a class="td-heading-self-link" href="#track-application-changes" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow tracks all changes to your application. Application changes are the result of either new application code
pushed to the platform (via <code>git push drycc master</code>), or an update to application configuration (via <code>drycc config:set KEY=VAL</code>).</p>
<p>Each time a build or config change is made to your application a new <a href="../reference-guide/terms.md#release">release</a> is created. These release numbers
increase monotonically.</p>
<p>You can see a record of changes to your application using <code>drycc releases</code>:</p>
<pre tabindex="0"><code>$ drycc releases
OWNER    STATE      VERSION    CREATED                 SUMMARY
dev      succeed    v3         2023-12-04T10:17:46Z    dev deleted PIP_INDEX_URL, DISABLE_COLLECTSTATIC
dev      succeed    v2         2023-12-01T10:20:22Z    dev added IMAGE_PULL_POLICY, PIP_INDEX_URL, PORT, DISABLE_COLLEC[...]
dev      succeed    v1         2023-11-30T17:54:57Z    dev created initial release
</code></pre><h2 id="rollback-a-release">Rollback a Release<a class="td-heading-self-link" href="#rollback-a-release" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow also supports rolling back go previous releases. If buggy code or an errant configuration change is pushed
to your application, you may rollback to a previously known, good release.</p>
<p>!!! note
All rollbacks create a new, numbered release. But will reference the build/code and configuration from the desired rollback point.</p>
<p>In this example, the application is currently running release v4. Using <code>drycc rollback v2</code> tells Workflow to deploy the
build and configuration that was used for release v2. This creates a new release named v5 whose contents are the source
and configuration from release v2:</p>
<pre tabindex="0"><code>$ drycc releases
OWNER    STATE      VERSION    CREATED                 SUMMARY
dev      succeed    v3         2023-12-04T10:17:46Z    dev deleted PIP_INDEX_URL, DISABLE_COLLECTSTATIC
dev      succeed    v2         2023-12-01T10:20:22Z    dev added IMAGE_PULL_POLICY, PIP_INDEX_URL, PORT, DISABLE_COLLEC[...]
dev      succeed    v1         2023-11-30T17:54:57Z    dev created initial release

$ drycc rollback v2
Rolled back to v2

$ drycc releases
OWNER    STATE      VERSION    CREATED                 SUMMARY
dev      succeed    v4         2023-12-04T10:20:46Z    dev rolled back to v2
dev      succeed    v3         2023-12-04T10:17:46Z    dev deleted PIP_INDEX_URL, DISABLE_COLLECTSTATIC
dev      succeed    v2         2023-12-01T10:20:22Z    dev added IMAGE_PULL_POLICY, PIP_INDEX_URL, PORT, DISABLE_COLLEC[...]
dev      succeed    v1         2023-11-30T17:54:57Z    dev created initial release
</code></pre><p>Only rollback web process type:</p>
<pre tabindex="0"><code>$ drycc rollback v3 web
Rolled back to v3

$ drycc releases
OWNER    STATE      VERSION    CREATED                 SUMMARY
dev      succeed    v5         2023-12-04T10:23:49Z    dev rolled back to v3
dev      succeed    v4         2023-12-04T10:20:46Z    dev rolled back to v2
dev      succeed    v3         2023-12-04T10:17:46Z    dev deleted PIP_INDEX_URL, DISABLE_COLLECTSTATIC
dev      succeed    v2         2023-12-01T10:20:22Z    dev added IMAGE_PULL_POLICY, PIP_INDEX_URL, PORT, DISABLE_COLLEC[...]
dev      succeed    v1         2023-11-30T17:54:57Z    dev created initial release
</code></pre><h2 id="run-one-off-administration-tasks">Run One-off Administration Tasks<a class="td-heading-self-link" href="#run-one-off-administration-tasks" aria-label="Heading self-link"></a></h2>
<p>Drycc applications <a href="http://12factor.net/admin-processes">use one-off processes for admin tasks</a> like database migrations and other commands that must run against the live application.</p>
<p>Use <code>drycc run</code> to execute commands on the deployed application.</p>
<pre><code>$ drycc run -- 'ls -l'
Running `ls -l`...

total 28
-rw-r--r-- 1 root root  553 Dec  2 23:59 LICENSE
-rw-r--r-- 1 root root   60 Dec  2 23:59 Procfile
-rw-r--r-- 1 root root   33 Dec  2 23:59 README.md
-rw-r--r-- 1 root root 1622 Dec  2 23:59 pom.xml
drwxr-xr-x 3 root root 4096 Dec  2 23:59 src
-rw-r--r-- 1 root root   25 Dec  2 23:59 system.properties
drwxr-xr-x 6 root root 4096 Dec  3 00:00 target
</code></pre>
<h2 id="share-an-application">Share an Application<a class="td-heading-self-link" href="#share-an-application" aria-label="Heading self-link"></a></h2>
<p>Use <code>drycc perms add</code> to allow another Drycc user to collaborate on your application.</p>
<pre tabindex="0"><code>$ drycc perms add otheruser view,change,delete
Adding user otheruser as a collaborator for view,change,delete peachy-waxwork... done
</code></pre><p>Use <code>drycc perms</code> to see who an application is currently shared with, and <code>drycc perms remove</code> to remove a collaborator.</p>
<p>!!! note
Collaborators can do anything with an application that its owner can do, except delete the application.</p>
<p>When working with an application that has been shared with you, clone the original repository and add Drycc&rsquo; git remote
entry before attempting to <code>git push</code> any changes to Drycc.</p>
<pre tabindex="0"><code>$ git clone https://github.com/drycc/example-java-jetty.git
Cloning into &#39;example-java-jetty&#39;... done
$ cd example-java-jetty
$ git remote add -f drycc ssh://git@local3.dryccapp.com:2222/peachy-waxworks.git
Updating drycc
From drycc-controller.local:peachy-waxworks
 * [new branch]      master     -&gt; drycc/master
</code></pre><h2 id="application-troubleshooting">Application Troubleshooting<a class="td-heading-self-link" href="#application-troubleshooting" aria-label="Heading self-link"></a></h2>
<p>Applications deployed on Drycc Workflow <a href="http://12factor.net/logs">treat logs as event streams</a>. Drycc Workflow aggregates <code>stdout</code> and <code>stderr</code>
from every <a href="../reference-guide/terms.md#container">Container</a> making it easy to troubleshoot problems with your application.</p>
<p>Use <code>drycc logs</code> to view the log output from your deployed application.</p>
<pre><code>$ drycc logs -f
Dec  3 00:30:31 ip-10-250-15-201 peachy-waxworks[web.5]: INFO:oejsh.ContextHandler:started o.e.j.s.ServletContextHandler{/,null}
Dec  3 00:30:31 ip-10-250-15-201 peachy-waxworks[web.8]: INFO:oejs.Server:jetty-7.6.0.v20120127
Dec  3 00:30:31 ip-10-250-15-201 peachy-waxworks[web.5]: INFO:oejs.AbstractConnector:Started SelectChannelConnector@0.0.0.0:10005
Dec  3 00:30:31 ip-10-250-15-201 peachy-waxworks[web.6]: INFO:oejsh.ContextHandler:started o.e.j.s.ServletContextHandler{/,null}
Dec  3 00:30:31 ip-10-250-15-201 peachy-waxworks[web.7]: INFO:oejsh.ContextHandler:started o.e.j.s.ServletContextHandler{/,null}
Dec  3 00:30:31 ip-10-250-15-201 peachy-waxworks[web.6]: INFO:oejs.AbstractConnector:Started SelectChannelConnector@0.0.0.0:10006
Dec  3 00:30:31 ip-10-250-15-201 peachy-waxworks[web.8]: INFO:oejsh.ContextHandler:started o.e.j.s.ServletContextHandler{/,null}
Dec  3 00:30:31 ip-10-250-15-201 peachy-waxworks[web.7]: INFO:oejs.AbstractConnector:Started SelectChannelConnector@0.0.0.0:10007
Dec  3 00:30:31 ip-10-250-15-201 peachy-waxworks[web.8]: INFO:oejs.AbstractConnector:Started SelectChannelConnector@0.0.0.0:10008
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4f70d2fc7490bc1f7a4aba25dd86ea12">5.9 - Mounting volumes for an Application</h1>
    <div class="lead">Drycc supports many types of volumes. A container can use any number of volume types simultaneously.</div>
	<p>We can use the blow command to create volumes and mount the created volumes.
Drycc create volume support <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes">ReadWriteMany</a>, so before deploying drycc, you need to have a StorageClass ready which can support ReadWriteMany.
Deploying drycc, set controller.appStorageClass to this StorageClass.</p>
<p>Use <code>drycc volumes</code> to mount a volume for a deployed application&rsquo;s processes.</p>
<pre><code>$ drycc help volumes
Valid commands for volumes:

add              create a volume for the application
expand           expand a volume for the application
list             list volumes in the application
info             print information about a volume
remove           delete a volume from the application
client           the client used to manage volume files
mount            mount a volume to process of the application
unmount          unmount a volume from process of the application

Use 'drycc help [command]' to learn more.
</code></pre>
<h2 id="create-a-volume-for-the-application">Create a volume for the application<a class="td-heading-self-link" href="#create-a-volume-for-the-application" aria-label="Heading self-link"></a></h2>
<p>You can create a csi volume with the <code>drycc volumes add</code> command.</p>
<pre><code>$ drycc volumes add myvolume 200M
Creating myvolume to scenic-icehouse... done
</code></pre>
<p>Or use an existing nfs server</p>
<pre><code>$ drycc volumes add mynfsvolume 200M -t nfs --nfs-server=nfs.drycc.com --nfs-path=/
Creating mynfsvolume to scenic-icehouse... done
</code></pre>
<p>Or maybe use an existing oss3</p>
<pre><code>$ drycc volumes add myossvolume 200M -t oss --oss-server=oss.drycc.com --oss-bucket=vbucket --oss-access-key=ak --oss-secret-key=sk
Creating myossvolume to scenic-icehouse... done
</code></pre>
<h2 id="list-volumes-in-the-application">List volumes in the application<a class="td-heading-self-link" href="#list-volumes-in-the-application" aria-label="Heading self-link"></a></h2>
<p>After volume is created, you can list the volumes in this application.</p>
<pre><code>$ drycc volumes list
NAME          OWNER    TYPE    PTYPE    PATH     SIZE
myvolume      admin    csi                       200M
mynfsvolume   admin    nfs                       200M
myossvolume   admin    oss                       200M
</code></pre>
<h2 id="mount-a-volume">Mount a volume<a class="td-heading-self-link" href="#mount-a-volume" aria-label="Heading self-link"></a></h2>
<p>The volume which is named myvolume is created, you can mount the volume with process of the application,
use the command of <code>drycc volumes mount</code>. When volume is mounted, a new release will be created and deployed automatically.</p>
<pre><code>$ drycc volumes mount myvolume web=/data/web
Mounting volume... done
</code></pre>
<p>And use <code>drycc volumes list</code> show mount detail.</p>
<pre><code>$ drycc volumes list
NAME       OWNER    TYPE    PTYPE    PATH         SIZE
myvolume   admin    nfs     web      /data/web    200M
</code></pre>
<p>If you don&rsquo;t need the volume, use <code>drycc volumes unmount</code> to unmount the volume and then use  <code>drycc volumes remove</code> to delete the volume from the application.
Before deleting volume, the volume has to be unmounted.</p>
<pre><code>$ drycc volumes unmount myvolume web
Unmounting volume... done

$ drycc volumes remove myvolume
Deleting myvolume from scenic-icehouse... done
</code></pre>
<h2 id="use-volume-client-to-manage-volume-files">Use volume client to manage volume files.<a class="td-heading-self-link" href="#use-volume-client-to-manage-volume-files" aria-label="Heading self-link"></a></h2>
<p>Assume the volume which is named myvolume is created and mounted.</p>
<p>Prepare a file named testfile.</p>
<pre><code>$ echo &quot;testtext&quot; &gt; testfile
</code></pre>
<p>Upload.
$ drycc volumes client cp testfile vol://myvolume/
[↑] testfile                       100% [==================================================] (5/ 5 B, 355 B/s)</p>
<p>List files in myvolume.</p>
<pre><code>$ drycc volumes client ls vol://myvolume/
[2024-07-22T15:32:28+08:00]    5    testfile
</code></pre>
<p>Delete testfle in myvolume.</p>
<pre><code>$ drycc volumes client rm vol://myvolume/testfile</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d364e5ac44490f83dacb071ecdaaebb8">5.10 - About gateway for an Application</h1>
    <div class="lead">A Gateway describes how traffic can be translated to Services within the cluster.</div>
	<p>A <a href="https://gateway-api.sigs.k8s.io/">Gateway</a> describes how traffic can be translated to Services within the cluster. That is, it defines a request for a way to translate traffic from somewhere that does not know about Kubernetes to somewhere that does. For example, traffic sent to a Kubernetes Service by a cloud load balancer, an in-cluster proxy, or an external hardware load balancer. While many use cases have client traffic originating “outside” the cluster, this is not a requirement.</p>
<h2 id="create-gateway-for-an-application">Create Gateway for an Application<a class="td-heading-self-link" href="#create-gateway-for-an-application" aria-label="Heading self-link"></a></h2>
<p>Gateway is a way of exposing services externally, which generates an external IP address to connect route and service.
After deploy, the gateway has been created.</p>
<p>List the containers:</p>
<pre tabindex="0"><code># drycc gateways
NAME                      LISENTER       PORT     PROTOCOL    ADDRESSES      
python-getting-started    tcp-80-0       80       HTTP        101.65.132.51     
</code></pre><p>You can also add a port in this gateway or create a one.</p>
<pre tabindex="0"><code># drycc gateways add python-getting-started --port=443 --protocol=HTTPS
Adding gateway python-getting-started to python-getting-started... done     
</code></pre><h2 id="create-service-for-an-application">Create service for an Application<a class="td-heading-self-link" href="#create-service-for-an-application" aria-label="Heading self-link"></a></h2>
<p>Service is a way of exposing services internally, creating a service generates an internal DNS that can access <code>ptype</code>.
the web process type has been created, for others types, you should add as needed.</p>
<p>List the services:</p>
<pre tabindex="0"><code>$ drycc services
PTYPE      PORT    PROTOCOL    TARGET-PORT    DOMAIN                                    
web        80      TCP         8000           python-getting-started.python-getting-started.svc.cluster.local  
</code></pre><p>Add a new service for process type</p>
<pre tabindex="0"><code># drycc services add --help
# drycc services add sleep 8001:8001
</code></pre><h2 id="create-route-for-an-application">Create Route for an Application<a class="td-heading-self-link" href="#create-route-for-an-application" aria-label="Heading self-link"></a></h2>
<p>A Gateway may be attached to one or more Route references which serve to direct traffic for a subset of traffic to a specific service.
Same as the above， the web process type already bind the gateway and servies.</p>
<pre tabindex="0"><code># drycc routes
NAME                           OWNER        KIND           GATEWAYS                              SERVICES       
python-getting-started         demo         HTTPRoute      [&#34;python-getting-started:80&#34;]         [&#34;python-getting-started:80&#34;]      
</code></pre><p>create a new route and attach gateway.</p>
<pre tabindex="0"><code>drycc routes add sleep HTTPRoute --ptype=sleep  sleep:8001,100
drycc routes attach sleep --gateway=python-getting-started --port=80
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b120b91d31144e14252d09e3351ac63d">5.11 - Managing resources for an Application</h1>
    <div class="lead">Tools and services for developing, extending, and operating your app.</div>
	<p>We can use blow command to create resources and bind which resource is created.
This command depend on <a href="https://service-catalog.drycc.cc">service-catalog</a>.</p>
<p>Use <code>drycc resources</code> to create and bind a resource for a deployed application.</p>
<pre><code>$ drycc help resources
Manage resources for your applications

Usage:
drycc resources [flags]
drycc resources [command]

Available Commands:
services    List all available resource services
plans       List all available plans for a resource service
create      Create a resource for the application
list        List resources in the application
describe    Get a resource's detail in the application
update      Update a resource from the application
bind        Bind a resource for an application
unbind      unbind a resources for an application
destroy     Delete a resource from the application

Flags:
-a, --app string   The uniquely identifiable name for the application
-l, --limit int    The maximum number of results to display

Global Flags:
-c, --config string   Path to configuration file. (default &quot;~/.drycc/client.json&quot;)
-h, --help            Display help information
-v, --version         Display client version

Use &quot;drycc resources [command] --help&quot; for more information about a command.
</code></pre>
<h2 id="list-all-available-resource-services">List all available resource services<a class="td-heading-self-link" href="#list-all-available-resource-services" aria-label="Heading self-link"></a></h2>
<p>You can list available resource services with one <code>drycc resources services</code> command</p>
<pre><code>$ drycc resources services
ID                                      NAME                  UPDATEABLE 
15032a52-33c2-4b40-97aa-ceb972f51509    airflow               true          
b7cb26a4-b258-445c-860b-a664239a67f8    cloudbeaver           true          
9ce3c3ba-33b5-4e4e-a5e9-a338a83d5070    flink                 true          
b80c51a1-957c-4d93-b3d5-efde84cd8031    fluentbit             true          
fff5b6c7-ed85-429b-8265-493e40cc53c7    grafana               true          
412e368f-bf78-4798-92cc-43343119a57d    kafka                 true          
ea2a9b87-fbc4-4e2a-adee-161c1f91d98d    minio                 true          
383f7316-84f3-4955-8491-1d4b02b749c8    mongodb               true          
fbee746b-f3a7-4bef-8b55-cbecfd4c8ac3    mysql-cluster         true          
5975094d-45cc-4e85-8573-f93937d026c7    opensearch            true          
1db95161-7193-4544-8c76-e5ad5f6c03f6    pmm                   true          
5cfb0abf-276c-445b-9060-9aa964ede87d    postgresql-cluster    true          
b8f70264-eafc-4b2f-848e-2ec0d059032b    prometheus            true    
e1fd0d37-9046-4152-a29b-d155c5657c8b    redis                 true          
7d2b64c6-0b59-4f08-a2f5-7b17cea6e5ee    redis-cluster         true          
2e6877df-86e7-4bcc-a869-2a9b6847a465    seaweedfs             true          
4aea5c0f-9495-420d-896a-ffc61a3eced5    spark                 true          
b50db3b5-8d5f-4be9-b8bd-467ecd6cc11d    zookeeper             true
</code></pre>
<h2 id="list-all-available-plans-for-an-resource-services">List all available plans for an resource services<a class="td-heading-self-link" href="#list-all-available-plans-for-an-resource-services" aria-label="Heading self-link"></a></h2>
<p>You can list all available plans for an resource services with one <code>drycc resources plans</code> command</p>
<pre><code>$ drycc resources plans redis
ID                                      NAME              DESCRIPTION                                                       
8d659058-a3b4-4058-b039-cc03a31b9442    standard-128      Redis standard-128 plan which limit resources memory size 128Mi.     
36e3dbec-fc51-4f6b-9baa-e31e316858be    standard-256      Redis standard-256 plan which limit resources memory size 256Mi.     
560817c2-5aa1-41c4-9ee6-a77e3ee552d5    standard-512      Redis standard-512 plan which limit resources memory size 512Mi.     
d544d989-9fb8-43e9-a74e-0840ce1b8f0f    standard-1024     Redis standard-1024 plan which limit resources memory size 1Gi.      
ad51b7bb-9b12-4ffd-8e49-010c0141b263    standard-2048     Redis standard-2048 plan which limit resources memory size 2Gi.      
5097d76e-557c-453f-bdb1-54009e0df78d    standard-4096     Redis standard-4096 plan which limit resources memory size 4Gi.      
be3fa2d0-36d2-47c5-9561-9deffe5ba373    standard-8192     Redis standard-8192 plan which limit resources memory size 8Gi.      
4ca812a8-d7c3-439f-96cd-26523e88400e    standard-16384    Redis standard-16384 plan which limit resources memory size 16Gi.    
b7f2a71f-0d97-48fd-8eed-aab24a7822f3    standard-32768    Redis standard-32768 plan which limit resources memory size 32Gi.    
25c6b5d5-7505-47c8-95b1-dc9bdc698063    standard-65536    Redis standard-65536 plan which limit resources memory size 64Gi.
</code></pre>
<h2 id="create-resource-in-application">Create resource in application<a class="td-heading-self-link" href="#create-resource-in-application" aria-label="Heading self-link"></a></h2>
<p>You can create a resource with one <code>drycc resources create</code> command</p>
<pre><code>$ drycc resources create redis redis standard-128
Creating redis to scenic-icehouse... done
</code></pre>
<p>After resources are created, you can list the resources in this application.</p>
<pre><code>$ drycc resources list
UUID                                    NAME     OWNER    PLAN                  UPDATED              
07220e9e-d54d-4d74-a88c-f464aa374386    redis    admin    redis:standard-128    2024-05-08T01:01:00Z   
</code></pre>
<h2 id="bind-resources">Bind resources<a class="td-heading-self-link" href="#bind-resources" aria-label="Heading self-link"></a></h2>
<p>The resource which is named redis is created, you can bind the redis to the application,
use the command of <code>drycc resources bind redis</code>.</p>
<pre><code>$ drycc resources bind redis
Binding resource... done
</code></pre>
<h2 id="describe-resources">Describe resources<a class="td-heading-self-link" href="#describe-resources" aria-label="Heading self-link"></a></h2>
<p>And use <code>drycc resources describe</code> show the binding detail. If the binding is successful, this command will show the information of connect to the resource.</p>
<pre><code>$ drycc resources describe redis
=== scenic-icehouse resource redis
plan:               redis:1000
status:             Ready
binding:            Ready

REDISPORT:          6379
REDIS_PASSWORD:     RzG87SJWG1
SENTINELHOST:       172.16.0.2
SENTINELPORT:       26379
</code></pre>
<h2 id="update-resources">Update resources<a class="td-heading-self-link" href="#update-resources" aria-label="Heading self-link"></a></h2>
<p>You can use the <code>drycc resources update</code> command to upgrade a new plan.
An example of how to upgrade the plan&rsquo;s capacity to 128MB:</p>
<pre><code>$ drycc resources update redis redis standard-128
Updating redis to scenic-icehouse... done
</code></pre>
<h2 id="remove-the-resource">Remove the resource<a class="td-heading-self-link" href="#remove-the-resource" aria-label="Heading self-link"></a></h2>
<p>If you don&rsquo;t need resources, use <code>drycc resources unbind</code> to unbind the resource and then use <code>drycc resources destroy</code> to delete the resource from the application.
Before deleting the resource, the resource must be unbinded.</p>
<pre><code>$ drycc resources unbind redis
Unbinding resource... done

$ drycc resources destroy redis
Deleting redis from scenic-icehouse... done
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-af7e8c313c7749aeeb64a743cd877d8c">5.12 - Inter-app Communication</h1>
    <div class="lead">The Communication Solution between Drycc Applicatios.</div>
	<p>A common architecture pattern of multi-process applications is to have one process serve public requests while having multiple other processes supporting the public one to, for example, perform actions on a schedule or process work items from a queue. To implement this system of apps in Drycc Workflow, set up the apps to communicate using DNS resolution, as shown above, and hide the supporting processes from public view by removing them from the Drycc Workflow router.</p>
<h3 id="dns-service-discovery">DNS Service Discovery<a class="td-heading-self-link" href="#dns-service-discovery" aria-label="Heading self-link"></a></h3>
<p>Drycc Workflow supports deploying a single app composed of a system of processes. Each Drycc Workflow app communicates on a single port, so communicating with another Workflow app means finding that app&rsquo;s address and port. All Workflow apps are mapped to port 80 externally, so finding its IP address is the only challenge. Workflow creates a <a href="https://kubernetes.io/docs/user-guide/services/">Kubernetes Service</a> for each app, which effectively assigns a name and one cluster-internal IP address to an app. The DNS service running in the cluster adds and removes DNS records which point from the app name to its IP address as services are added and removed. Drycc Workflow apps, then, can simply send requests to the domain name given to the service, which is &ldquo;app-name.app-namespace&rdquo;.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3d9c4efe910f455454c4946b64225b5f">5.13 - Resource Limits</h1>
    <div class="lead">Drycc Workflow supports restricting memory and CPU shares of each process.</div>
	<h2 id="heading"><a class="td-heading-self-link" href="#heading" aria-label="Heading self-link"></a></h2>
<h2 id="managing-application-resource-limits">Managing Application Resource Limits<a class="td-heading-self-link" href="#managing-application-resource-limits" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow supports restricting memory and CPU shares of each process. Requests/Limits set on a per-process type are given to
Kubernetes as a requests and limits. Which means you guarantee &lt;requests&gt; amount of resource for a process as well as limit
the process from using more than &lt;limits&gt;.
By default, Kubernetes will set &lt;requests&gt; equal to &lt;limit&gt; if we don&rsquo;t explicitly set &lt;requests&gt; value. Please keep in mind that <code>0 &lt;= requests &lt;= limits</code>.</p>
<h2 id="limiting">Limiting<a class="td-heading-self-link" href="#limiting" aria-label="Heading self-link"></a></h2>
<p>If you set a requests/limits that is out of range for your cluster, Kubernetes will be unable to schedule your application
processes into the cluster!</p>
<pre tabindex="0"><code>$ drycc limits plans

ID                    SPEC    CPU              VCPUS    MEMORY     FEATURES                      
std1.large.c1m1       std1    Universal CPU    1        1 GiB      Integrated GPU shared    
std1.large.c1m2       std1    Universal CPU    1        2 GiB      Integrated GPU shared    
std1.large.c1m4       std1    Universal CPU    1        4 GiB      Integrated GPU shared    
std1.large.c1m8       std1    Universal CPU    1        8 GiB      Integrated GPU shared    
std1.large.c2m2       std1    Universal CPU    2        2 GiB      Integrated GPU shared    
std1.large.c2m4       std1    Universal CPU    2        4 GiB      Integrated GPU shared    
std1.large.c2m8       std1    Universal CPU    2        8 GiB      Integrated GPU shared    
std1.large.c2m16      std1    Universal CPU    2        16 GiB     Integrated GPU shared    

$ drycc limits set web=std1.large.c1m1
Applying limits... done
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-587aac9ca7fb3c0e091c5b73ec65588b">5.14 - Domains and Routing</h1>
    <div class="lead">Make your apps accessible via custom domain names.</div>
	<p>You can use <code>drycc domains</code> to add or remove custom domains to the application:</p>
<pre><code>$ drycc domains add hello.bacongobbler.com --ptype=web
Adding hello.bacongobbler.com to finest-woodshed... done
</code></pre>
<p>Once that&rsquo;s done, you can go into a DNS registrar and set up a CNAME from the new
appname to the old one:</p>
<pre><code>$ dig hello.dryccapp.com
[...]
;; ANSWER SECTION:
hello.bacongobbler.com.         1759    IN    CNAME    finest-woodshed.dryccapp.com.
finest-woodshed.dryccapp.com.    270     IN    A        172.17.8.100
</code></pre>
<p>!!! note
Setting a CNAME for a root domain can cause issues. Setting an @ record
to be a CNAME causes all traffic to go to the other domain, including mail and the SOA
(&ldquo;start-of-authority&rdquo;) records. It is highly recommended that you bind a subdomain to
an application, however you can work around this by pointing the @ record to the
address of the load balancer (if any).</p>
<p>To add or remove the application from the routing mesh, use <code>drycc routing</code>:</p>
<pre><code>$ drycc routing disable
Disabling routing for finest-woodshed... done
</code></pre>
<p>This will make the application unreachable through the <a href="/docs/understanding-workflow/components/#router">Router</a>, but the application is still
reachable internally through its <a href="../reference-guide/terms.md#service">Kubernetes Service</a>. To re-enable routing:</p>
<pre><code>$ drycc routing enable
Enabling routing for finest-woodshed... done
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ea3f4f0325f471c26fd2281464da7884">5.15 - Application SSL Certificates</h1>
    <div class="lead">SSL is a cryptographic protocol that provides end-to-end encryption and integrity for all web requests.</div>
	<h1 id="application-ssl-certificates">Application SSL Certificates<a class="td-heading-self-link" href="#application-ssl-certificates" aria-label="Heading self-link"></a></h1>
<p>SSL is a cryptographic protocol that provides end-to-end encryption and integrity for all web
requests. Apps that transmit sensitive data should enable SSL to ensure all information is
transmitted securely.</p>
<p>To enable SSL on a custom domain, e.g., <code>www.example.com</code>, use the SSL endpoint.</p>
<p>!!! note
<code>drycc certs</code> is only useful for custom domains. Default application domains are
SSL-enabled already and can be accessed simply by using https,
e.g. <code>https://foo.dryccapp.com</code> (provided that you have <a href="https://gateway-api.sigs.k8s.io/guides/tls/">installed your wildcard
certificate</a> on the routers or on the load balancer).</p>
<h2 id="overview">Overview<a class="td-heading-self-link" href="#overview" aria-label="Heading self-link"></a></h2>
<p>Because of the unique nature of SSL validation, provisioning SSL for your domain is a multi-step
process that involves several third-parties. You will need to:</p>
<ol>
<li>Purchase an SSL certificate from your SSL provider</li>
<li>Upload the cert to Drycc</li>
</ol>
<h2 id="acquire-ssl-certificate">Acquire SSL Certificate<a class="td-heading-self-link" href="#acquire-ssl-certificate" aria-label="Heading self-link"></a></h2>
<p>Purchasing an SSL cert varies in cost and process depending on the vendor. <a href="https://www.rapidssl.com/">RapidSSL</a> offers a
simple way to purchase a certificate and is a recommended solution. If you’re able to use this
provider, see <a href="https://www.rapidssl.com/buy-ssl/">buy an SSL certificate with RapidSSL</a> for instructions.</p>
<h2 id="dns-and-domain-configuration">DNS and Domain Configuration<a class="td-heading-self-link" href="#dns-and-domain-configuration" aria-label="Heading self-link"></a></h2>
<p>Once the SSL certificate is provisioned and your cert is confirmed, you must route requests for
your domain through Drycc. Unless you&rsquo;ve already done so, add the domain specified when generating
the CSR to your app with:</p>
<pre><code>$ drycc domains add www.example.com --ptype==web -a foo
Adding www.example.com to foo... done
</code></pre>
<h2 id="add-a-certificate">Add a Certificate<a class="td-heading-self-link" href="#add-a-certificate" aria-label="Heading self-link"></a></h2>
<p>Add your certificate, any intermediate certificates, and private key to the endpoint with the
<code>certs:add</code> command.</p>
<pre><code>$ drycc certs add example-com server.crt server.key -a foo
Adding SSL endpoint... done
www.example.com
</code></pre>
<p>!!! note
The name given to the certificate can only contain a-z (lowercase), 0-9 and hyphens</p>
<p>The Drycc platform will investigate the certificate and extract any relevant information from it
such as the Common Name, Subject Alt Names (SAN), fingerprint and more.</p>
<p>This allows for wildcard certificates and multiple domains in the SAN without uploading duplicates.</p>
<h3 id="add-a-certificate-chain">Add a Certificate Chain<a class="td-heading-self-link" href="#add-a-certificate-chain" aria-label="Heading self-link"></a></h3>
<p>Sometimes, your certificates (such as a self-signed or a cheap certificate) need additional
certificates to establish the chain of trust. What you need to do is bundle all the certificates
into one file and give that to Drycc. Importantly, your site’s certificate must be the first one:</p>
<pre><code>$ cat server.crt server.ca &gt; server.bundle
</code></pre>
<p>After that, you can add them to Drycc with the <code>certs add</code> command:</p>
<pre><code>$ drycc certs add example-com server.bundle server.key -a foo
Adding SSL endpoint... done
www.example.com
</code></pre>
<h2 id="attach-ssl-certificate-to-a-domain">Attach SSL certificate to a domain<a class="td-heading-self-link" href="#attach-ssl-certificate-to-a-domain" aria-label="Heading self-link"></a></h2>
<p>Certificates are not automagically connected up to domains, instead you will have to attach a
certificate to a domain</p>
<pre><code>$ drycc certs attach example-com example.com -a foo
</code></pre>
<p>Each certificate can be connected to many domains. There is no need to upload duplicates.</p>
<p>To remove an association</p>
<pre><code>$ drycc certs detach example-com example.com -a foo
</code></pre>
<h2 id="endpoint-overview">Endpoint overview<a class="td-heading-self-link" href="#endpoint-overview" aria-label="Heading self-link"></a></h2>
<p>You can verify the details of your domain&rsquo;s SSL configuration with <code>drycc certs</code>.</p>
<pre><code>$ drycc certs
NAME           COMMON-NAME    EXPIRES        SAN                 DOMAINS           
example-com    example.com    14 Jan 2017    blog.example.com    example.com
</code></pre>
<p>or by looking at at each certificates detailed information</p>
<pre><code>$ drycc certs info example-com -a foo

=== bar-com Certificate
Common Name(s):     example.com
Expires At:         2017-01-14 23:57:57 +0000 UTC
Starts At:          2016-01-15 23:57:57 +0000 UTC
Fingerprint:        7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0
Subject Alt Name:   blog.example.com
Issuer:             /C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=example.com/emailAddress=engineering@drycc.cc
Subject:            /C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=example.com/emailAddress=engineering@drycc.cc

Connected Domains:  example.com
Owner:              admin-user
Created:            2016-01-28 19:07:41 +0000 UTC
Updated:            2016-01-30 00:10:02 +0000 UTC
</code></pre>
<h2 id="testing-ssl">Testing SSL<a class="td-heading-self-link" href="#testing-ssl" aria-label="Heading self-link"></a></h2>
<p>Use a command line utility like <code>curl</code> to test that everything is configured correctly for your
secure domain.</p>
<p>!!! note
The -k option flag tells curl to ignore untrusted certificates.</p>
<p>Pay attention to the output. It should print <code>SSL certificate verify ok</code>. If it prints something
like <code>common name: www.example.com (does not match 'www.somedomain.com')</code> then something is not
configured correctly.</p>
<h2 id="enforcing-ssl-at-the-router">Enforcing SSL at the Router<a class="td-heading-self-link" href="#enforcing-ssl-at-the-router" aria-label="Heading self-link"></a></h2>
<p>To enforce all HTTP requests be redirected to HTTPS, TLS can be enforced at the router level by
running</p>
<pre><code>$ drycc tls force enable -a foo
Enabling https-only requests for foo... done
</code></pre>
<p>Users hitting the HTTP endpoint for the application will now receive a 301 redirect to the HTTPS
endpoint.</p>
<p>To disable enforced TLS, run</p>
<pre><code>$ drycc tls force disable -a foo
Disabling https-only requests for foo... done
</code></pre>
<h2 id="automated-certificate-management">Automated Certificate Management<a class="td-heading-self-link" href="#automated-certificate-management" aria-label="Heading self-link"></a></h2>
<p>With Automated Certificate Management (ACM), Drycc automatically manages TLS certificates for apps with Hobby and Professional dynos on the Common Runtime, and for apps in Private Spaces that enable the feature.
Certificates handled by ACM automatically renew one month before they expire, and new certificates are created automatically whenever you add or remove a custom domain. All applications with paid dynos include ACM for free.
Automated Certificate Management uses Let’s Encrypt, the free, automated, and open certificate authority for managing your application’s TLS certificates. Let’s Encrypt is run for the public benefit by the Internet Security Research Group (ISRG).</p>
<p>To enable ACM with the following command:
$ drycc tls auto enable -a foo</p>
<p>To disable ACM with the following command:
$ drycc tls auto disable -a foo</p>
<h2 id="remove-certificate">Remove Certificate<a class="td-heading-self-link" href="#remove-certificate" aria-label="Heading self-link"></a></h2>
<p>You can remove a certificate using the <code>certs:remove</code> command:</p>
<pre><code>$ drycc certs remove my-cert -a foo
Removing www.example.com... Done.
</code></pre>
<h2 id="swapping-out-certificates">Swapping out certificates<a class="td-heading-self-link" href="#swapping-out-certificates" aria-label="Heading self-link"></a></h2>
<p>Over the lifetime of an application an operator will have to acquire certificates with new expire
dates and apply it to all relevant applications, below is the recommended way to swap out certificates.</p>
<p>Be intentional with certificate names, name them <code>example-com-2017</code> when possible, where the year
signifies the expiry year. This allows for <code>example-com-2018</code> when a new certificate is purchased.</p>
<p>Assuming all applications are already using <code>example-com-2017</code> the following commands can be ran,
chained together or otherwise:</p>
<pre><code>$ drycc certs detach example-com-2017 example.com -a foo
$ drycc certs attach example-com-2018 example.com -a foo
</code></pre>
<p>This will take care of a singular domain which allows the operator to verify everything went
as planned and slowly roll it out to any other application using the same method.</p>
<h2 id="troubleshooting">Troubleshooting<a class="td-heading-self-link" href="#troubleshooting" aria-label="Heading self-link"></a></h2>
<p>Here are some steps you can follow if your SSL endpoint is not working as you&rsquo;d expect.</p>
<h3 id="untrusted-certificate">Untrusted Certificate<a class="td-heading-self-link" href="#untrusted-certificate" aria-label="Heading self-link"></a></h3>
<p>In some cases when accessing the SSL endpoint, it may list your certificate as untrusted.</p>
<p>If this occurs, it may be because it is not trusted by Mozilla’s list of <a href="https://www.mozilla.org/en-US/about/governance/policies/security-group/certs/included/">root CAs</a>. If this is
the case, your certificate may be considered untrusted for many browsers.</p>
<p>If you have uploaded a certificate that was signed by a root authority but you get the message that
it is not trusted, then something is wrong with the certificate. For example, it may be missing
<a href="http://en.wikipedia.org/wiki/Intermediate_certificate_authorities">intermediary certificates</a>. If so, download the intermediary certificates from your SSL provider,
remove the certificate from Drycc and re-run the <code>certs add</code> command.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-25a98ad7024438acf828ac381152307f">5.16 - Using drycc path</h1>
    <div class="lead">Drycc Container Registry allows you to deploy your Docker-based app to Drycc. Both Common Runtime and Private Spaces are supported.</div>
	<p>The Drycc stack is intended for advanced use cases only. Unless you have a specific need for custom Docker images, we recommend using Drycc’s default buildpack-powered build system. It offers automatic base image security updates and language-specific optimizations. It also avoids the need to maintain a container Dockerfile.</p>
<h2 id="drycc-config-path-overview">Drycc config path overview<a class="td-heading-self-link" href="#drycc-config-path-overview" aria-label="Heading self-link"></a></h2>
<p>A drycc repository comes in two different flavours:</p>
<ul>
<li>
<p>a <code>.drycc</code> directory at the root of the working tree;</p>
</li>
<li>
<p>a root directory that is a &lsquo;bare&rsquo; repository(i.e. without its own working tree).
that is typically used for <code>drycc pull</code>.</p>
</li>
</ul>
<p>These things may exist in a drycc repository.</p>
<pre tabindex="0"><code>config/[a-z0-9]+(\.[a-z0-9]+)*::
        Configure file name, file name is group name.
        Format is environment variable format.

[a-z0-9]+(\-[a-z0-9]+)*.(yaml|yml)::
        Pipeline configure file.
</code></pre><h3 id="config-format">Config format<a class="td-heading-self-link" href="#config-format" aria-label="Heading self-link"></a></h3>
<p>Environment variables follow <NAME>=<VALUE> formatting. By convention, but not rule, environment variable names are always capitalized.</p>
<pre tabindex="0"><code>DEBUG=true
JVM_OPTIONS=-XX:+UseG1GC
</code></pre><h3 id="pipeline-format">Pipeline format<a class="td-heading-self-link" href="#pipeline-format" aria-label="Heading self-link"></a></h3>
<p>A manifest has three top-level sections.</p>
<ul>
<li>build – Specifies the to build Dockerfile.</li>
<li>env – Specifies environment variables in container.</li>
<li>run – Specifies the release phase tasks to execute.</li>
<li>config – Specifies config group, global group automatic reference.</li>
<li>deploy – Specifies the commands and args to deploy.</li>
</ul>
<p>Here’s an example that illustrates using a manifest to build Docker images.</p>
<pre tabindex="0"><code>kind: pipeline
ptype: web
build:
  docker: Dockerfile
  arg:
    CODENAME: bookworm
env:
  VERSION: 1.2.1
run:
  command:
  - ./deployment-tasks.sh
  image: task
  timeout: 100
config:
- jvm-config
deploy:
  command:
  - bash
  - -ec
  args:
  - bundle exec puma -C config/puma.rb
</code></pre><p>For more deployment information, please refer to the drycc <a href="https://github.com/drycc/samples">examples</a>.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ea0f1e2986b13c87aadf36ffbecbe08e">6 - Managing Workflow</h1>
    <div class="lead">Managing Workflow using the kubectl.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-0e712a5c2020887818ceab36d4f26910">6.1 - Tuning Component Settings</h1>
    <div class="lead">Helm Charts are a set of Kubernetes manifests that reflect best practices for deploying an application or service on Kubernetes.</div>
	<p>After you add the Drycc Chart Repository, you can customize the chart using
<code>helm inspect values drycc/workflow &gt; values.yaml</code> before using <code>helm install</code> to complete the
installation.</p>
<p>There are a few ways to customize the respective component:</p>
<ul>
<li>
<p>If the value is exposed in the <code>values.yaml</code> file as derived above, one may modify the section of the component to tune these settings.  The modified value(s) will then take effect at chart installation or release upgrade time via either of the two respective commands:</p>
<pre><code> $ helm install drycc oci://registry.drycc.cc/charts/workflow \
     -n drycc \
     --namespace drycc \
     -f values.yaml
 $ helm upgrade drycc oci://registry.drycc.cc/charts/workflow \
     -n drycc \
     --namespace drycc \
     -f values.yaml
</code></pre>
</li>
<li>
<p>If the value hasn&rsquo;t yet been exposed in the <code>values.yaml</code> file, one may edit the component deployment with the tuned setting.  Here we edit the <code>drycc-controller</code> deployment:</p>
<pre><code> $ kubectl --namespace drycc edit deployment drycc-controller
</code></pre>
<p>Add/edit the setting via the appropriate environment variable and value under the <code>env</code> section and save.  The updated deployment will recreate the component pod with the new/modified setting.</p>
</li>
<li>
<p>Lastly, one may also fetch and edit the chart as served by version control/the chart repository itself:</p>
<pre><code> $ helm fetch oci://registry.drycc.cc/charts/workflow --untar
 $ $EDITOR workflow/charts/controller/templates/controller-deployment.yaml
</code></pre>
<p>Then run <code>helm install ./workflow --namespace drycc --name drycc</code> to apply the changes, or <code>helm upgrade drycc ./workflow</code> if the cluster is already running.</p>
</li>
</ul>
<h2 id="setting-resource-limits">Setting Resource limits<a class="td-heading-self-link" href="#setting-resource-limits" aria-label="Heading self-link"></a></h2>
<p>You can set resource limits to Workflow components by modifying the values.yaml file fetched
earlier. This file has a section for each Workflow component. To set a limit to any Workflow
component just add <code>resources</code> in the section and set them to the appropriate values.</p>
<p>Below is an example of how the builder section of <code>values.yaml</code> might look with CPU and memory
limits set:</p>
<pre tabindex="0"><code>builder:
  imageOrg: &#34;drycc&#34;
  imagePullPolicy: &#34;Always&#34;
  imageTag: &#34;canary&#34;
  resources:
    limits:
      cpu: 1000m
      memory: 2048Mi
    requests:
      cpu: 500m
      memory: 1024Mi
</code></pre><h2 id="customizing-the-builder">Customizing the Builder<a class="td-heading-self-link" href="#customizing-the-builder" aria-label="Heading self-link"></a></h2>
<p>The following environment variables are tunable for the <a href="/docs/understanding-workflow/components/#builder">Builder</a> component:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DEBUG</td>
<td>Enable debug log output (default: false)</td>
</tr>
<tr>
<td>BUILDER_POD_NODE_SELECTOR</td>
<td>A node selector setting for builder job. As it may sometimes consume a lot of node resources, one may want a given builder job to run in a specific node only, so it won&rsquo;t affect critical nodes. for example <code>pool:testing,disk:magnetic</code></td>
</tr>
</tbody>
</table>
<h2 id="customizing-the-controller">Customizing the Controller<a class="td-heading-self-link" href="#customizing-the-controller" aria-label="Heading self-link"></a></h2>
<p>The following environment variables are tunable for the <a href="/docs/understanding-workflow/components/#controller">Controller</a> component:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>REGISTRATION_MODE</td>
<td>set registration to &ldquo;enabled&rdquo;, &ldquo;disabled&rdquo;, or &ldquo;admin_only&rdquo; (default: &ldquo;admin_only&rdquo;)</td>
</tr>
<tr>
<td>GUNICORN_WORKERS</td>
<td>number of <a href="http://gunicorn.org/">gunicorn</a> workers spawned to process requests (default: CPU cores * 4 + 1)</td>
</tr>
<tr>
<td>RESERVED_NAMES</td>
<td>a comma-separated list of names which applications cannot reserve for routing (default: &ldquo;drycc, drycc-builder&rdquo;)</td>
</tr>
<tr>
<td>DRYCC_DEPLOY_HOOK_URLS</td>
<td>a comma-separated list of URLs to send <a href="/docs/managing-workflow/deploy-hooks/#http-post-hook">deploy hooks</a> to.</td>
</tr>
<tr>
<td>DRYCC_DEPLOY_HOOK_SECRET_KEY</td>
<td>a private key used to compute the HMAC signature for deploy hooks.</td>
</tr>
<tr>
<td>DRYCC_DEPLOY_REJECT_IF_PROCFILE_MISSING</td>
<td>rejects a deploy if the previous build had a Procfile but the current deploy is missing it. A 409 is thrown in the API. Prevents accidental process types removal. (default: &ldquo;false&rdquo;, allowed values: &ldquo;true&rdquo;, &ldquo;false&rdquo;)</td>
</tr>
<tr>
<td>DRYCC_DEPLOY_PROCFILE_MISSING_REMOVE</td>
<td>when turned on (default) any missing process type in a Procfile compared to the previous deploy is removed. When set to false will allow an empty Procfile to go through without removing missing process types, note that new images, configs and so on will get updated on all proc types.  (default: &ldquo;true&rdquo;, allowed values: &ldquo;true&rdquo;, &ldquo;false&rdquo;)</td>
</tr>
<tr>
<td>DRYCC_DEFAULT_CONFIG_TAGS</td>
<td>set tags for all applications by default, for example: &lsquo;{&ldquo;role&rdquo;: &ldquo;worker&rdquo;}&rsquo;. (default: &lsquo;&rsquo;)</td>
</tr>
<tr>
<td>KUBERNETES_NAMESPACE_DEFAULT_QUOTA_SPEC</td>
<td>set resource quota to application namespace by setting <a href="http://kubernetes.io/docs/admin/resourcequota/">ResourceQuota</a> spec, for example: <code>{&quot;spec&quot;:{&quot;hard&quot;:{&quot;pods&quot;:&quot;10&quot;}}}</code>, restrict app owner to spawn more then 10 pods (default: &ldquo;&rdquo;, no quota will be applied to namespace)</td>
</tr>
</tbody>
</table>
<h3 id="ldap-authentication-settings">LDAP authentication settings<a class="td-heading-self-link" href="#ldap-authentication-settings" aria-label="Heading self-link"></a></h3>
<p>Configuration options for LDAP authentication are detailed <a href="https://pythonhosted.org/django-auth-ldap/reference.html">here</a>.</p>
<p>The following environment variables are available for enabling LDAP
authentication of user accounts in the <a href="/docs/understanding-workflow/components/#passport">Passport</a> component:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LDAP_ENDPOINT</td>
<td>The URI of the LDAP server. If not specified, LDAP authentication is not enabled (default: &ldquo;&rdquo;, example: <code>ldap://hostname</code>).</td>
</tr>
<tr>
<td>LDAP_BIND_DN</td>
<td>The distinguished name to use when binding to the LDAP server (default: &ldquo;&rdquo;)</td>
</tr>
<tr>
<td>LDAP_BIND_PASSWORD</td>
<td>The password to use with LDAP_BIND_DN (default: &ldquo;&rdquo;)</td>
</tr>
<tr>
<td>LDAP_USER_BASEDN</td>
<td>The distinguished name of the search base for user names (default: &ldquo;&rdquo;)</td>
</tr>
<tr>
<td>LDAP_USER_FILTER</td>
<td>The name of the login field in the users search base (default: &ldquo;username&rdquo;)</td>
</tr>
<tr>
<td>LDAP_GROUP_BASEDN</td>
<td>The distinguished name of the search base for user&rsquo;s groups names (default: &ldquo;&rdquo;)</td>
</tr>
<tr>
<td>LDAP_GROUP_FILTER</td>
<td>The filter for user&rsquo;s groups (default: &ldquo;&rdquo;, example: <code>objectClass=person</code>)</td>
</tr>
</tbody>
</table>
<h3 id="global-and-per-application-settings">Global and per application settings<a class="td-heading-self-link" href="#global-and-per-application-settings" aria-label="Heading self-link"></a></h3>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DRYCC_DEPLOY_BATCHES</td>
<td>the number of pods to bring up and take down sequentially during a scale (default: number of available nodes)</td>
</tr>
<tr>
<td>DRYCC_DEPLOY_TIMEOUT</td>
<td>deploy timeout in seconds per deploy batch (default: 120)</td>
</tr>
<tr>
<td>IMAGE_PULL_POLICY</td>
<td>the kubernetes <a href="http://kubernetes.io/docs/user-guide/images/">image pull policy</a> for application images (default: &ldquo;IfNotPresent&rdquo;) (allowed values: &ldquo;Always&rdquo;, &ldquo;IfNotPresent&rdquo;)</td>
</tr>
<tr>
<td>KUBERNETES_DEPLOYMENTS_REVISION_HISTORY_LIMIT</td>
<td>how many <a href="http://kubernetes.io/docs/user-guide/deployments/#revision-history-limit">revisions</a> Kubernetes keeps around of a given Deployment (default: all revisions)</td>
</tr>
<tr>
<td>KUBERNETES_POD_TERMINATION_GRACE_PERIOD_SECONDS</td>
<td>how many seconds kubernetes waits for a pod to finish work after a SIGTERM before sending SIGKILL (default: 30)</td>
</tr>
</tbody>
</table>
<p>See the <a href="/docs/applications/deploying-apps/">Deploying Apps</a> guide for more detailed information on those.</p>
<h2 id="customizing-the-database">Customizing the Database<a class="td-heading-self-link" href="#customizing-the-database" aria-label="Heading self-link"></a></h2>
<p>The following environment variables are tunable for the <a href="/docs/understanding-workflow/components/#database">Database</a> component:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>BACKUP_FREQUENCY</td>
<td>how often the database should perform a base backup (default: &ldquo;12h&rdquo;)</td>
</tr>
<tr>
<td>BACKUPS_TO_RETAIN</td>
<td>number of base backups the backing store should retain (default: 5)</td>
</tr>
</tbody>
</table>
<h2 id="customizing-fluentbit">Customizing Fluentbit<a class="td-heading-self-link" href="#customizing-fluentbit" aria-label="Heading self-link"></a></h2>
<p>The following values can be changed in the <code>values.yaml</code> file or by using the <code>--values</code> flag with the Helm CLI.</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>config.service</td>
<td>The service section defines the global properties of the service.</td>
</tr>
<tr>
<td>config.inputs</td>
<td>An input section defines a source (related to an input plugin).</td>
</tr>
<tr>
<td>config.filters</td>
<td>A filter section defines a filter (related to a filter plugin)</td>
</tr>
<tr>
<td>config.outputs</td>
<td>The outputs section specify a destination that certain records should follow after a Tag match.</td>
</tr>
</tbody>
</table>
<p>For more information about the various variables that can be set please see the <a href="https://github.com/drycc/fluentbit">fluentbit</a>.</p>
<h2 id="customizing-the-monitor">Customizing the Monitor<a class="td-heading-self-link" href="#customizing-the-monitor" aria-label="Heading self-link"></a></h2>
<h3 id="grafanahttpsgrafanacom"><a href="https://grafana.com/">Grafana</a><a class="td-heading-self-link" href="#grafanahttpsgrafanacom" aria-label="Heading self-link"></a></h3>
<p>We have exposed some of the more useful configuration values directly in the chart. This allows them to be set using either the <code>values.yaml</code> file or by using the <code>--set</code> flag with the Helm CLI. You can see these options below:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>user</td>
<td>&ldquo;admin&rdquo;</td>
<td>The first user created in the database (this user has admin privileges)</td>
</tr>
<tr>
<td>password</td>
<td>&ldquo;admin&rdquo;</td>
<td>Password for the first user.</td>
</tr>
<tr>
<td>allow_sign_up</td>
<td>&ldquo;true&rdquo;</td>
<td>Allows users to sign up for an account.</td>
</tr>
</tbody>
</table>
<p>For a list of other options you can set by using environment variables please see the <a href="https://github.com/drycc/monitor/blob/main/grafana/rootfs/usr/share/grafana/grafana.ini.tpl">configuration file</a> in Github.</p>
<h3 id="victoriametricshttpsvictoriametricscom"><a href="https://victoriametrics.com/">Victoriametrics</a><a class="td-heading-self-link" href="#victoriametricshttpsvictoriametricscom" aria-label="Heading self-link"></a></h3>
<p>You can find a list of values that can be set using environment variables <a href="https://github.com/drycc/victoriametrics">here</a>.</p>
<h2 id="customizing-the-registry">Customizing the Registry<a class="td-heading-self-link" href="#customizing-the-registry" aria-label="Heading self-link"></a></h2>
<p>The <a href="/docs/understanding-workflow/components/#registry">Registry</a> component can be tuned by following the
<a href="https://github.com/drycc/distribution/blob/main/docs/configuration.md">drycc/distribution config doc</a>.</p>
<h2 id="customizing-the-router">Customizing the Router<a class="td-heading-self-link" href="#customizing-the-router" aria-label="Heading self-link"></a></h2>
<p>The majority of router settings are tunable through annotations, which allows the router to be
re-configured with zero downtime post-installation. You can find the list of annotations to tune
<a href="https://github.com/drycc/router#annotations">here</a>.</p>
<p>The following environment variables are tunable for the [Router][] component:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POD_NAMESPACE</td>
<td>The pod namespace the router resides in. This is set by the <a href="http://kubernetes.io/docs/user-guide/downward-api/">Kubernetes downward API</a>.</td>
</tr>
</tbody>
</table>
<h2 id="customizing-workflow-manager">Customizing Workflow Manager<a class="td-heading-self-link" href="#customizing-workflow-manager" aria-label="Heading self-link"></a></h2>
<p>The following environment variables are tunable for [Workflow Manager][]:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CHECK_VERSIONS</td>
<td>Enables the external version check at <a href="https://versions.drycc.info/">https://versions.drycc.info/</a> (default: &ldquo;true&rdquo;)</td>
</tr>
<tr>
<td>POLL_INTERVAL_SEC</td>
<td>The interval when Workflow Manager performs a version check, in seconds (default: 43200, or 12 hours)</td>
</tr>
<tr>
<td>VERSIONS_API_URL</td>
<td>The versions API URL (default: &ldquo;<a href="https://versions-staging.drycc.info">https://versions-staging.drycc.info</a>&rdquo;)</td>
</tr>
<tr>
<td>DOCTOR_API_URL</td>
<td>The doctor API URL (default: &ldquo;<a href="https://doctor-staging.drycc.info">https://doctor-staging.drycc.info</a>&rdquo;)</td>
</tr>
<tr>
<td>API_VERSION</td>
<td>The version number Workflow Manager sends to the versions API (default: &ldquo;v2&rdquo;)</td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a1258f39e96a14029efa8d7c379f95a4">6.2 - Configure DNS</h1>
    <div class="lead">The Drycc Workflow controller and all applications deployed via Workflow are intended (by default) to be accessible as subdomains of the Workflow cluster&rsquo;s domain.</div>
	<p>For example, assuming <code>example.com</code> were a cluster&rsquo;s domain:</p>
<ul>
<li>The controller should be accessible at <code>drycc.example.com</code></li>
<li>Applications should be accessible (by default) at <code>&lt;application name&gt;.example.com</code></li>
</ul>
<p>Given that this is the case, the primary objective in configuring DNS is that traffic for all subdomains of a cluster&rsquo;s domain be directed to the cluster node(s) hosting the platform&rsquo;s router component, which is capable of directing traffic within the cluster to the correct endpoints.</p>
<h2 id="with-a-load-balancer">With a Load Balancer<a class="td-heading-self-link" href="#with-a-load-balancer" aria-label="Heading self-link"></a></h2>
<p>Generally, it is recommended that a [load balancer][] be used to direct inbound traffic to one or more routers.  In such a case, configuring DNS is as simple as defining a wildcard record in DNS that points to the load balancer.</p>
<p>For example, assuming a domain of <code>example.com</code>:</p>
<ul>
<li>An <code>A</code> record enumerating each of your load balancer(s) IPs (i.e. DNS round-robining)</li>
<li>A <code>CNAME</code> record referencing an existing fully-qualified domain name for the load balancer
<ul>
<li>Per <a href="https://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/using-domain-names-with-elb.html">AWS&rsquo; own documentation</a>, this is the recommended strategy when using AWS Elastic Load Balancers, as ELB IPs may change over time.</li>
</ul>
</li>
</ul>
<p>DNS for any applications using a &ldquo;custom domain&rdquo; (a fully-qualified domain name that is not a subdomain of the cluster&rsquo;s own domain) can be configured by creating a <code>CNAME</code> record that references the wildcard record described above.</p>
<p>Although it is dependent upon your distribution of Kubernetes and your underlying infrastructure, in many cases, the IP(s) or existing fully-qualified domain name of a load balancer can be determined directly using the <code>kubectl</code> tool:</p>
<pre tabindex="0"><code>$ kubectl --namespace=istio-nginx describe service | grep &#34;LoadBalancer&#34;
LoadBalancer Ingress:	a493e4e58ea0511e5bb390686bc85da3-1558404688.us-west-2.elb.amazonaws.com
</code></pre><p>The <code>LoadBalancer Ingress</code> field typically describes an existing domain name or public IP(s).  Note that if Kubernetes is able to automatically provision a load balancer for you, it does so asynchronously.  If the command shown above is issued very soon after Workflow installation, the load balancer may not exist yet.</p>
<h2 id="without-a-load-balancer">Without a Load Balancer<a class="td-heading-self-link" href="#without-a-load-balancer" aria-label="Heading self-link"></a></h2>
<p>On some platforms (Minikube, for instance), a load balancer is not an easy or practical thing to provision. In these cases, one can directly identify the public IP of a Kubernetes node that is hosting a router pod and use that information to configure the local <code>/etc/hosts</code> file.</p>
<p>Because wildcard entries do not work in a local <code>/etc/hosts</code> file, using this strategy may result in frequent editing of that file to add fully-qualified subdomains of a cluster for each application added to that cluster.  Because of this a more viable option may be to utilize the <a href="http://xip.io/">xip.io</a> service.</p>
<p>In general, for any IP, <code>a.b.c.d</code>, the fully-qualified domain name <code>any-subdomain.a.b.c.d.xip.io</code> will resolve to the IP <code>a.b.c.d</code>.  This can be enormously useful.</p>
<p>To begin, find the node(s) hosting router instances using <code>kubectl</code>:</p>
<pre tabindex="0"><code>$ kubectl --namespace=istio-ingress describe pod | grep Node:
Node:       ip-10-0-0-199.us-west-2.compute.internal/10.0.0.199
Node:       ip-10-0-0-198.us-west-2.compute.internal/10.0.0.198
</code></pre><p>The command will display information for every router pod.  For each, a node name and IP are displayed in the <code>Node</code> field.  If the IPs appearing in these fields are public, any of these may be used to configure your local <code>/etc/hosts</code> file or may be used with <a href="http://xip.io/">xip.io</a>.  If the IPs shown are not public, further investigation may be needed.</p>
<p>You can list the IP addresses of a node using <code>kubectl</code>:</p>
<pre tabindex="0"><code>$ kubectl describe node ip-10-0-0-199.us-west-2.compute.internal
# ...
Addresses:	10.0.0.199,10.0.0.199,54.218.85.175
# ...
</code></pre><p>Here, the <code>Addresses</code> field lists all the node&rsquo;s IPs.  If any of them are public, again, they may be used to configure your local <code>/etc/hosts</code> file or may be used with <a href="http://xip.io/">xip.io</a>.</p>
<h2 id="tutorial-configuring-dns-with-google-cloud-dnscloud-dns">Tutorial: Configuring DNS with <a href="https://cloud.google.com/dns/docs">Google Cloud DNS</a><a class="td-heading-self-link" href="#tutorial-configuring-dns-with-google-cloud-dnscloud-dns" aria-label="Heading self-link"></a></h2>
<p>In this section, we&rsquo;ll describe how to configure Google Cloud DNS for routing your domain name to your Drycc cluster.</p>
<p>We&rsquo;ll assume the following in this section:</p>
<ul>
<li>Your Ingress service has a load balancer in front of it.
<ul>
<li>The load balancer need not be cloud based, it just needs to provide a stable IP address or a stable domain name</li>
</ul>
</li>
<li>You have the <code>mystuff.com</code> domain name registered with a registrar
<ul>
<li>Replace your domain name with <code>mystuff.com</code> in the instructions to follow</li>
</ul>
</li>
<li>Your registrar lets you alter the nameservers for your domain name (most registrars do)</li>
</ul>
<p>Here are the steps for configuring cloud DNS to route to your drycc cluster:</p>
<ol>
<li>Get the load balancer IP or domain name</li>
</ol>
<ul>
<li>If you are on Google Container Engine, you can run <code>kubectl get svc -n istio-ingress</code> and look for the <code>LoadBalancer Ingress</code> column to get the IP address</li>
</ul>
<ol start="2">
<li>Create a new Cloud DNS Zone (on the console: <code>Networking</code> =&gt; <code>Cloud DNS</code>, then click on <code>Create Zone</code>)</li>
<li>Name your zone, and set the DNS name to <code>mystuff.com.</code> (note the <code>.</code> at the end</li>
<li>Click on the <code>Create</code> button</li>
<li>Click on the <code>Add Record Set</code> button on the resulting page</li>
<li>If your load balancer provides a stable IP address, enter the following fields in the resulting form:</li>
<li><code>DNS Name</code>: <code>*</code></li>
<li><code>Resource Record Type</code>: <code>A</code></li>
<li><code>TTL</code>: the DNS TTL of your choosing. If you&rsquo;re testing or you anticipate that you&rsquo;ll tear down and rebuild many drycc clusters over time, we recommend a low TTL</li>
<li><code>IPv4 Address</code>: The IP that you got in the very first step</li>
<li>Click the <code>Create</code> button</li>
<li>If your load balancer provides the stable domain name <code>lbdomain.com</code>, enter the following fields in the resulting form:</li>
<li><code>DNS Name</code>: <code>*</code></li>
<li><code>Resource Record Type</code>: <code>CNAME</code></li>
<li><code>TTL</code>: the DNS TTL of your choosing. If you&rsquo;re testing or you anticipate that you&rsquo;ll tear down and rebuild many drycc clusters over time, we recommend a low TTL</li>
<li><code>Canonical name</code>: <code>lbdomain.com.</code> (note the <code>.</code> a the end)</li>
<li>Click on the <code>Create</code> button</li>
<li>In your domain registrar, set the nameservers for your <code>mystuff.com</code> domain to the ones under the <code>data</code> column in the <code>NS</code> record on the same page. They&rsquo;ll often be something like the below (note the trailing <code>.</code> characters).</li>
</ol>
<pre tabindex="0"><code>ns-cloud-b1.googledomains.com.
ns-cloud-b2.googledomains.com.
ns-cloud-b3.googledomains.com.
ns-cloud-b4.googledomains.com.
</code></pre><p>Note: If you ever have to re-create your drycc cluster, simply go back to step 6.4 or 7.4 (depending on your load balancer) and change the IP address or domain name to the new value. You may have to wait for the TTL you set to expire.</p>
<h2 id="testing">Testing<a class="td-heading-self-link" href="#testing" aria-label="Heading self-link"></a></h2>
<p>To test that traffic reaches its intended destination, a request can be
sent to the Drycc controller like so (do not forget the trailing slash!):</p>
<pre tabindex="0"><code>curl http://drycc.example.com/v2/
</code></pre><p>Or:</p>
<pre tabindex="0"><code>curl http://drycc.54.218.85.175.xip.io/v2/
</code></pre><p>Since such requests require authentication, a response such as the following should be considered an indicator of success:</p>
<pre tabindex="0"><code>{&#34;detail&#34;:&#34;Authentication credentials were not provided.&#34;}
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5e70dabb651ba434bf52f6a0f428d092">6.3 - Deploy Hooks</h1>
    <div class="lead">Deploy hooks allow an external service to receive a notification whenever a new version of your app is pushed to Workflow.</div>
	<p>It’s useful to help keep the development team informed about deploys, while
it can also be used to integrate different systems together.</p>
<p>After one or more hooks are setup, hook output and errors appear in your application’s logs:</p>
<pre tabindex="0"><code>$ drycc logs
...
2011-03-15T15:07:29-07:00 drycc[api]: Deploy hook sent to http://drycc.rocks
</code></pre><p>Deploy hooks are a generic HTTP hook. An administrator can create and configure multiple deploy
hooks by <a href="/docs/managing-workflow/tuning-component-settings/#customizing-the-controller">tuning the controller settings</a> via the Helm chart.</p>
<h2 id="http-post-hook">HTTP POST Hook<a class="td-heading-self-link" href="#http-post-hook" aria-label="Heading self-link"></a></h2>
<p>The HTTP deploy hook performs an HTTP POST to a URL. The parameters included in the request are the
same as the variables available in the hook message: <code>app</code>, <code>release</code>, <code>release_summary</code>, <code>sha</code> and
<code>user</code>. See below for their descriptions:</p>
<pre tabindex="0"><code>app=secure-woodland&amp;release=v4&amp;release_summary=gabrtv%20deployed%35b3726&amp;sha=35b3726&amp;user=gabrtv
</code></pre><p>Optionally, if a deploy hook secret key is added to the controller through
<a href="/docs/managing-workflow/tuning-component-settings/#customizing-the-controller">tuning the controller settings</a>, a new <code>Authorization</code> header will be
present in the POST request. The value of this header is computed as the <a href="https://en.wikipedia.org/wiki/Hash-based_message_authentication_code">HMAC</a> hex digest of the
request URL, using the secret as the key.</p>
<p>In order to authenticate that this request came from Workflow, use the secret key, the full URL and
the HMAC-SHA1 hashing algorithm to compute the signature. In Python, that would look something like
this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">hashlib</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">hmac</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">hmac</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">new</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;my_secret_key&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;http://drycc.rocks?app=secure-woodland&amp;release=v4&amp;release_summary=gabrtv</span><span style="color:#4e9a06">%20d</span><span style="color:#4e9a06">eployed%35b3726&amp;sha=35b3726&amp;user=gabrtv&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">digestmod</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">hashlib</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">sha1</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">hexdigest</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><p>If the value of the computed HMAC hex digest and the value in the <code>Authorization</code> header are
identical, then the request came from Workflow.</p>
<p>!!! important
When computing the signature, ensure that the URL parameters are in alphabetic order. This is
critical when computing the cryptographic signature as most web applications don&rsquo;t care about
the order of the HTTP parameters, but the cryptographic signature will not be the same.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-004a15eb4cb73246d89366dd9838d84d">6.4 - Platform Logging</h1>
    <div class="lead">Logs are a stream of time-stamped events aggregated from the output streams of all your app’s running processes. Retrieve, filter, or use syslog drains.</div>
	<p>We’re working with Quickwit to bring you an application log cluster and search interface.</p>
<h2 id="architecture-diagram">Architecture Diagram<a class="td-heading-self-link" href="#architecture-diagram" aria-label="Heading self-link"></a></h2>
<pre tabindex="0"><code>┌───────────┐                   ┌───────────┐                     
│ Container │                   │  Grafana  │
└───────────┘                   └───────────┘
      │                               ^
     log                              |                
      │                               |                
      ˅                               │                
┌───────────┐                   ┌───────────┐     
│ Fluentbit │─────otel/grpc────&gt;│  Quickwit │     
└───────────┘                   └───────────┘     
                                                                          
</code></pre><h2 id="default-configuration">Default Configuration<a class="td-heading-self-link" href="#default-configuration" aria-label="Heading self-link"></a></h2>
<p>Fluent Bit is based in a pluggable architecture where different plugins plays a major role in the data pipeline, more than 70 built-in plugins available.
Please refer to charts <a href="https://github.com/drycc/fluentbit/blob/main/charts/fluentbit/values.yaml">values.yaml</a> for specific configurations.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fd8f5f6dc2937f1343d4f1cd4660ae35">6.5 - Platform Monitoring</h1>
    <div class="lead">Platform monitoring to your apps to spot issues in advance and respond to incidents quickly.</div>
	<h2 id="description">Description<a class="td-heading-self-link" href="#description" aria-label="Heading self-link"></a></h2>
<p>We now include a monitoring stack for introspection on a running Kubernetes cluster. The stack includes 4 components:</p>
<ul>
<li><a href="https://github.com/kubernetes/kube-state-metrics">kube-state-metrics</a>, kube-state-metrics (KSM) is a simple service that listens to the Kubernetes API server and generates metrics about the state of the objects.</li>
<li><a href="http://github.com/prometheus/node_exporter">Node Exporter</a>, Prometheus exporter for hardware and OS metrics exposed by *NIX kernels.</li>
<li><a href="https://victoriametrics.com/">Victoriametrics</a>, a <a href="https://cncf.io/">Cloud Native Computing Foundation</a> project, is a systems and service monitoring system.</li>
<li><a href="http://grafana.org/">Grafana</a>, Graphing tool for time series data</li>
</ul>
<h2 id="architecture-diagram">Architecture Diagram<a class="td-heading-self-link" href="#architecture-diagram" aria-label="Heading self-link"></a></h2>
<pre tabindex="0"><code>┌────────────────┐                                                        
│ HOST           │                                                        
│  node-exporter │◀──┐                          ┌──────────────────┐         
└────────────────┘   │                          │kube-state-metrics│         
                     │                          └──────────────────┘         
┌────────────────┐   │                                    ▲                    
│ HOST           │   │    ┌─────────────────┐             │                    
│  node-exporter │◀──┼────│ victoriametrics │─────────────┘                    
└────────────────┘   │    └─────────────────┘                                  
                     │             ▲                                         
┌───────────────┐    │             │                                         
│ HOST          │    │             ▼                                         
│  node-exporter│◀───┘       ┌──────────┐                                    
└───────────────┘            │ Grafana  │                                    
                             └──────────┘                                    
</code></pre><h2 id="grafanahttpsgrafanacom"><a href="https://grafana.com/">Grafana</a><a class="td-heading-self-link" href="#grafanahttpsgrafanacom" aria-label="Heading self-link"></a></h2>
<p>Grafana allows users to create custom dashboards that visualize the data captured to the running VictoriaMetrics component. By default Grafana is exposed using a <a href="https://github.com/drycc/router#how-it-works">service annotation</a> through the router at the following URL: <code>http://grafana.mydomain.com</code>. The default login is <code>admin/admin</code>. If you are interested in changing these values please see [Tuning Component Settings][].</p>
<p>Grafana will preload several dashboards to help operators get started with monitoring Kubernetes and Drycc Workflow.
These dashboards are meant as starting points and don&rsquo;t include every item that might be desirable to monitor in a
production installation.</p>
<p>Drycc Workflow monitoring by default does not write data to the host filesystem or to long-term storage. If the Grafana instance fails, modified dashboards are lost.</p>
<h3 id="production-configuration">Production Configuration<a class="td-heading-self-link" href="#production-configuration" aria-label="Heading self-link"></a></h3>
<p>A production install of Grafana should have the following configuration values changed if possible:</p>
<ul>
<li>Change the default username and password from <code>admin/admin</code>. The value for the password is passed in plain text so it is best to set this value on the command line instead of checking it into version control.</li>
<li>Enable persistence</li>
<li>Use a supported external database such as mysql or postgres. You can find more information <a href="https://github.com/drycc/monitor/blob/main/grafana/rootfs/usr/share/grafana/grafana.ini.tpl#L62">here</a></li>
</ul>
<h3 id="on-cluster-persistence">On Cluster Persistence<a class="td-heading-self-link" href="#on-cluster-persistence" aria-label="Heading self-link"></a></h3>
<p>Enabling persistence will allow your custom configuration to persist across pod restarts. This means that the default sqllite database (which stores things like sessions and user data) will not disappear if you upgrade the Workflow installation.</p>
<p>If you wish to have persistence for Grafana you can set <code>enabled</code> to <code>true</code> in the <code>values.yaml</code> file before running <code>helm install</code>.</p>
<pre tabindex="0"><code> grafana:
   # Configure the following ONLY if you want persistence for on-cluster grafana
   # GCP PDs and EBS volumes are supported only
   persistence:
     enabled: true # Set to true to enable persistence
     size: 5Gi # PVC size
</code></pre><h3 id="off-cluster-grafana">Off Cluster Grafana<a class="td-heading-self-link" href="#off-cluster-grafana" aria-label="Heading self-link"></a></h3>
<p>If you wish to provide your own Grafana instance you can set <code>grafana.enabled</code> in the <code>values.yaml</code> file before running <code>helm install</code>.</p>
<h2 id="victoriametricshttpsvictoriametricscom"><a href="https://victoriametrics.com/">VictoriaMetrics</a><a class="td-heading-self-link" href="#victoriametricshttpsvictoriametricscom" aria-label="Heading self-link"></a></h2>
<p>VictoriaMetrics is a fast and scalable open source time series database and monitoring solution that lets users build a monitoring platform without scalability issues and minimal operational burden, it is fully compatible with the prometheus format.</p>
<h3 id="on-cluster-persistence-1">On Cluster Persistence<a class="td-heading-self-link" href="#on-cluster-persistence-1" aria-label="Heading self-link"></a></h3>
<p>You can set <code>node-exporter</code> and <code>kube-state-metrics</code> to <code>true</code> or <code>false</code> in the <code>values.yaml</code>.
-If you wish to have persistence for VictoriaMetrics you can set <code>enabled</code> to <code>true</code> in the <code>values.yaml</code> file before running <code>helm install</code>.</p>
<pre tabindex="0"><code>victoriametrics:
  vmstorage:
    replicas: 3
    extraArgs:
    - --retentionPeriod=30d
    temporary:
      enabled: true
      size: 5Gi
      storageClass: &#34;toplvm-ssd&#34;
    persistence:
      enabled: true
      size: 10Gi
      storageClass: &#34;toplvm-hdd&#34;
  node-exporter:
    enabled: true
  kube-state-metrics:
    enabled: true
</code></pre><h3 id="off-cluster-victoriametrics">Off Cluster VictoriaMetrics<a class="td-heading-self-link" href="#off-cluster-victoriametrics" aria-label="Heading self-link"></a></h3>
<p>To use false VictoriaMetrics, please provide the following values in the <code>values.yaml</code> file before running <code>helm install</code>.</p>
<ul>
<li><code>victoriametrics.enabled=false</code></li>
<li><code>grafana.prometheusUrl=&quot;http://my.prometheus.url:9090&quot;</code></li>
<li><code>controller.prometheusUrl=&quot;http://my.prometheus.url:9090&quot;</code></li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ad04652ad398a8700cd2996d3d721e6f">6.6 - Production Deployments</h1>
    <div class="lead">When readying a Workflow deployment for production workloads, there are some additional recommendations.</div>
	<h2 id="running-workflow-without-drycc-storage">Running Workflow without drycc storage<a class="td-heading-self-link" href="#running-workflow-without-drycc-storage" aria-label="Heading self-link"></a></h2>
<p>In production, persistent storage can be achieved by running an external object store.
For users on AWS, GCE/GKE or Azure, the convenience of Amazon S3, Google GCS or Microsoft Azure Storage
makes the prospect of running a Storage-less Workflow cluster quite reasonable. For users who have restriction
on using external object storage using swift object storage can be an option.</p>
<p>Running a Workflow cluster without Storage provides several advantages:</p>
<ul>
<li>Removal of state from the worker nodes</li>
<li>Reduced resource usage</li>
<li>Reduced complexity and operational burden of managing Workflow</li>
</ul>
<p>See <a href="/docs/installing-workflow/configuring-object-storage/">Configuring Object Storage</a> for details on removing this operational complexity.</p>
<h2 id="review-security-considerations">Review Security Considerations<a class="td-heading-self-link" href="#review-security-considerations" aria-label="Heading self-link"></a></h2>
<p>There are some additional security-related considerations when running Workflow in production.
See [Security Considerations][] for details.</p>
<h2 id="registration-is-admin-only">Registration is Admin-Only<a class="td-heading-self-link" href="#registration-is-admin-only" aria-label="Heading self-link"></a></h2>
<p>By default, registration with the Workflow controller is in &ldquo;admin_only&rdquo; mode. The first user
to run a <code>drycc register</code> command becomes the initial &ldquo;admin&rdquo; user, and registrations after that
are disallowed unless requested by an admin.</p>
<p>Please see the following documentation to learn about changing registration mode:</p>
<ul>
<li><a href="/docs/managing-workflow/tuning-component-settings/#customizing-the-controller">Customizing Controller</a></li>
</ul>
<h2 id="disable-grafana-signups">Disable Grafana Signups<a class="td-heading-self-link" href="#disable-grafana-signups" aria-label="Heading self-link"></a></h2>
<p>It is also recommended to disable signups for the Grafana dashboards.</p>
<p>Please see the following documentation to learn about disabling Grafana signups:</p>
<ul>
<li><a href="/docs/managing-workflow/tuning-component-settings/#customizing-the-monitor">Customizing Monitor</a></li>
</ul>
<h2 id="running-workflow-with-rbac">Running Workflow with RBAC<a class="td-heading-self-link" href="#running-workflow-with-rbac" aria-label="Heading self-link"></a></h2>
<p>If your cluster has <a href="https://kubernetes.io/docs/admin/authorization/rbac/">RBAC</a> amongst your <a href="https://kubernetes.io/docs/admin/authorization/">authorization</a> modes (<code>$ kubectl api-versions</code> should contains <code>rbac.authorization.k8s.io</code>) it may be necessary to enable RBAC in Workflow.
This can be achieved by setting <code>use_rbac</code> in the <code>global</code> section of <code>values.yaml</code> to <code>true</code>, or by adding <code>--set=global.use_rbac=true</code> to the <code>$ helm install/upgrade</code> command.
RBAC support was announced in Kubernetes-1.5 and is enabled by default if:</p>
<ul>
<li>your Kubernetes cluster is in GKE</li>
<li>your Kubernetes cluster built with <a href="https://kubernetes.io/docs/getting-started-guides/kubeadm/">kubeadm</a></li>
</ul>
<p><strong>Note</strong>: helm may need to be given <a href="/docs/installing-workflow/#check-your-authorization">specific permissions</a> under RBAC if not already done.</p>
<p><strong>Attention</strong>: Azure ACS Kubernetes clusters are not RBAC-enabled for today due to lack in authentication strategy. Feel free to watch this <a href="https://github.com/kubernetes/kubernetes/pull/43987">PR</a> for more details.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f30a865310ec754108a4ce6a32869210">6.7 - Upgrading Workflow</h1>
    <div class="lead">Drycc Workflow releases may be upgraded in-place with minimal downtime.</div>
	<p>This upgrade process requires:</p>
<ul>
<li>Helm version <a href="https://github.com/kubernetes/helm/releases/tag/v2.1.0">2.1.0 or newer</a></li>
<li>Configured Off-Cluster Storage</li>
</ul>
<h2 id="upgrade-process">Upgrade Process<a class="td-heading-self-link" href="#upgrade-process" aria-label="Heading self-link"></a></h2>
<p>!!! note
If upgrading from a <a href="https://github.com/helm/helm-classic">Helm Classic</a> install, you&rsquo;ll need to &lsquo;migrate&rsquo; the cluster to a <a href="https://github.com/kubernetes/helm">Kubernetes Helm</a> installation.  See <a href="https://github.com/drycc/workflow-migration/blob/main/README.md">Workflow-Migration</a> for steps.</p>
<h3 id="step-1-apply-the-workflow-upgrade">Step 1: Apply the Workflow upgrade<a class="td-heading-self-link" href="#step-1-apply-the-workflow-upgrade" aria-label="Heading self-link"></a></h3>
<p>Helm will remove all components from the previous release. Traffic to applications deployed through
Workflow will continue to flow during the upgrade. No service interruptions should occur.</p>
<p>If Workflow is not configured to use off-cluster Postgres, the Workflow API will experience a brief
period of downtime while the database recovers from backup.</p>
<p>First, find the name of the release helm gave to your deployment with <code>helm ls</code>, then run</p>
<pre tabindex="0"><code>$ helm upgrade &lt;release-name&gt; oci://registry.drycc.cc/charts/workflow
</code></pre><p><strong>Note:</strong> If using off-cluster object storage on <a href="https://cloud.google.com/storage/">gcs</a> and/or off-cluster registry using <a href="https://cloud.google.com/container-registry/">gcr</a> and intending to upgrade from a pre-<code>v2.10.0</code> chart to <code>v2.10.0</code> or greater, the <code>key_json</code> values will now need to be pre-base64-encoded.  Therefore, assuming the rest of the custom/off-cluster values are defined in the existing <code>values.yaml</code> used for previous installs, the following may be run:</p>
<pre tabindex="0"><code>$ B64_KEY_JSON=&#34;$(cat ~/path/to/key.json | base64 -w 0)&#34;
$ helm upgrade &lt;release_name&gt; drycc/workflow -f values.yaml --set gcs.key_json=&#34;${B64_KEY_JSON}&#34;,registry-token-refresher.gcr.key_json=&#34;${B64_KEY_JSON}&#34;
</code></pre><p>Alternatively, simply replace the appropriate values in values.yaml and do without the <code>--set</code>
parameter. Make sure to wrap it in single quotes as double quotes will give a parser error when
upgrading.</p>
<h3 id="step-2-verify-upgrade">Step 2: Verify Upgrade<a class="td-heading-self-link" href="#step-2-verify-upgrade" aria-label="Heading self-link"></a></h3>
<p>Verify that all components have started and passed their readiness checks:</p>
<pre tabindex="0"><code>$ kubectl --namespace=drycc get pods
NAME                                     READY     STATUS    RESTARTS   AGE
drycc-builder-2448122224-3cibz            1/1       Running   0          5m
drycc-controller-1410285775-ipc34         1/1       Running   3          5m
drycc-controller-celery-694f75749b-cmxxn  3/3       Running   0          5m
drycc-database-e7c5z                      1/1       Running   0          5m
drycc-fluentbit-45h7j                     1/1       Running   0          5m
drycc-fluentbit-4z7lw                     1/1       Running   0          5m
drycc-fluentbit-k2wsw                     1/1       Running   0          5m
drycc-fluentbit-skdw4                     1/1       Running   0          5m
drycc-valkey-8nazu                        1/1       Running   0          5m
drycc-grafana-tm266                       1/1       Running   0          5m
drycc-registry-1814324048-yomz5           1/1       Running   0          5m
drycc-registry-proxy-4m3o4                1/1       Running   0          5m
drycc-registry-proxy-no3r1                1/1       Running   0          5m
drycc-registry-proxy-ou8is                1/1       Running   0          5m
drycc-registry-proxy-zyajl                1/1       Running   0          5m
</code></pre><h3 id="step-3-upgrade-the-drycc-client">Step 3: Upgrade the Drycc Client<a class="td-heading-self-link" href="#step-3-upgrade-the-drycc-client" aria-label="Heading self-link"></a></h3>
<p>Users of Drycc Workflow should now upgrade their drycc client to avoid getting <code>WARNING: Client and server API versions do not match. Please consider upgrading.</code> warnings.</p>
<pre tabindex="0"><code>curl -sfL https://www.drycc.cc/install-cli.sh | bash - &amp;&amp; sudo mv drycc $(which drycc)
</code></pre>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cec98a3a5ff74162065d32be41bf560a">7 - Troubleshooting</h1>
    <div class="lead">Troubleshooting is systematic approach to problem-solving.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-ae09ee5bda595915162c64bb5b058028">7.1 - Troubleshooting Workflow</h1>
    <div class="lead">Common issues that users have run into when provisioning Workflow are detailed below.</div>
	<h2 id="a-component-fails-to-start">A Component Fails to Start<a class="td-heading-self-link" href="#a-component-fails-to-start" aria-label="Heading self-link"></a></h2>
<p>For information on troubleshooting a failing component, see
<a href="/docs/troubleshooting/kubectl/">Troubleshooting with Kubectl</a>.</p>
<h2 id="an-application-fails-to-start">An Application Fails to Start<a class="td-heading-self-link" href="#an-application-fails-to-start" aria-label="Heading self-link"></a></h2>
<p>For information on troubleshooting application deployment issues, see
<a href="/docs/troubleshooting/applications/">Troubleshooting Applications</a>.</p>
<h2 id="permission-denied-publickey">Permission denied (publickey)<a class="td-heading-self-link" href="#permission-denied-publickey" aria-label="Heading self-link"></a></h2>
<p>The most common problem for this issue is the user forgetting to run <code>drycc keys:add</code> or add their
private key to their SSH agent. To do so, run <code>ssh-add ~/.ssh/id_rsa</code> and try running
<code>git push drycc master</code> again.</p>
<p>If you happen get a <code>Could not open a connection to your authentication agent</code>
error after trying to run <code>ssh-add</code> command above, you may need to load the SSH
agent environment variables issuing the <code>eval &quot;$(ssh-agent)&quot;</code> command before.</p>
<h2 id="other-issues">Other Issues<a class="td-heading-self-link" href="#other-issues" aria-label="Heading self-link"></a></h2>
<p>Running into something not detailed here? Please <a href="https://github.com/drycc/workflow/issues/new">open an issue</a> or hop into
<a href="http://slack.drycc.cc/">#community on Slack</a> for help!</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-804be11dbfa1e18a9008195da92602ff">7.2 - Troubleshooting using Kubectl</h1>
    <div class="lead">Kubernetes provides a command line tool for communicating with a Kubernetes cluster&rsquo;s control plane, using the Kubernetes API.</div>
	<p>This document describes how one can use <code>kubectl</code> to debug any issues with the cluster.</p>
<h2 id="diving-into-the-components">Diving into the Components<a class="td-heading-self-link" href="#diving-into-the-components" aria-label="Heading self-link"></a></h2>
<p>Using <code>kubectl</code>, one can inspect the cluster&rsquo;s current state. When Workflow is installed
with <code>helm</code>, Workflow is installed into the <code>drycc</code> namespace. To inspect if Workflow is
running, run:</p>
<pre><code>$ kubectl --namespace=drycc get pods
NAME                          READY     STATUS              RESTARTS   AGE
drycc-builder-gqum7            0/1       ContainerCreating   0          4s
drycc-controller-h6lk6         0/1       ContainerCreating   0          4s
drycc-controller-celery-cmxxn  0/3       ContainerCreating   0          4s
drycc-database-56v39           0/1       ContainerCreating   0          4s
drycc-fluentbit-xihr1          0/1       Pending             0          2s
drycc-storage-c2exb            0/1       Pending             0          3s
drycc-grafana-9ccur            0/1       Pending             0          3s
drycc-registry-5bor6           0/1       Pending             0          3s
</code></pre>
<p>!!! tip
To save precious keystrokes, alias <code>kubectl --namespace=drycc</code> to <code>kd</code> so it is easier to type
in the future.</p>
<p>To fetch the logs of a specific component, use <code>kubectl logs</code>:</p>
<pre><code>$ kubectl --namespace=drycc logs drycc-controller-h6lk6
system information:
Django Version: 1.9.6
Python 3.5.1
addgroup: gid '0' in use
Django checks:
System check identified no issues (2 silenced).
[...]
</code></pre>
<p>To dive into a running container to inspect its environment, use <code>kubectl exec</code>:</p>
<pre><code>$ kubectl --namespace=drycc exec -it drycc-database-56v39 gosu postgres psql
psql (13.4 (Debian 13.4-1.pgdg100+1))
Type &quot;help&quot; for help.

postgres=# \l
                                                List of databases
     Name          |  Owner   | Encoding |  Collate   |   Ctype    |   Access privileges
-------------------+----------+----------+------------+------------+-----------------------
 drycc_controller  | postgres | UTF8     | en_US.utf8 | en_US.utf8 |
 drycc_passport    | postgres | UTF8     | en_US.utf8 | en_US.utf8 |
 postgres          | postgres | UTF8     | en_US.utf8 | en_US.utf8 |
 template0         | postgres | UTF8     | en_US.utf8 | en_US.utf8 | =c/postgres          +
                   |          |          |            |            | postgres=CTc/postgres
 template1         | postgres | UTF8     | en_US.utf8 | en_US.utf8 | =c/postgres          +
                   |          |          |            |            | postgres=CTc/postgres
(4 rows)
postgres=# \connect drycc_controller
You are now connected to database &quot;drycc_controller&quot; as user &quot;postgres&quot;.
drycc_controller=# \dt
                                 List of relations
 Schema |              Name              | Type  |      Owner
--------+--------------------------------+-------+-------------------
 public | api_app                        | table | drycc_controller
 public | api_build                      | table | drycc_controller
 public | api_certificate                | table | drycc_controller
 public | api_config                     | table | drycc_controller
 public | api_domain                     | table | drycc_controller
 public | api_key                        | table | drycc_controller
 public | api_push                       | table | drycc_controller
 public | api_release                    | table | drycc_controller
 public | auth_group                     | table | drycc_controller
 --More--
 drycc_controller=# SELECT COUNT(*) from api_app;
 count
-------
     0
(1 row)
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-840798867228de33b883f3d76e5df256">7.3 - Troubleshooting Applications</h1>
    <div class="lead">This document describes how one can troubleshoot common issues when deploying or debugging an application that fails to start or deploy.</div>
	<h2 id="application-has-a-dockerfile-but-a-buildpack-deployment-occurs">Application has a Dockerfile, but a Buildpack Deployment Occurs<a class="td-heading-self-link" href="#application-has-a-dockerfile-but-a-buildpack-deployment-occurs" aria-label="Heading self-link"></a></h2>
<p>When you deploy an application to Workflow using <code>git push drycc master</code> and the <a href="/docs/understanding-workflow/components/#builder">Builder</a>
attempts to deploy using the Buildpack workflow, check the following steps:</p>
<ol>
<li>Are you deploying the correct project?</li>
<li>Are you pushing the correct git branch (<code>git push drycc &lt;branch&gt;</code>)?</li>
<li>Is the <code>Dockerfile</code> in the project&rsquo;s root directory?</li>
<li>Have you committed the <code>Dockerfile</code> to the project?</li>
</ol>
<h2 id="application-was-deployed-but-is-failing-to-start">Application was Deployed, but is Failing to Start<a class="td-heading-self-link" href="#application-was-deployed-but-is-failing-to-start" aria-label="Heading self-link"></a></h2>
<p>If you deployed your application but it is failing to start, you can use <code>drycc logs</code> to check
why the application fails to boot. Sometimes, the application container may fail to boot without
logging any information about the error. This typically occurs when the healthcheck configured for
the application fails. In this case, you can start by
<a href="/docs/troubleshooting/kubectl/">troubleshooting using kubectl</a>. You can inspect the application&rsquo;s current
state by examining the pod deployed in the application&rsquo;s namespace. To do that, run</p>
<pre><code>$ kubectl --namespace=myapp get pods
NAME                          READY     STATUS                RESTARTS   AGE
myapp-web-1585713350-3brbo    0/1       CrashLoopBackOff      2          43s
</code></pre>
<p>We can then describe the pod and determine why it is failing to boot:</p>
<pre><code>Events:
  FirstSeen     LastSeen        Count   From                            SubobjectPath                           Type            Reason          Message
  ---------     --------        -----   ----                            -------------                           --------        ------          -------
  43s           43s             1       {default-scheduler }                                                    Normal          Scheduled       Successfully assigned myapp-web-1585713350-3brbo to kubernetes-node-1
  41s           41s             1       {kubelet kubernetes-node-1}     spec.containers{myapp-web}              Normal          Created         Created container with container id b86bd851a61f
  41s           41s             1       {kubelet kubernetes-node-1}     spec.containers{myapp-web}              Normal          Started         Started container with container id b86bd851a61f
  37s           35s             1       {kubelet kubernetes-node-1}     spec.containers{myapp-web}              Warning         Unhealthy       Liveness probe failed: Get http://10.246.39.13:8000/healthz: dial tcp 10.246.39.13:8000: getsockopt: connection refused
</code></pre>
<p>In this instance, we set the healthcheck initial delay timeout for the application at 1 second,
which is too aggressive. The application needs some time to set up the API server after the
container has booted. By increasing the healthcheck initial delay timeout to 10 seconds, the
application is able to boot and is responding correctly.</p>
<p>See <a href="/docs/applications/managing-app-configuration/#custom-health-checks">Custom Health Checks</a> for more information on how to customize the application&rsquo;s
health checks to better suit the application&rsquo;s needs.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-99222d24d8be89b4e4f9ce2e8603cbd4">8 - Roadmap</h1>
    <div class="lead">Browse the ever-growing list of up-to-date, community driven roadmaps.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-99009c3172bc9dbfc3e228e3834c0e23">8.1 - Planning Process</h1>
    <div class="lead">Drycc features a lightweight process that emphasizes openness and ensures every community member can be an integral part of planning for the future.</div>
	<h2 id="the-role-of-maintainers">The Role of Maintainers<a class="td-heading-self-link" href="#the-role-of-maintainers" aria-label="Heading self-link"></a></h2>
<p><a href="../contributing/maintainers.md">Maintainers</a> lead the Drycc projects. Their duties include proposing the Roadmap, reviewing and integrating contributions and maintaining the vision of the project.</p>
<h2 id="open-roadmap">Open Roadmap<a class="td-heading-self-link" href="#open-roadmap" aria-label="Heading self-link"></a></h2>
<p>The <a href="/docs/roadmap/roadmap/">Drycc Roadmap</a> is a community document. While Maintainers propose the Roadmap, it gets discussed and refined in Release Planning Meetings.</p>
<h2 id="contributing-to-the-roadmap">Contributing to the Roadmap<a class="td-heading-self-link" href="#contributing-to-the-roadmap" aria-label="Heading self-link"></a></h2>
<p>Proposals and issues can be opened by anyone. Every member of the <a href="../contributing/community.md">community</a> is welcome to participate in the discussion by providing feedback and/or offering counter-proposals.</p>
<h2 id="release-milestones">Release Milestones<a class="td-heading-self-link" href="#release-milestones" aria-label="Heading self-link"></a></h2>
<p>The Roadmap gets delivered progressively via the <a href="/docs/roadmap/releases/">Release Schedule</a>.  Releases are defined during Release Planning Meetings and managed using GitHub Milestones which track specific deliverables and work-in-progress.</p>
<h2 id="release-planning-meetings">Release Planning Meetings<a class="td-heading-self-link" href="#release-planning-meetings" aria-label="Heading self-link"></a></h2>
<p>Major decisions affecting the Roadmap are discussed during Release Planning Meetings on the first Thursday of each month, aligned with the <a href="/docs/roadmap/releases/">Release Schedule</a>.</p>
<p>Release Planning Meetings are open to the public with access coordinated via the <a href="https://slack.drycc.cc">Drycc #community Slack channel</a>.
Notes from past meetings are below, along with links to a recording of the entire meeting on YouTube.</p>
<h2 id="credits">Credits<a class="td-heading-self-link" href="#credits" aria-label="Heading self-link"></a></h2>
<p>Thanks to <a href="https://twitter.com/amylindburg">Amy Lindburg</a> and our friends at <a href="https://podman.io/">Podman</a> for their inspiration.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-193cadd1e11bc399214b229fd4fd16ac">8.2 - Drycc Workflow Roadmap</h1>
    <div class="lead">Drycc roadmap is community driven and managed through GitHub.</div>
	<h1 id="drycc-workflow-roadmap">Drycc Workflow Roadmap<a class="td-heading-self-link" href="#drycc-workflow-roadmap" aria-label="Heading self-link"></a></h1>
<p>The Drycc Workflow Roadmap is a community document created as part of the open
<a href="/docs/roadmap/planning-process/">Planning Process</a>. Each roadmap item describes a high-level capability or
grouping of features that are deemed important to the future of Drycc.</p>
<p>Given the project&rsquo;s rapid <a href="/docs/roadmap/releases/">Release Schedule</a>, roadmap
items are designed to provide a sense of direction over many releases.</p>
<h2 id="interactive-drycc-run-binbash">Interactive <code>drycc run /bin/bash</code><a class="td-heading-self-link" href="#interactive-drycc-run-binbash" aria-label="Heading self-link"></a></h2>
<p>Provide the ability for developers to launch an interactive terminal session in
their application environment.</p>
<p>Related issues:</p>
<ul>
<li><a href="https://github.com/drycc/workflow-cli/issues/28">https://github.com/drycc/workflow-cli/issues/28</a></li>
<li><a href="https://github.com/drycc/drycc/issues/117">https://github.com/drycc/drycc/issues/117</a></li>
</ul>
<h2 id="log-streaming">Log Streaming<a class="td-heading-self-link" href="#log-streaming" aria-label="Heading self-link"></a></h2>
<p>Stream application logs via <code>drycc logs -f</code> <a href="https://github.com/drycc/drycc/issues/465">https://github.com/drycc/drycc/issues/465</a></p>
<h2 id="teams-and-permissions">Teams and Permissions<a class="td-heading-self-link" href="#teams-and-permissions" aria-label="Heading self-link"></a></h2>
<p>Teams and Permissions represents a more flexible permissions model to allow
more nuanced control to applications, capabilities and resources on the
platform. There have been a number of proposals in this area which need to be
reconciled for Drycc Workflow before we begin implementation.</p>
<p>Related issues:</p>
<ul>
<li>Deploy Keys: <a href="https://github.com/drycc/drycc/issues/3875">https://github.com/drycc/drycc/issues/3875</a></li>
<li>Teams: <a href="https://github.com/drycc/drycc/issues/4173">https://github.com/drycc/drycc/issues/4173</a></li>
<li>Fine grained permissions: <a href="https://github.com/drycc/drycc/issues/4150">https://github.com/drycc/drycc/issues/4150</a></li>
<li>Admins create apps only: <a href="https://github.com/drycc/drycc/issues/4052">https://github.com/drycc/drycc/issues/4052</a></li>
<li>Admin Certificate Permissions: <a href="https://github.com/drycc/drycc/issues/4576#issuecomment-170987223">https://github.com/drycc/drycc/issues/4576#issuecomment-170987223</a></li>
</ul>
<h2 id="monitoring">Monitoring<a class="td-heading-self-link" href="#monitoring" aria-label="Heading self-link"></a></h2>
<ul>
<li><input disabled="" type="checkbox"> Define and deliver alerts with Kapacitor: <a href="https://github.com/drycc/monitor/issues/44">https://github.com/drycc/monitor/issues/44</a></li>
</ul>
<h2 id="workflow-addonsservices">Workflow Addons/Services<a class="td-heading-self-link" href="#workflow-addonsservices" aria-label="Heading self-link"></a></h2>
<p>Developers should be able to quickly and easily provision application
dependencies using a services or addon abstraction.
<a href="https://github.com/drycc/drycc/issues/231">https://github.com/drycc/drycc/issues/231</a></p>
<h2 id="inboundoutbound-webhooks">Inbound/Outbound Webhooks<a class="td-heading-self-link" href="#inboundoutbound-webhooks" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow should be able to send and receive webhooks from external
systems. Facilitating integration with third party services like GitHub,
Gitlab, Slack, Hipchat.</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> Send webhook on platform events: <a href="https://github.com/drycc/drycc/issues/1486">https://github.com/drycc/drycc/issues/1486</a> (Workflow v2.10)</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a943759f7c91da926ba8084d243fbd69">8.3 - Releases</h1>
    <div class="lead">Drycc&rsquo;s release model allows applications to record and roll back to previous versions.</div>
	<p>Drycc uses a <a href="https://en.wikipedia.org/wiki/Continuous_delivery">continuous delivery</a> approach for creating releases. Every merged commit that passes
testing results in a deliverable that can be given a <a href="http://semver.org">semantic version</a> tag and shipped.</p>
<p>The master <code>git</code> branch of a project should always work. Only changes considered ready to be
released publicly are merged.</p>
<h2 id="components-release-as-needed">Components Release as Needed<a class="td-heading-self-link" href="#components-release-as-needed" aria-label="Heading self-link"></a></h2>
<p>Drycc components release new versions as often as needed. Fixing a high priority bug requires the
project maintainer to create a new patch release. Merging a backward-compatible feature implies
a minor release.</p>
<p>By releasing often, each component release becomes a safe and routine event. This makes it faster
and easier for users to obtain specific fixes. Continuous delivery also reduces the work
necessary to release a product such as Drycc Workflow, which integrates several components.</p>
<p>&ldquo;Components&rdquo; applies not just to Drycc Workflow projects, but also to development and release
tools, to Container base images, and to other Drycc projects that do <a href="http://semver.org">semantic version</a> releases.</p>
<p>See &ldquo;<a href="/docs/roadmap/releases/#how-to-release-a-component">How to Release a Component</a>&rdquo; for more detail.</p>
<h2 id="workflow-releases-each-month">Workflow Releases Each Month<a class="td-heading-self-link" href="#workflow-releases-each-month" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow has a regular, public release cadence. From v2.8.0 onward, new Workflow feature
releases arrive on the first Thursday of each month. Patch releases are created at any time,
as needed. GitHub milestones are used to communicate the content and timing of major and minor
releases, and longer-term planning is visible at <a href="/docs/roadmap/roadmap/">the Roadmap</a>.</p>
<p>Workflow release timing is not linked to specific features. If a feature is merged before the
release date, it is included in the next release.</p>
<p>See &ldquo;<a href="/docs/roadmap/releases/#how-to-release-workflow">How to Release Workflow</a>&rdquo; for more detail.</p>
<h2 id="semantic-versioning">Semantic Versioning<a class="td-heading-self-link" href="#semantic-versioning" aria-label="Heading self-link"></a></h2>
<p>Drycc releases comply with <a href="http://semver.org">semantic versioning</a>, with the &ldquo;public API&rdquo; broadly
defined as:</p>
<ul>
<li>REST, gRPC, or other API that is network-accessible</li>
<li>Library or framework API intended for public use</li>
<li>&ldquo;Pluggable&rdquo; socket-level protocols users can redirect</li>
<li>CLI commands and output formats</li>
</ul>
<p>In general, changes to anything a user might reasonably link to, customize, or integrate with
should be backward-compatible, or else require a major release. Drycc users can be confident that
upgrading to a patch or to a minor release will not break anything.</p>
<h2 id="how-to-release-a-component">How to Release a Component<a class="td-heading-self-link" href="#how-to-release-a-component" aria-label="Heading self-link"></a></h2>
<p>Most Drycc projects are &ldquo;components&rdquo; which produce a Container image or binary executable as a
deliverable. This section leads a maintainer through creating a component release.</p>
<h3 id="step-1-update-code-and-run-the-release-tool">Step 1: Update Code and Run the Release Tool<a class="td-heading-self-link" href="#step-1-update-code-and-run-the-release-tool" aria-label="Heading self-link"></a></h3>
<p>Major or minor releases should happen on the master branch. Patch releases
should check out the previous release tag and cherry-pick specific commits from master.</p>
<p><strong>Note:</strong> if a patch release, the release artifact will have to be manually promoted by triggering
the <a href="https://ci.drycc.info/job/component-promote">component-promote</a> job with the following values:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#000">COMPONENT_NAME</span><span style="color:#ce5c00;font-weight:bold">=</span>&lt;component name&gt;
</span></span><span style="display:flex;"><span><span style="color:#000">COMPONENT_SHA</span><span style="color:#ce5c00;font-weight:bold">=</span>&lt;patch commit sha&gt;
</span></span></code></pre></div><p>Make sure you have the <a href="https://github.com/drycc/dryccrel">dryccrel</a> release tool in your search <code>$PATH</code>.</p>
<p>Run <code>dryccrel release</code> once with a fake semver tag to proofread the changelog content. (If <code>HEAD</code>
of master is not what is intended for the release, add the <code>--sha</code> flag as described
in <code>dryccrel release --help</code>.)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ dryccrel release controller v0.0.0
</span></span><span style="display:flex;"><span>Doing a dry run of the component release...
</span></span><span style="display:flex;"><span>skipping commit 943a49267eeb28546819a266654806cfcbae0e38
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Creating changelog <span style="color:#204a87;font-weight:bold">for</span> controller with tag v2.8.1 through commit 943a49267eeb28546819a266654806cfcbae0e38
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">### v2.8.1 -&gt; v0.0.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#### Fixes</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#4e9a06">`</span>615b834<span style="color:#4e9a06">`</span><span style="color:#ce5c00;font-weight:bold">](</span>https://github.com/drycc/controller/commit/615b834f39cb68a854cc1f1e2f0f82d862ea2731<span style="color:#ce5c00;font-weight:bold">)</span> boot: Ensure <span style="color:#000">DRYCC_DEBUG</span><span style="color:#ce5c00;font-weight:bold">==</span><span style="color:#204a87">true</span> <span style="color:#204a87;font-weight:bold">for</span> debug output
</span></span></code></pre></div><p>Based on the changelog content, determine whether the component deserves a minor or patch
release. Run the command again with that semver tag and <code>--dry-run=false</code>. You will still be
asked for confirmation before the release is created:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ dryccrel release controller v2.8.2 --dry-run<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span><span style="display:flex;"><span>skipping commit 943a49267eeb28546819a266654806cfcbae0e38
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Creating changelog <span style="color:#204a87;font-weight:bold">for</span> controller with tag v2.8.1 through commit 943a49267eeb28546819a266654806cfcbae0e38
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">### v2.8.1 -&gt; v2.8.2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#### Fixes</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#4e9a06">`</span>615b834<span style="color:#4e9a06">`</span><span style="color:#ce5c00;font-weight:bold">](</span>https://github.com/drycc/controller/commit/615b834f39cb68a854cc1f1e2f0f82d862ea2731<span style="color:#ce5c00;font-weight:bold">)</span> boot: Ensure <span style="color:#000">DRYCC_DEBUG</span><span style="color:#ce5c00;font-weight:bold">==</span><span style="color:#204a87">true</span> <span style="color:#204a87;font-weight:bold">for</span> debug output
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Please review the above changelog contents and ensure:
</span></span><span style="display:flex;"><span>  1. All intended commits are mentioned
</span></span><span style="display:flex;"><span>  2. The changes agree with the semver release tag <span style="color:#ce5c00;font-weight:bold">(</span>major, minor, or patch<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Create release <span style="color:#204a87;font-weight:bold">for</span> Drycc Controller v2.8.2? <span style="color:#ce5c00;font-weight:bold">[</span>y/n<span style="color:#ce5c00;font-weight:bold">]</span>: y
</span></span><span style="display:flex;"><span>New release is available at https://github.com/drycc/controller/releases/tag/v2.8.2
</span></span></code></pre></div><h3 id="step-2-verify-the-component-is-available">Step 2: Verify the Component is Available<a class="td-heading-self-link" href="#step-2-verify-the-component-is-available" aria-label="Heading self-link"></a></h3>
<p>Tagging the component (see <a href="/roadmap/releases/#step-1-update-code-and-run-the-release-tool">Step 1</a>)
starts a CI job that eventually results in an artifact being made available for public download.
Please see the <a href="https://github.com/drycc/jenkins-jobs/#flow">CI flow diagrams</a> for details.</p>
<p>Double-check that the artifact is available, either by a <code>podman pull</code> command or by running the
appropriate installer script.</p>
<p>If the artifact can&rsquo;t be downloaded, ensure that its CI release jobs are still in progress, or
fix whatever issue arose in the pipeline. For example, the
<a href="https://github.com/drycc/jenkins-jobs/#when-a-component-pr-is-merged-to-master">master merge pipeline</a>
may have failed to promote the <code>:git-abc1d23</code> candidate image and needs to be restarted with
that component and commit.</p>
<p>If the component has a correlating <a href="https://github.com/kubernetes/helm">Kubernetes Helm</a> chart,
this chart will also be packaged, signed and uploaded to its production chart repo.  Please
verify it can be fetched (and verified):</p>
<pre tabindex="0"><code>$ helm fetch oci://registry.drycc.cc/charts/controller --version 1.0.0
Verification: &amp;{0xc4207ec870 sha256:026e766e918ff28d2a7041bc3d560d149ee7eb0cb84165c9d9d00a3045ff45c3 controller-v1.0.1.tgz}
</code></pre><h2 id="how-to-release-workflow">How to Release Workflow<a class="td-heading-self-link" href="#how-to-release-workflow" aria-label="Heading self-link"></a></h2>
<p>Drycc Workflow integrates multiple component releases together with a <a href="https://github.com/kubernetes/helm">Kubernetes Helm</a> chart
deliverable. This section leads a maintainer through creating a Workflow release.</p>
<h3 id="step-1-set-environment-variables">Step 1: Set Environment Variables<a class="td-heading-self-link" href="#step-1-set-environment-variables" aria-label="Heading self-link"></a></h3>
<p>Export two environment variables that will be used in later steps:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#204a87">export</span> <span style="color:#000">WORKFLOW_RELEASE</span><span style="color:#ce5c00;font-weight:bold">=</span>v2.17.0 <span style="color:#000">WORKFLOW_PREV_RELEASE</span><span style="color:#ce5c00;font-weight:bold">=</span>v2.16.0  <span style="color:#8f5902;font-style:italic"># for example</span>
</span></span></code></pre></div><h3 id="step-2-tag-supporting-repositories">Step 2: Tag Supporting Repositories<a class="td-heading-self-link" href="#step-2-tag-supporting-repositories" aria-label="Heading self-link"></a></h3>
<p>Some Workflow components not in the Helm chart must also be tagged in sync with the release.
Follow the <a href="/docs/roadmap/releases/#how-to-release-a-component">component release process</a> above and ensure that
these components are tagged:</p>
<ul>
<li><a href="https://github.com/drycc/workflow-cli">drycc/workflow-cli</a></li>
<li><a href="https://github.com/drycc/workflow-e2e">drycc/workflow-e2e</a></li>
</ul>
<p>The version number for <a href="https://github.com/drycc/workflow-cli">drycc/workflow-cli</a> should always match the overall Workflow version
number.</p>
<h3 id="step-3-create-helm-chart">Step 3: Create Helm Chart<a class="td-heading-self-link" href="#step-3-create-helm-chart" aria-label="Heading self-link"></a></h3>
<p>To create and stage a release candidate chart for Workflow, we will build the <a href="https://ci.drycc.info/job/workflow-chart-stage">workflow-chart-stage</a> job with the following parameters:</p>
<p><code>RELEASE_TAG=$WORKFLOW_RELEASE</code></p>
<p>This job will gather all of the latest component release tags and use these to specify the versions of all component charts.
It will then package the Workflow chart, upload it to the staging chart repo and kick off an e2e run against said chart.</p>
<h3 id="step-4-manual-testing">Step 4: Manual Testing<a class="td-heading-self-link" href="#step-4-manual-testing" aria-label="Heading self-link"></a></h3>
<p>Now it&rsquo;s time to go above and beyond current CI tests. Create a testing matrix spreadsheet (copying
from the previous document is a good start) and sign up testers to cover all permutations.</p>
<p>Testers should pay special attention to the overall user experience, make sure upgrading from
earlier versions is smooth, and cover various storage configurations and Kubernetes versions and
infrastructure providers.</p>
<p>When showstopper-level bugs are found, the process is as follows:</p>
<ol>
<li>Create a component PR that fixes the bug.</li>
<li>Once the PR passes and is reviewed, merge it and do a new
<a href="/docs/roadmap/releases/#how-to-release-a-component">component release</a></li>
<li>Trigger the same <code>workflow-chart-stage</code> job as mentioned in Step 3 to upload the newly-generated Workflow release candidate chart to staging.</li>
</ol>
<h3 id="step-5-release-the-chart">Step 5: Release the Chart<a class="td-heading-self-link" href="#step-5-release-the-chart" aria-label="Heading self-link"></a></h3>
<p>When testing has completed without uncovering any new showstopper bugs, kick off the <a href="https://ci.drycc.info/job/workflow-chart-release">workflow-chart-release</a> job with the following parameter:</p>
<p><code>RELEASE_TAG=$WORKFLOW_RELEASE</code></p>
<p>This job will copy the release candidate chart (now approved by CI and manual testing) from the staging repo to the production repo, signing
it if it has not done so already.</p>
<h3 id="step-6-assemble-master-changelog">Step 6: Assemble Master Changelog<a class="td-heading-self-link" href="#step-6-assemble-master-changelog" aria-label="Heading self-link"></a></h3>
<p>Each component already updated its release notes on GitHub with CHANGELOG content. We&rsquo;ll now
generate the master changelog for the Workflow chart, consisting of all component and auxilliary repo changes.</p>
<p>We&rsquo;ll employ the <code>requirements.lock</code> file from the <code>WORKFLOW_PREV_RELEASE</code> chart, as well as a repo-to-chart-name <a href="https://github.com/drycc/dryccrel/blob/main/map.json">mapping file</a>, this time invoking <code>dryccrel changelog global</code> to get all component changes between
the chart versions existing in the <code>WORKFLOW_PREV_RELEASE</code> chart and the <em>most recent</em> releases existing in GitHub.
(Therefore, if there are any unreleased commits in a component repo, they will not appear here):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>helm fetch --untar oci://registry.drycc.cc/charts/workflow --version <span style="color:#000">$WORKFLOW_PREV_RELEASE</span>
</span></span><span style="display:flex;"><span>dryccrel changelog global workflow/requirements.lock map.json &gt; changelog-<span style="color:#000">$WORKFLOW_RELEASE</span>.md
</span></span></code></pre></div><p>This master changelog should then be placed into a single gist.  The file will also be added to the documentation
update PR created in the next step.</p>
<h3 id="step-7-update-documentation">Step 7: Update Documentation<a class="td-heading-self-link" href="#step-7-update-documentation" aria-label="Heading self-link"></a></h3>
<p>Create a new pull request at <a href="https://github.com/drycc/workflow">drycc/workflow</a> that updates version references to the new release.
Use <code>git grep $WORKFLOW_PREV_RELEASE</code> to find any references, but be careful not to change
<code>CHANGELOG.md</code>.</p>
<p>Place the <code>$WORKFLOW_RELEASE</code> master changelog generated in Step 7 in the <code>changelogs</code> directory.
Make sure to add a header to the page to make it clear that this is for a Workflow release, e.g.:</p>
<pre tabindex="0"><code>## Workflow v2.16.0 -&gt; v2.17.0
</code></pre><p>Once the PR has been reviewed and merged, do a <a href="/docs/roadmap/releases/#how-to-release-a-component">component release</a> of
<a href="https://github.com/drycc/workflow">drycc/workflow</a> itself. The version number for <a href="https://github.com/drycc/workflow">drycc/workflow</a> should always match the
overall Workflow version number.</p>
<h3 id="step-8-close-github-milestones">Step 8: Close GitHub Milestones<a class="td-heading-self-link" href="#step-8-close-github-milestones" aria-label="Heading self-link"></a></h3>
<p>Create a pull request at <a href="https://github.com/drycc/seed-repo">seed-repo</a> to close the release
milestone and create the next one. When changes are merged to seed-repo, milestones on all
relevant projects will be updated. If there are open issues attached to the milestone, move them
to the next upcoming milestone before merging the pull request.</p>
<p>Milestones map to Drycc Workflow releases in <a href="https://github.com/drycc/workflow">drycc/workflow</a>. These milestones do not correspond
to individual component release tags.</p>
<h3 id="step-9-release-workflow-cli-stable">Step 9: Release Workflow CLI Stable<a class="td-heading-self-link" href="#step-9-release-workflow-cli-stable" aria-label="Heading self-link"></a></h3>
<p>Now that the <code>$WORKFLOW_RELEASE</code> version of Workflow CLI has been vetted, we can push <code>stable</code> artifacts based on this version.</p>
<p>Kick off <a href="https://ci.drycc.info/job/workflow-cli-build-stable/">https://ci.drycc.info/job/workflow-cli-build-stable/</a> with the <code>TAG</code> build parameter of <code>$WORKFLOW_RELEASE</code>
and then verify <code>stable</code> artifacts are available and appropriately updated after the job completes:</p>
<pre tabindex="0"><code>$ curl -sfL https://www.drycc.cc/install-cli.sh | bash -
$ ./drycc version
# (Should show $WORKFLOW_RELEASE)
</code></pre><h3 id="step-10-let-everyone-know">Step 10: Let Everyone Know<a class="td-heading-self-link" href="#step-10-let-everyone-know" aria-label="Heading self-link"></a></h3>
<p>Let the rest of the team know they can start blogging and tweeting about the new Workflow release.
Post a message to the #company channel on Slack. Include a link to the released chart and to the
master CHANGELOG:</p>
<pre tabindex="0"><code>@here Drycc Workflow v2.17.0 is now live!
Master CHANGELOG: https://drycc.info/docs/workflow/changelogs/v2.17.0/
</code></pre><p>You&rsquo;re done with the release. Nice job!</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-99a93ef9534d11fef4be3e4b3b1a6381">9 - Contribution Guidelines</h1>
    <div class="lead">This HowTo is for project maintainers who need a Contributing Guide for their project.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-08b3aded2d13ce44d558e3dbcae74ffc">9.1 - Contributor Overview</h1>
    <div class="lead">Interested in contributing to a Drycc project?  There are lots of ways to help.</div>
	<h2 id="file-bugs--enhancements">File Bugs &amp; Enhancements<a class="td-heading-self-link" href="#file-bugs--enhancements" aria-label="Heading self-link"></a></h2>
<p>Find a bug? Want to see a new feature? Have a request for the maintainers? Open a Github issue in the applicable repository and we’ll get the conversation started.</p>
<p>Our official support channel is the <a href="https://slack.drycc.cc">Drycc #community Slack channel</a>.</p>
<p>Don&rsquo;t know what the applicable repository for an issue is? Open up in issue in <a href="https://github.com/drycc/workflow">workflow</a> or chat with a maintainer in the <a href="https://slack.drycc.cc">Drycc #community Slack channel</a> and we&rsquo;ll make sure it gets to the right place.</p>
<p>Additionally, take a look at the <a href="/docs/troubleshooting/">troubleshooting</a> documentation for common issues.</p>
<p>Before opening a new issue, it&rsquo;s helpful to search and see if anyone else has already reported the problem. You can search through a list of issues for all Drycc projects <a href="https://github.com/pulls?utf8=%E2%9C%93&q=user%3Adrycc+user%3Ahelm">here</a>.</p>
<h2 id="write-documentation">Write Documentation<a class="td-heading-self-link" href="#write-documentation" aria-label="Heading self-link"></a></h2>
<p>We are always looking to improve and expand our documentation. Most docs reside in the <a href="https://github.com/drycc/workflow">drycc/workflow</a> repository. Simply fork the project, update docs and send us a pull request.</p>
<h2 id="contribute-code">Contribute Code<a class="td-heading-self-link" href="#contribute-code" aria-label="Heading self-link"></a></h2>
<p>We are always looking for help improving the core platform, other workloads, tooling, and test coverage. Interested in contributing code? Let’s chat in the <a href="https://slack.drycc.cc">Drycc #community Slack channel</a>. Make sure to check out issues tagged <a href="https://github.com/pulls?utf8=%E2%9C%93&q=user%3Adrycc+label%3A%22easy+fix%22+is%3Aopen">easy fix</a> or <a href="https://github.com/pulls?utf8=%E2%9C%93&q=user%3Adrycc+label%3A%22help+wanted%22+is%3Aopen">help wanted</a>.</p>
<p>When you&rsquo;re ready to begin writing code, review <a href="/docs/contribution-guidelines/design-documents/">Design Documents</a> and get your <a href="/docs/contribution-guidelines/development-environment/">Development Environment</a> set up.</p>
<p>By contributing to any Drycc project you agree to its <a href="https://github.com/drycc/workflow/blob/main/DCO">Developer Certificate of Origin (DCO)</a>. This document was created by the Linux Kernel community and is a simple statement that you, as a contributor, have the legal right to make the contribution.</p>
<h2 id="triage-issues">Triage Issues<a class="td-heading-self-link" href="#triage-issues" aria-label="Heading self-link"></a></h2>
<p>If you don&rsquo;t have time to code, consider helping with triage. The community will thank you for saving them time by spending some of yours. See <a href="/docs/contribution-guidelines/triaging-issues/">Triaging Issues</a> for more info.</p>
<h2 id="share-your-experience">Share your Experience<a class="td-heading-self-link" href="#share-your-experience" aria-label="Heading self-link"></a></h2>
<p>Interact with the community on our user mailing list or live in our <a href="https://slack.drycc.cc">Drycc #community Slack channel</a>, where you can chat with other Drycc Workflow users any time of day.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-08cd9bebc85c4a3f6153fd18dbdf2839">9.2 - Design Documents</h1>
    <div class="lead">Before submitting a pull request which will significantly alter the behavior of any Drycc component.</div>
	<p>Before submitting a pull request which will significantly alter the behavior of any Drycc component, such as a new feature or major refactoring, contributors should first open an issue representing a design document.</p>
<h2 id="goals">Goals<a class="td-heading-self-link" href="#goals" aria-label="Heading self-link"></a></h2>
<p>Design documents help ensure project contributors:</p>
<ul>
<li>Involve stakeholders as early as possible in a feature&rsquo;s development</li>
<li>Ensure code changes accomplish the original motivations and design goals</li>
<li>Establish clear acceptance criteria for a feature or change</li>
<li>Enforce test-driven design methodology and automated test coverage</li>
</ul>
<h2 id="contents">Contents<a class="td-heading-self-link" href="#contents" aria-label="Heading self-link"></a></h2>
<p>Design document issues should be named <code>Design Doc: &lt;change description&gt;</code> and contain the following sections:</p>
<h3 id="goal">Goal<a class="td-heading-self-link" href="#goal" aria-label="Heading self-link"></a></h3>
<p>This section should briefly describe the proposed change and the motivations behind it. Tests will be written to ensure this design goal is met by the change.</p>
<p>This section should also reference a separate GitHub issue tracking the feature or change, which will typically be assigned to a release milestone.</p>
<h3 id="code-changes">Code Changes<a class="td-heading-self-link" href="#code-changes" aria-label="Heading self-link"></a></h3>
<p>This section should detail the code changes necessary to accomplish the change, as well as the proposed implementation. This should be as detailed as necessary to help reviewers understand the change.</p>
<h3 id="tests">Tests<a class="td-heading-self-link" href="#tests" aria-label="Heading self-link"></a></h3>
<p>All changes should be covered by automated tests, either unit or integration tests (ideally both). This section should detail how tests will be written to validate that the change accomplishes the design goals and doesn&rsquo;t introduce any regressions.</p>
<p>If a change cannot be sufficiently covered by automated testing, the design should be reconsidered. If there is no test coverage whatsoever for an affected section of code, a separate issue should be filed to integrate automated testing with that section of the codebase.</p>
<p>The tests described here also form the acceptance criteria for the change, so that when it&rsquo;s completed maintainers can merge the pull request after confirming the tests pass CI.</p>
<h3 id="approval">Approval<a class="td-heading-self-link" href="#approval" aria-label="Heading self-link"></a></h3>
<p>A design document follows the same <a href="/docs/contribution-guidelines/submitting-a-pull-request/#merge-approval">merge approval</a> review process as final pull requests do, and maintainers will take extra care to ensure that any stakeholders for the change are included in the discussion and review of the design document.</p>
<p>Once the design is accepted, the author can complete the change and submit a pull request for review. The pull request should close both the design document for the change as well as any issues that either track the issue or are closed as a result of the change.</p>
<p>See <a href="/docs/contribution-guidelines/submitting-a-pull-request/">Submitting a Pull Request</a> for more information on pull request and commit message formatting.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9b090b68781587a95f4d69fa53a87a54">9.3 - Development Environment</h1>
    <div class="lead">This document is for developers who are interested in working directly on the Drycc codebase.</div>
	<p>In this guide, we walk you through the process of setting up a development environment that is suitable for hacking on most Drycc components.</p>
<p>We try to make it simple to hack on Drycc components. However, there are necessarily several moving pieces and some setup required. We welcome any suggestions for automating or simplifying this process.</p>
<p>!!! note
The Drycc team is actively engaged in containerizing Go and Python based development environments tailored specifically for Drycc development in order to minimize the setup required.  This work is ongoing.  Refer to the <a href="https://github.com/drycc/router">drycc/router</a> project for a working example of a fully containerized development environment.</p>
<p>If you&rsquo;re just getting into the Drycc codebase, look for GitHub issues with the label <a href="https://github.com/issues?q=user%3Adrycc+label%3Aeasy-fix+is%3Aopen">easy-fix</a>. These are more straightforward or low-risk issues and are a great way to become more familiar with Drycc.</p>
<h2 id="prerequisites">Prerequisites<a class="td-heading-self-link" href="#prerequisites" aria-label="Heading self-link"></a></h2>
<p>In order to successfully compile and test Drycc binaries and build Container images of Drycc components, the following are required:</p>
<ul>
<li><a href="https://git-scm.com/">git</a></li>
<li>Go 1.5 or later, with support for compiling to <code>linux/amd64</code></li>
<li><a href="https://github.com/Masterminds/glide">glide</a></li>
<li><a href="https://github.com/golang/lint">golint</a></li>
<li><a href="https://github.com/koalaman/shellcheck">shellcheck</a></li>
<li><a href="https://podman.io/">Podman</a> (in a non-Linux environment, you will additionally want [Podman Machine][machine])</li>
</ul>
<p>For <a href="https://github.com/drycc/controller">drycc/controller</a>, in particular, you will also need:</p>
<ul>
<li>Python 2.7 or later (with <code>pip</code>)</li>
<li>virtualenv (<code>sudo pip install virtualenv</code>)</li>
</ul>
<p>In most cases, you should simply install according to the instructions. There are a few special cases, though. We cover these below.</p>
<h3 id="configuring-go">Configuring Go<a class="td-heading-self-link" href="#configuring-go" aria-label="Heading self-link"></a></h3>
<p>If your local workstation does not support the <code>linux/amd64</code> target environment, you will have to install Go from source with cross-compile support for that environment. This is because some of the components are built on your local machine and then injected into a container.</p>
<p>Homebrew users can just install with cross compiling support:</p>
<pre tabindex="0"><code>$ brew install go --with-cc-common
</code></pre><p>It is also straightforward to build Go from source:</p>
<pre tabindex="0"><code>$ sudo su
$ curl -sSL https://golang.org/dl/go1.5.src.tar.gz | tar -v -C /usr/local -xz
$ cd /usr/local/go/src
$ # compile Go for our default platform first, then add cross-compile support
$ ./make.bash --no-clean
$ GOOS=linux GOARCH=amd64 ./make.bash --no-clean
</code></pre><p>Once you can compile to <code>linux/amd64</code>, you should be able to compile Drycc components as normal.</p>
<h2 id="fork-the-repository">Fork the Repository<a class="td-heading-self-link" href="#fork-the-repository" aria-label="Heading self-link"></a></h2>
<p>Once the prerequisites have been met, we can begin to work with Drycc components.</p>
<p>Begin at Github by forking whichever Drycc project you would like to contribute to, then clone that fork locally.  Since Drycc is predominantly written in Go, the best place to put it is under <code>$GOPATH/src/github.com/drycc/</code>.</p>
<pre tabindex="0"><code>$ mkdir -p  $GOPATH/src/github.com/drycc
$ cd $GOPATH/src/github.com/drycc
$ git clone git@github.com:&lt;username&gt;/&lt;component&gt;.git
$ cd &lt;component&gt;
</code></pre><p>!!! note
By checking out the forked copy into the namespace <code>github.com/drycc/&lt;component&gt;</code>, we are tricking the Go toolchain into seeing our fork as the &ldquo;official&rdquo; source tree.</p>
<p>If you are going to be issuing pull requests to the upstream repository from which you forked, we suggest configuring Git such that you can easily rebase your code to the upstream repository&rsquo;s main branch. There are various strategies for doing this, but the <a href="https://help.github.com/articles/fork-a-repo/">most common</a> is to add an <code>upstream</code> remote:</p>
<pre tabindex="0"><code>$ git remote add upstream https://github.com/drycc/&lt;component&gt;.git
</code></pre><p>For the sake of simplicity, you may want to point an environment variable to your Drycc code - the directory containing one or more Drycc components:</p>
<pre tabindex="0"><code>$ export DRYCC=$GOPATH/src/github.com/drycc
</code></pre><p>Throughout the rest of this document, <code>$DRYCC</code> refers to that location.</p>
<h3 id="alternative-forking-with-a-pushurl">Alternative: Forking with a Pushurl<a class="td-heading-self-link" href="#alternative-forking-with-a-pushurl" aria-label="Heading self-link"></a></h3>
<p>A number of Drycc contributors prefer to pull directly from <code>drycc/&lt;component&gt;</code>, but push to <code>&lt;username&gt;/&lt;component&gt;</code>. If that workflow suits you better, you can set it up this way:</p>
<pre tabindex="0"><code>$ git clone git@github.com:drycc/&lt;component&gt;.git
$ cd drycc
$ git config remote.origin.pushurl git@github.com:&lt;username&gt;/&lt;component&gt;.git
</code></pre><p>In this setup, fetching and pulling code will work directly with the upstream repository, while pushing code will send changes to your fork. This makes it easy to stay up to date, but also make changes and then issue pull requests.</p>
<h2 id="make-your-changes">Make Your Changes<a class="td-heading-self-link" href="#make-your-changes" aria-label="Heading self-link"></a></h2>
<p>With your development environment set up and the code you wish to work on forked and cloned, you can begin making your changes.</p>
<h2 id="test-your-changes">Test Your Changes<a class="td-heading-self-link" href="#test-your-changes" aria-label="Heading self-link"></a></h2>
<p>Drycc components each include a comprehensive suite of automated tests, mostly written in Go. See <a href="/docs/contribution-guidelines/testing/">testing</a> for instructions on running the tests.</p>
<h2 id="deploying-your-changes">Deploying Your Changes<a class="td-heading-self-link" href="#deploying-your-changes" aria-label="Heading self-link"></a></h2>
<p>Although writing and executing tests are critical to ensuring code quality, most contributors will also want to deploy their changes to a live environment, whether to make use of those changes or to test them further.  The remainder of this section documents the procedure for running officially released Drycc components in a development cluster and replacing any one of those with your customizations.</p>
<h3 id="running-a-kubernetes-cluster-for-development">Running a Kubernetes Cluster for Development<a class="td-heading-self-link" href="#running-a-kubernetes-cluster-for-development" aria-label="Heading self-link"></a></h3>
<p>To run a Kubernetes cluster locally or elsewhere to support your development activities, refer to Drycc installation instructions <a href="/docs/quickstart/">here</a>.</p>
<h3 id="using-a-development-registry">Using a Development Registry<a class="td-heading-self-link" href="#using-a-development-registry" aria-label="Heading self-link"></a></h3>
<p>To facilitate deploying Container images containing your changes to your Kubernetes cluster, you will need to make use of a Container registry.  This is a location to where you can push your custom-built images and from where your Kubernetes cluster can retrieve those same images.</p>
<p>If your development cluster runs locally (in Minikube, for instance), the most efficient and economical means of achieving this is to run a Container registry locally <em>as</em> a Container container.</p>
<p>To facilitate this, most Drycc components provide a make target to create such a registry:</p>
<pre tabindex="0"><code>$ make dev-registry
</code></pre><p>In a Linux environment, to begin using the registry:</p>
<pre tabindex="0"><code>export DRYCC_REGISTRY=&lt;IP of the host machine&gt;:5000
</code></pre><p>In non-Linux environments:</p>
<pre tabindex="0"><code>export DRYCC_REGISTRY=&lt;IP of the drycc Container Machine VM&gt;:5000
</code></pre><p>If your development cluster runs on a cloud provider such as Google Container Engine, a local registry such as the one above will not be accessible to your Kubernetes nodes.  In such cases, a public registry such as [DockerHub][dh] or <a href="https://quay.io/">quay.io</a> will suffice.</p>
<p>To use DockerHub for this purpose, for instance:</p>
<pre tabindex="0"><code>$ export DRYCC_REGISTRY=&#34;registry.drycc.cc&#34;
$ export IMAGE_PREFIX=&lt;your DockerHub username&gt;
</code></pre><p>To use quay.io:</p>
<pre tabindex="0"><code>$ export DRYCC_REGISTRY=quay.io
$ export IMAGE_PREFIX=&lt;your quay.io username&gt;
</code></pre><p>Note the importance of the trailing slash.</p>
<h3 id="dev--deployment-workflow">Dev / Deployment Workflow<a class="td-heading-self-link" href="#dev--deployment-workflow" aria-label="Heading self-link"></a></h3>
<p>With a functioning Kubernetes cluster and the officially released Drycc components installed onto it, deployment and further testing of any Drycc component you have made changes to is facilitated by replacing the officially released component with a custom built image that contains your changes.  Most Drycc components include Makefiles with targets specifically intended to facilitate this workflow with minimal friction.</p>
<p>In the general case, this workflow looks like this:</p>
<ol>
<li>Update source code and commit your changes using <code>git</code></li>
<li>Use <code>make build</code> to build a new Container image</li>
<li>Use <code>make dev-release</code> to generate Kubernetes manifest(s)</li>
<li>Use <code>make deploy</code> to restart the component using the updated manifest</li>
</ol>
<p>This can be shortened to a one-liner using just the <code>deploy</code> target:</p>
<pre tabindex="0"><code>$ make deploy
</code></pre><h2 id="useful-commands">Useful Commands<a class="td-heading-self-link" href="#useful-commands" aria-label="Heading self-link"></a></h2>
<p>Once your customized Drycc component has been deployed, here are some helpful commands that will allow you to inspect your cluster and to troubleshoot, if necessary:</p>
<h3 id="see-all-drycc-pods">See All Drycc Pods<a class="td-heading-self-link" href="#see-all-drycc-pods" aria-label="Heading self-link"></a></h3>
<pre tabindex="0"><code>$ kubectl --namespace=drycc get pods
</code></pre><h3 id="describe-a-pod">Describe a Pod<a class="td-heading-self-link" href="#describe-a-pod" aria-label="Heading self-link"></a></h3>
<p>This is often useful for troubleshooting pods that are in pending or crashed states:</p>
<pre tabindex="0"><code>$ kubectl --namespace=drycc describe -f &lt;pod name&gt;
</code></pre><h3 id="tail-logs">Tail Logs<a class="td-heading-self-link" href="#tail-logs" aria-label="Heading self-link"></a></h3>
<pre tabindex="0"><code>$ kubectl --namespace=drycc logs -f &lt;pod name&gt;
</code></pre><h3 id="django-shell">Django Shell<a class="td-heading-self-link" href="#django-shell" aria-label="Heading self-link"></a></h3>
<p>Specific to <a href="https://github.com/drycc/controller">drycc/controller</a></p>
<pre tabindex="0"><code>$ kubectl --namespace=drycc exec -it &lt;pod name&gt; -- python manage.py shell
</code></pre><p>Have commands other Drycc contributors might find useful? Send us a PR!</p>
<h2 id="pull-requests">Pull Requests<a class="td-heading-self-link" href="#pull-requests" aria-label="Heading self-link"></a></h2>
<p>Satisfied with your changes?  Share them!</p>
<p>Please read <a href="/docs/contribution-guidelines/submitting-a-pull-request/">Submitting a Pull Request</a>. It contains a checklist of
things you should do when proposing a change to any Drycc component.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-47d4efce1065e77690f7e726aed1dbb8">9.4 - Testing Drycc</h1>
    <div class="lead">Each Drycc component is one among an ecosystem of such components - many of which integrate with one another - which makes testing each component thoroughly a matter of paramount importance.</div>
	<p>Each Drycc component includes its own suite of style checks, <a href="http://en.wikipedia.org/wiki/Unit_testing">unit tests</a>, and black-box type <a href="http://en.wikipedia.org/wiki/Functional_testing">functional tests</a>.</p>
<p><a href="http://en.wikipedia.org/wiki/Integration_testing">Integration tests</a> verify the behavior of the Drycc components together as a system and are provided separately by the <a href="https://github.com/drycc/workflow-e2e">drycc/workflow-e2e</a> project.</p>
<p>GitHub pull requests for all Drycc components are tested automatically by the <a href="https://travis-ci.org/drycc">Travis CI</a> <a href="http://en.wikipedia.org/wiki/Continuous_integration">continuous integration</a> system. Contributors should run the same tests locally before proposing any changes to the Drycc codebase.</p>
<h2 id="set-up-the-environment">Set Up the Environment<a class="td-heading-self-link" href="#set-up-the-environment" aria-label="Heading self-link"></a></h2>
<p>Successfully executing the unit and functional tests for any Drycc component requires that the <a href="/docs/contribution-guidelines/development-environment/">Development Environment</a> is set up first.</p>
<h2 id="run-the-tests">Run the Tests<a class="td-heading-self-link" href="#run-the-tests" aria-label="Heading self-link"></a></h2>
<p>The style checks, unit tests, and functional tests for each component can all be executed via make targets:</p>
<p>To execute style checks:</p>
<pre tabindex="0"><code>$ make test-style
</code></pre><p>To execute unit tests:</p>
<pre tabindex="0"><code>$ make test-unit
</code></pre><p>To execute functional tests:</p>
<pre tabindex="0"><code>$ make test-functional
</code></pre><p>To execute style checks, unit tests, and functional tests all in one shot:</p>
<pre tabindex="0"><code>$ make test
</code></pre><p>To execute integration tests, refer to <a href="https://github.com/drycc/workflow-e2e">drycc/workflow-e2e</a> documentation.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-43f98400fc0eff3cda8a4dd6d3e62a68">9.5 - Submitting a Pull Request</h1>
    <div class="lead">Proposed changes to Drycc projects are made as GitHub pull requests.</div>
	<h2 id="design-document">Design Document<a class="td-heading-self-link" href="#design-document" aria-label="Heading self-link"></a></h2>
<p>Before opening a pull request, ensure your change also references a design document if the contribution is substantial. For more information, see <a href="/docs/contribution-guidelines/design-documents/">Design Documents</a>.</p>
<h2 id="single-issue">Single Issue<a class="td-heading-self-link" href="#single-issue" aria-label="Heading self-link"></a></h2>
<p>It&rsquo;s hard to reach agreement on the merit of a PR when it isn&rsquo;t focused. When fixing an issue or implementing a new feature, resist the temptation to refactor nearby code or to fix that potential bug you noticed. Instead, open a separate issue or pull request. Keeping concerns separated allows pull requests to be tested, reviewed, and merged more quickly.</p>
<p>Squash and rebase the commit or commits in your pull request into logical units of work with <code>git</code>. Include tests and documentation changes in the same commit, so that a revert would remove all traces of the feature or fix.</p>
<p>Most pull requests will reference a GitHub issue. In the PR description - not in the commit itself - include a line such as &ldquo;closes #1234&rdquo;. The issue referenced will automatically be closed when your PR is merged.</p>
<h2 id="include-tests">Include Tests<a class="td-heading-self-link" href="#include-tests" aria-label="Heading self-link"></a></h2>
<p>If you significantly alter or add functionality to a component that impacts the broader Drycc Workflow PaaS, you should submit a complementary PR to modify or amend end-to-end integration tests.  These integration tests can be found in the <a href="https://github.com/drycc/workflow-e2e">drycc/workflow-e2e</a> repository.</p>
<p>See <a href="/docs/contribution-guidelines/testing/">testing</a> for more information.</p>
<h2 id="include-docs">Include Docs<a class="td-heading-self-link" href="#include-docs" aria-label="Heading self-link"></a></h2>
<p>Changes to any Drycc Workflow component that could affect a user&rsquo;s experience also require a change or addition to the relevant documentation. For most Drycc components, this involves updating the component&rsquo;s <em>own</em> documentation. In some cases where a component is tightly integrated into <a href="https://github.com/drycc/workflow">drycc/workflow</a>, its documentation must also be updated.</p>
<h2 id="cross-repo-commits">Cross-repo commits<a class="td-heading-self-link" href="#cross-repo-commits" aria-label="Heading self-link"></a></h2>
<p>If a pull request is part of a larger piece of work involving one or more additional commits in other Workflow repositories, these commits can be referenced in the last PR to be submitted.  The downstream <a href="https://ci.drycc.info/job/workflow-e2e-pr/">e2e test job</a> will then supply every referenced commit (derived from PR issue number supplied) to the test runner so it can source the necessary Container images for inclusion in the generated Workflow chart to be tested.</p>
<p>For example, consider paired commits in <a href="https://github.com/drycc/controller">drycc/controller</a> and <a href="https://github.com/drycc/workflow-e2e">drycc/workflow-e2e</a>.  The commit body for the first PR in <code>drycc/workflow-e2e</code> would look like:</p>
<pre tabindex="0"><code>feat(foo_test): add e2e test for feature foo

[skip e2e] test for controller#42
</code></pre><p>Adding <code>[skip e2e]</code> forgoes the e2e tests on this commit. This and any other required PRs aside from the final PR should be submitted first, so that their respective build and image push jobs run.</p>
<p>Lastly, the final PR in <code>drycc/controller</code> should be created with the required PR number(s) listed, in the form of <code>[Rr]equires &lt;repoName&gt;#&lt;pullRequestNumber&gt;</code>, for use by the downstream e2e run.</p>
<pre tabindex="0"><code>feat(foo): add feature foo

Requires workflow-e2e#42
</code></pre><h2 id="code-standards">Code Standards<a class="td-heading-self-link" href="#code-standards" aria-label="Heading self-link"></a></h2>
<p>Drycc components are implemented in <a href="http://golang.org/">Go</a> and <a href="http://www.python.org/">Python</a>. For both languages, we agree with <a href="http://www.python.org/dev/peps/pep-0020/">The Zen of Python</a>, which emphasizes simple over clever. Readability counts.</p>
<p>Go code should always be run through <code>gofmt</code> on the default settings. Lines of code may be up to 99 characters long. Documentation strings and tests are required for all exported functions. Use of third-party go packages should be minimal, but when doing so, such dependencies should be managed via the <a href="https://github.com/Masterminds/glide">glide</a> tool.</p>
<p>Python code should always adhere to <a href="http://www.python.org/dev/peps/pep-0008/">PEP8</a>, the python code style guide, with the exception that lines of code may be up to 99 characters long. Docstrings and tests are required for all public methods, although the <a href="https://pypi.python.org/pypi/flake8/">flake8</a> tool used by Drycc does not enforce this.</p>
<h2 id="commit-style">Commit Style<a class="td-heading-self-link" href="#commit-style" aria-label="Heading self-link"></a></h2>
<p>We follow a convention for commit messages borrowed from CoreOS, who borrowed theirs
from AngularJS. This is an example of a commit:</p>
<pre tabindex="0"><code>feat(scripts/test-cluster): add a cluster test command

this uses tmux to setup a test cluster that you can easily kill and
start for debugging.
</code></pre><p>To make it more formal, it looks something like this:</p>
<pre tabindex="0"><code>{type}({scope}): {subject}
&lt;BLANK LINE&gt;
{body}
&lt;BLANK LINE&gt;
{footer}
</code></pre><p>The allowed <code>{types}</code> are as follows:</p>
<ul>
<li><code>feat</code> -&gt; feature</li>
<li><code>fix</code> -&gt; bug fix</li>
<li><code>docs</code> -&gt; documentation</li>
<li><code>style</code> -&gt; formatting</li>
<li><code>ref</code> -&gt; refactoring code</li>
<li><code>test</code> -&gt; adding missing tests</li>
<li><code>chore</code> -&gt; maintenance</li>
</ul>
<p>The <code>{scope}</code> can be anything specifying the location(s) of the commit change(s).</p>
<p>The <code>{subject}</code> needs to be an imperative, present tense verb: “change”, not “changed” nor
“changes”. The first letter should not be capitalized, and there is no dot (.) at the end.</p>
<p>Just like the <code>{subject}</code>, the message <code>{body}</code> needs to be in the present tense, and includes
the motivation for the change, as well as a contrast with the previous behavior. The first
letter in a paragraph must be capitalized.</p>
<p>All breaking changes need to be mentioned in the <code>{footer}</code> with the description of the
change, the justification behind the change and any migration notes required.</p>
<p>Any line of the commit message cannot be longer than 72 characters, with the subject line
limited to 50 characters. This allows the message to be easier to read on GitHub as well
as in various git tools.</p>
<h2 id="merge-approval">Merge Approval<a class="td-heading-self-link" href="#merge-approval" aria-label="Heading self-link"></a></h2>
<p>Any code change - other than a simple typo fix or one-line documentation change - requires at least two <a href="/docs/contribution-guidelines/maintainers/">Drycc maintainers</a> to accept it.  Maintainers tag pull requests with &ldquo;<strong>LGTM1</strong>&rdquo; and &ldquo;<strong>LGTM2</strong>&rdquo; (Looks Good To Me) labels to indicate acceptance.</p>
<p>No pull requests can be merged until at least one core maintainer signs off with an LGTM. The other LGTM can come from either a core maintainer or contributing maintainer.</p>
<p>If the PR is from a Drycc maintainer, then he or she should be the one to close it. This keeps the commit stream clean and gives the maintainer the benefit of revisiting the PR before deciding whether or not to merge the changes.</p>
<p>An exception to this is when an errant commit needs to be reverted urgently. If necessary, a PR that only reverts a previous commit can be merged without waiting for LGTM approval.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b581d1fa63cd0c7a51cc4e1fd2e702fb">9.6 - Community</h1>
    <div class="lead">Drycc is an open source project that anyone in the community can use, improve, and enjoy. We&rsquo;d love you to join us! Here&rsquo;s a few ways to find out what&rsquo;s happening and get involved.</div>
	<p>Drycc software is fully open source. As such, the &ldquo;Drycc community&rdquo; consists of anyone who uses the Drycc software and participates in its evolution, whether by answering questions, finding bugs, suggesting enhancements, or writing documentation or code.</p>
<p>Drycc development is coordinated through numerous project repositories <a href="https://github.com/drycc">on GitHub</a>. Anyone can check out the source code for any Drycc component, fork it, make improvements, and create a pull request to offer those changes back to the Drycc community.</p>
<p><a href="https://www.drycc.cc/community">Engine Yard</a> maintains the numerous Drycc projects, and as such, decides what ends up in the official GitHub repositories. Drycc depends on the contributions of the community; the maintainers will not ignore pull requests or issues.</p>
<p>Drycc uses the timeless, highly efficient, and totally unfair system known as &ldquo;Benevolent Dictator for Life&rdquo; (<a href="http://en.wikipedia.org/wiki/Benevolent_Dictator_for_Life">BDFL</a>). <a href="https://github.com/gabrtv">Gabriel Monroy</a>, the creator of Drycc, is our BDFL and has final say over all decisions related to Drycc.</p>
<h2 id="open-source-bounties">Open Source Bounties<a class="td-heading-self-link" href="#open-source-bounties" aria-label="Heading self-link"></a></h2>
<p>Drycc projects are bounty-friendly.  We believe open source bounty sites can be constructive tools in the development of open source software. Community members are encouraged to a) offer bounties and b) receive bounties for open source contributions that benefit everyone. The Drycc maintainers, however, will not accept bounties on this project but are more than happy to help community members attempting bounties.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b6d4c4d8ed97156c0da739a10438e7e1">9.7 - Triaging Issues</h1>
    <div class="lead">Issue triage provides an important way to contribute to an open source project.</div>
	<p>Triage helps ensure issues resolve quickly by:</p>
<ul>
<li>Describing the issue&rsquo;s intent and purpose is conveyed precisely. This is necessary because it can be difficult for an issue to explain how an end user experiences an problem and what actions they took.</li>
<li>Giving a contributor the information they need before they commit to resolving an issue.</li>
<li>Lowering the issue count by preventing duplicate issues.</li>
<li>Streamlining the development process by preventing duplicate discussions.</li>
</ul>
<p>If you don&rsquo;t have time to code, consider helping with triage. The community will thank you for saving them time by spending some of yours.</p>
<h2 id="ensure-the-issue-contains-basic-information">Ensure the Issue Contains Basic Information<a class="td-heading-self-link" href="#ensure-the-issue-contains-basic-information" aria-label="Heading self-link"></a></h2>
<p>Before triaging an issue very far, make sure that the issue&rsquo;s author provided the standard issue information. This will help you make an educated recommendation on how this to categorize the issue. Standard information that should be included in most issues are things such as:</p>
<ul>
<li>the version(s) of Drycc this issue affects</li>
<li>a reproducible case if this is a bug</li>
<li>page URL if this is a docs issue or the name of a man page</li>
</ul>
<p>Depending on the issue, you might not feel all this information is needed. Use your best judgment. If you cannot triage an issue using what its author provided, explain kindly to the author that they must provide the above information to clarify the problem.</p>
<p>If the author provides the recommended information but you are still unable to triage the issue, request additional information. Do this kindly and politely because you are asking for more of the author&rsquo;s time.</p>
<p>If the author does not respond requested information within the timespan of a week, close the issue with a kind note stating that the author can request for the issue to be reopened when the necessary information is provided.</p>
<h2 id="classifying-the-issue">Classifying the Issue<a class="td-heading-self-link" href="#classifying-the-issue" aria-label="Heading self-link"></a></h2>
<p>An issue can have multiple of the following labels:</p>
<h3 id="issue-kind">Issue Kind<a class="td-heading-self-link" href="#issue-kind" aria-label="Heading self-link"></a></h3>
<table>
<thead>
<tr>
<th>Kind</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bug</td>
<td>Bugs are bugs. The cause may or may not be known at triage time so debugging should be taken account into the time estimate.</td>
</tr>
<tr>
<td>docs</td>
<td>Writing documentation, man pages, articles, blogs, or other significant word-driven task.</td>
</tr>
<tr>
<td>enhancement</td>
<td>Enhancements can drastically improve usability or performance of a component.</td>
</tr>
<tr>
<td>question</td>
<td>Contains a user or contributor question requiring a response.</td>
</tr>
<tr>
<td>security</td>
<td>Security-related issues such as TLS encryption, network segregation, authn/authz features, etc.</td>
</tr>
</tbody>
</table>
<h3 id="functional-area">Functional Area<a class="td-heading-self-link" href="#functional-area" aria-label="Heading self-link"></a></h3>
<ul>
<li>builder</li>
<li>cache</li>
<li>contrib and provisioning</li>
<li>client</li>
<li>controller</li>
<li>database</li>
<li>docs</li>
<li>kubernetes</li>
<li>registry</li>
<li>router</li>
<li>store (Ceph)</li>
<li>tests</li>
</ul>
<h2 id="easy-fix">Easy Fix<a class="td-heading-self-link" href="#easy-fix" aria-label="Heading self-link"></a></h2>
<p>&ldquo;Easy Fix&rdquo; issues are a way for a new contributor to find issues that are fit for their experience level. These issues are typically for users who are new to Drycc, and possibly Go, and is looking to help while learning the basics.</p>
<h2 id="prioritizing-issues">Prioritizing issues<a class="td-heading-self-link" href="#prioritizing-issues" aria-label="Heading self-link"></a></h2>
<p>When attached to a specific milestone, an issue can be attributed one of the following labels to indicate their degree of priority.</p>
<table>
<thead>
<tr>
<th>Priority</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>priority 0</td>
<td>Urgent: Security, critical bugs, blocking issues. Drop everything and fix this today, then consider creating a patch release.</td>
</tr>
<tr>
<td>priority 1</td>
<td>Serious: Impedes user actions or is a regression. Fix this before the next planned release.</td>
</tr>
</tbody>
</table>
<p>And that&rsquo;s it. That should be all the information required for a new or existing contributor to come in an resolve an issue.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d54e8090fa4a6e4a2126e18228389dba">9.8 - Conduct</h1>
    <div class="lead">The Drycc community welcomes and encourages participation by <strong>everyone</strong>.</div>
	<h1 id="conduct">Conduct<a class="td-heading-self-link" href="#conduct" aria-label="Heading self-link"></a></h1>
<p>The Drycc community welcomes and encourages participation by <strong>everyone</strong>.</p>
<p>No matter how you identify yourself or how others perceive you: we welcome you. We welcome contributions from everyone as long as they interact constructively with our community.</p>
<p>The Drycc developer community continues to grow, and it is inevitable that disagreements and conflict will arise. We ask that participants conduct themselves according to these principles:</p>
<ol>
<li>
<p><strong>Be welcoming, friendly, and patient.</strong></p>
</li>
<li>
<p><strong>Be considerate.</strong></p>
</li>
</ol>
<p>Your work will be used by other people, and you in turn will depend on the work of others. Any decision you take will affect users and colleagues, and you should take those consequences into account when making decisions. Remember that we&rsquo;re a world-wide community, so you might not be communicating in someone else&rsquo;s primary language.</p>
<ol start="3">
<li><strong>Be respectful.</strong></li>
</ol>
<p>Not all of us will agree all the time, but disagreement is no excuse for poor behavior and bad manners. We might all experience some frustration now and then, but we cannot allow that frustration to turn into a personal attack. It’s important to remember that a community where people feel uncomfortable or threatened is not a productive one.</p>
<ol start="4">
<li><strong>Be careful in the words that you choose.</strong></li>
</ol>
<p>Be kind to others. Do not insult or put down other participants. Behave professionally. Remember that harassment and sexist, racist, or exclusionary jokes are never appropriate for the community.</p>
<p>(Thanks to the <a href="http://www.debian.org/intro/diversity">Debian</a> and <a href="https://www.djangoproject.com/conduct/">Django</a> communities for their text and
their inspiration.)</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c1c48ff60a45c08dad6207a502065b32">9.9 - Drycc Maintainers</h1>
    <div class="lead">This document serves to describe the leadership structure of the Drycc project, and list the current project maintainers.</div>
	<h1 id="what-is-a-maintainer">What is a maintainer?<a class="td-heading-self-link" href="#what-is-a-maintainer" aria-label="Heading self-link"></a></h1>
<p>(Unabashedly stolen from the <a href="https://github.com/containers/podman/blob/master/MAINTAINERS">Podman</a> project)</p>
<p>There are different types of maintainers, with different responsibilities, but
all maintainers have 3 things in common:</p>
<ol>
<li>They share responsibility in the project&rsquo;s success.</li>
<li>They have made a long-term, recurring time investment to improve the project.</li>
<li>They spend that time doing whatever needs to be done, not necessarily what
is the most interesting or fun.</li>
</ol>
<p>Maintainers are often under-appreciated, because their work is harder to appreciate.
It&rsquo;s easy to appreciate a really cool and technically advanced feature. It&rsquo;s harder
to appreciate the absence of bugs, the slow but steady improvement in stability,
or the reliability of a release process. But those things distinguish a good
project from a great one.</p>
<h1 id="drycc-maintainers">Drycc maintainers<a class="td-heading-self-link" href="#drycc-maintainers" aria-label="Heading self-link"></a></h1>
<p>Drycc has two groups of maintainers in addition to our beloved Benevolent Dictator for Life.</p>
<h2 id="bdfl">BDFL<a class="td-heading-self-link" href="#bdfl" aria-label="Heading self-link"></a></h2>
<p>Drycc follows the timeless, highly efficient and totally unfair system known as <a href="http://en.wikipedia.org/wiki/Benevolent_Dictator_for_Life">Benevolent dictator
for life</a>.</p>
<p>Gabriel Monroy (<a href="https://github.com/gabrtv">@gabrtv</a>), as creator of the Drycc project, serves as our
project&rsquo;s BDFL. While the day-to-day project management is carried out by the maintainers, Gabriel
serves as the final arbiter of any disputes and has the final say on project direction.</p>
<h2 id="core-maintainers">Core maintainers<a class="td-heading-self-link" href="#core-maintainers" aria-label="Heading self-link"></a></h2>
<p>Core maintainers are exceptionally knowledgeable about all areas of Drycc. Some maintainers work on Drycc
full-time, although this is not a requirement.</p>
<p>The duties of a core maintainer include:</p>
<ul>
<li>Classify and respond to GitHub issues and review pull requests</li>
<li>Help to shape the Drycc roadmap and lead efforts to accomplish roadmap milestones</li>
<li>Participate actively in feature development and bug fixing</li>
<li>Answer questions and help users in the <a href="https://slack.drycc.cc">Drycc #community Slack channel</a></li>
</ul>
<p>The current list of core maintainers can be seen <a href="https://github.com/orgs/drycc/teams/core-maintainers">here</a>.</p>
<p>No pull requests can be merged until at least one core maintainer signs off with an
<a href="http://docs.drycc.cc/en/latest/contributing/standards/#merge-approval">LGTM</a>. The other LGTM can
come from either a core maintainer or contributing maintainer.</p>
<h2 id="contributing-maintainers">Contributing maintainers<a class="td-heading-self-link" href="#contributing-maintainers" aria-label="Heading self-link"></a></h2>
<p>Contributing maintainers are exceptionally knowledgeable about some but not necessarily all areas
of Drycc, and are often selected due to specific domain knowledge that complements the project (but
a willingness to continually contribute to the project is most important!). Often,
core maintainers will ask a contributing maintainer to weigh in on issues, pull requests, or
conversations where the contributing maintainer is knowledgeable.</p>
<p>The duties of a contributing maintainer are very similar to those of a core maintainer, but they are limited to areas of the Drycc project where the contributing maintainer is knowledgeable.</p>
<p>Contributing maintainers are defined in practice as those who have write access to the Drycc repository. All maintainers can review pull requests and add LGTM labels as appropriate.</p>
<h2 id="becoming-a-maintainer">Becoming a maintainer<a class="td-heading-self-link" href="#becoming-a-maintainer" aria-label="Heading self-link"></a></h2>
<p>The Drycc project wouldn&rsquo;t be where it is today without its community. Many of the project&rsquo;s
community members embody the spirit of maintainership, and have contributed substantially to
the project.</p>
<p>The contributing maintainers group was created in part so that exceptional members of the community
who have an interest in the continued success of the project have the opportunity to join the
core maintainers in guiding the future of Drycc.</p>
<p>Generally, potential contributing maintainers are selected by the Drycc core maintainers based in
part on the following criteria:</p>
<ul>
<li>Sustained contributions to the project over a period of time (usually months)</li>
<li>A willingness to help Drycc users on GitHub and in the <a href="https://slack.drycc.cc">Drycc #community Slack channel</a></li>
<li>A friendly attitude :)</li>
</ul>
<p>The Drycc core maintainers must unanimously agree before inviting a community member to join as a
contributing maintainer, although in many cases the candidate has already been acting in the
capacity of a contributing maintainer for some time, and has been consulted on issues, pull requests,
etc.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-af8ec3493d5fd50ccf5c1779b10c574e">10 - Reference Guide</h1>
    <div class="lead">Reference gxwuide definition and meaning.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-8dc8e2744c72e06d155d31efb9f8001f">10.1 - Creating a Self-Signed SSL Certificate</h1>
    <div class="lead">A self-signed TLS/SSL certificate is not signed by a publicly trusted certificate authority (CA) but instead by the developer or company that is responsible for the website.</div>
	<p>When <a href="/docs/applications/ssl-certificates/">using the app ssl</a> feature for non-production applications or when <a href="https://gateway-api.sigs.k8s.io/guides/tls/">installing SSL for the platform</a>, you can avoid the costs associated with the SSL certificate by using a self-signed SSL certificate. Though the certificate implements full encryption, visitors to your site will see a browser warning indicating that the certificate should not be trusted.</p>
<h2 id="prerequisites">Prerequisites<a class="td-heading-self-link" href="#prerequisites" aria-label="Heading self-link"></a></h2>
<p>The openssl library is required to generate your own certificate. Run the following command in your local environment to see if you already have openssl installed.</p>
<pre><code>$ which openssl
/usr/bin/openssl
</code></pre>
<p>If the which command does not return a path then you will need to install openssl yourself:</p>
<table>
<thead>
<tr>
<th>If you have&hellip;</th>
<th>Install with&hellip;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mac OS X</td>
<td>Homebrew: <code>brew install openssl</code></td>
</tr>
<tr>
<td>Windows</td>
<td>complete package .exe installed</td>
</tr>
<tr>
<td>Ubuntu Linux</td>
<td><code>apt-get install openssl</code></td>
</tr>
</tbody>
</table>
<h2 id="generate-private-key-and-certificate-signing-request">Generate Private Key and Certificate Signing Request<a class="td-heading-self-link" href="#generate-private-key-and-certificate-signing-request" aria-label="Heading self-link"></a></h2>
<p>A private key and certificate signing request are required to create an SSL certificate. These can be generated with a few simple commands. When the openssl req command asks for a “challenge password”, just press return, leaving the password empty.</p>
<pre><code>$ openssl genrsa -des3 -passout pass:x -out server.pass.key 2048
...
$ openssl rsa -passin pass:x -in server.pass.key -out server.key
writing RSA key
$ rm server.pass.key
$ openssl req -new -key server.key -out server.csr
...
Country Name (2 letter code) [AU]:US
State or Province Name (full name) [Some-State]:California
...
A challenge password []:
...
</code></pre>
<h2 id="generate-ssl-certificate">Generate SSL Certificate<a class="td-heading-self-link" href="#generate-ssl-certificate" aria-label="Heading self-link"></a></h2>
<p>The self-signed SSL certificate is generated from the server.key private key and server.csr files.</p>
<pre><code>$ openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt
</code></pre>
<p>The server.crt file is your site certificate suitable for use with <a href="/docs/applications/ssl-certificates/">Drycc&rsquo;s SSL endpoint</a> along with the server.key private key.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8a47178b8f3a1af42c395fef1a635765">10.2 - Controller API v2.0</h1>
    <div class="lead">This is the v2.0 REST API for the Controller.</div>
	<h2 id="whats-new">What&rsquo;s New<a class="td-heading-self-link" href="#whats-new" aria-label="Heading self-link"></a></h2>
<p><strong>New!</strong> format of <code>POST /v2/apps/&lt;app id&gt;/run</code> has changed.</p>
<h2 id="authentication">Authentication<a class="td-heading-self-link" href="#authentication" aria-label="Heading self-link"></a></h2>
<h3 id="register-a-new-user">Register a New User<a class="td-heading-self-link" href="#register-a-new-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/register/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json

{
    &#34;username&#34;: &#34;test&#34;,
    &#34;password&#34;: &#34;opensesame&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;
}
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;first_name&#34;: &#34;test&#34;,
    &#34;last_name&#34;: &#34;testerson&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;id&#34;: 1,
    &#34;last_login&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;is_superuser&#34;: true,
    &#34;username&#34;: &#34;test&#34;,
    &#34;first_name&#34;: &#34;test&#34;,
    &#34;last_name&#34;: &#34;testerson&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;,
    &#34;is_staff&#34;: true,
    &#34;is_active&#34;: true,
    &#34;date_joined&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;groups&#34;: [],
    &#34;user_permissions&#34;: []
}
</code></pre><h3 id="log-in">Log in<a class="td-heading-self-link" href="#log-in" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/login/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json

{&#34;username&#34;: &#34;test&#34;, &#34;password&#34;: &#34;opensesame&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{&#34;token&#34;: &#34;abc123&#34;}
</code></pre><h3 id="cancel-account">Cancel Account<a class="td-heading-self-link" href="#cancel-account" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/auth/cancel/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="regenerate-token">Regenerate Token<a class="td-heading-self-link" href="#regenerate-token" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command could require administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/tokens/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;username&#34; : &#34;test&#34;
    &#34;all&#34; : &#34;true&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{&#34;token&#34;: &#34;abc123&#34;}
</code></pre><h3 id="change-password">Change Password<a class="td-heading-self-link" href="#change-password" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/passwd/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;password&#34;: &#34;foo&#34;,
    &#34;new_password&#34;: &#34;bar&#34;
}
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{&#34;username&#34;: &#34;testuser&#34;}
</code></pre><blockquote>
<p><strong>note</strong></p>
<p>Using the <code>username</code> parameter requires administrative privileges and makes the <code>password</code> parameter optional.</p>
</blockquote>
<p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="applications">Applications<a class="td-heading-self-link" href="#applications" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-applications">List all Applications<a class="td-heading-self-link" href="#list-all-applications" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;id&#34;: &#34;example-go&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;structure&#34;: {},
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;url&#34;: &#34;example-go.example.com&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
        }
    ]
}
</code></pre><h3 id="create-an-application">Create an Application<a class="td-heading-self-link" href="#create-an-application" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{&#34;id&#34;: &#34;example-go&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;structure&#34;: {},
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;url&#34;: &#34;example-go.example.com&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="destroy-an-application">Destroy an Application<a class="td-heading-self-link" href="#destroy-an-application" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="list-application-details">List Application Details<a class="td-heading-self-link" href="#list-application-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;structure&#34;: {},
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;url&#34;: &#34;example-go.example.com&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="update-application-details">Update Application Details<a class="td-heading-self-link" href="#update-application-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{
  &#34;owner&#34;: &#34;test&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 1.8.0
Content-Type: application/json
</code></pre><h3 id="retrieve-application-logs">Retrieve Application Logs<a class="td-heading-self-link" href="#retrieve-application-logs" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/logs/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional URL Query Parameters:</p>
<pre tabindex="0"><code>?log_lines=
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: text/plain

&#34;16:51:14 drycc[api]: test created initial release\n&#34;
</code></pre><h3 id="run-one-off-commands">Run one-off Commands<a class="td-heading-self-link" href="#run-one-off-commands" aria-label="Heading self-link"></a></h3>
<pre tabindex="0"><code>POST /v2/apps/example-go/run/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;command&#34;: &#34;echo hi&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{&#34;exit_code&#34;: 0, &#34;output&#34;: &#34;hi\n&#34;}
</code></pre><h2 id="certificates">Certificates<a class="td-heading-self-link" href="#certificates" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-certificates">List all Certificates<a class="td-heading-self-link" href="#list-all-certificates" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/certs HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
  &#34;count&#34;: 1,
  &#34;next&#34;: null,
  &#34;previous&#34;: null,
  &#34;results&#34;: [
    {
      &#34;id&#34;: 22,
      &#34;owner&#34;: &#34;test&#34;,
      &#34;san&#34;: [],
      &#34;domains&#34;: [],
      &#34;created&#34;: &#34;2016-06-22T22:24:20Z&#34;,
      &#34;updated&#34;: &#34;2016-06-22T22:24:20Z&#34;,
      &#34;name&#34;: &#34;foo&#34;,
      &#34;common_name&#34;: &#34;bar.com&#34;,
      &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
      &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
      &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
      &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
      &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
    }
  ]
}
</code></pre><h3 id="get-certificate-details">Get Certificate Details<a class="td-heading-self-link" href="#get-certificate-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/certs/foo HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
  &#34;id&#34;: 22,
  &#34;owner&#34;: &#34;test&#34;,
  &#34;san&#34;: [],
  &#34;domains&#34;: [],
  &#34;created&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;updated&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;name&#34;: &#34;foo&#34;,
  &#34;common_name&#34;: &#34;bar.com&#34;,
  &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
  &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
  &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
  &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
  &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
}
</code></pre><h3 id="create-certificate">Create Certificate<a class="td-heading-self-link" href="#create-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/certs/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{
    &#34;name&#34;: &#34;foo&#34;
    &#34;certificate&#34;: &#34;-----BEGIN CERTIFICATE-----&#34;,
    &#34;key&#34;: &#34;-----BEGIN RSA PRIVATE KEY-----&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
  &#34;id&#34;: 22,
  &#34;owner&#34;: &#34;test&#34;,
  &#34;san&#34;: [],
  &#34;domains&#34;: [],
  &#34;created&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;updated&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;name&#34;: &#34;foo&#34;,
  &#34;common_name&#34;: &#34;bar.com&#34;,
  &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
  &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
  &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
  &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
  &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
}
</code></pre><h3 id="destroy-a-certificate">Destroy a Certificate<a class="td-heading-self-link" href="#destroy-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/certs/foo HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="attach-a-domain-to-a-certificate">Attach a Domain to a Certificate<a class="td-heading-self-link" href="#attach-a-domain-to-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/certs/foo/domain/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;domain&#34;: &#34;test.com&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="remove-a-domain-from-a-certificate">Remove a Domain from a Certificate<a class="td-heading-self-link" href="#remove-a-domain-from-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/certs/foo/domain/test.com/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="pods">Pods<a class="td-heading-self-link" href="#pods" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-pods">List all Pods<a class="td-heading-self-link" href="#list-all-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/pods/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;results&#34;: [
        {
            &#34;name&#34;: &#34;go-v2-web-e7dej&#34;,
            &#34;release&#34;: &#34;v2&#34;,
            &#34;started&#34;: &#34;2014-01-01T00:00:00Z&#34;,
            &#34;state&#34;: &#34;up&#34;,
            &#34;type&#34;: &#34;web&#34;
        }
    ]
}
</code></pre><h3 id="list-all-pods-by-type">List all Pods by Type<a class="td-heading-self-link" href="#list-all-pods-by-type" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/pods/web/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;results&#34;: [
        {
            &#34;name&#34;: &#34;go-v2-web-e7dej&#34;,
            &#34;release&#34;: &#34;v2&#34;,
            &#34;started&#34;: &#34;2014-01-01T00:00:00Z&#34;,
            &#34;state&#34;: &#34;up&#34;,
            &#34;type&#34;: &#34;web&#34;
        }
    ]
}
</code></pre><h3 id="restart-all-pods">Restart All Pods<a class="td-heading-self-link" href="#restart-all-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="restart-pods-by-type">Restart Pods by Type<a class="td-heading-self-link" href="#restart-pods-by-type" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/web/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="restart-pods-by-type-and-name">Restart Pods by Type and Name<a class="td-heading-self-link" href="#restart-pods-by-type-and-name" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/go-v2-web-atots/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="scale-pods">Scale Pods<a class="td-heading-self-link" href="#scale-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/scale/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;web&#34;: 3}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="configuration">Configuration<a class="td-heading-self-link" href="#configuration" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-configuration">List Application Configuration<a class="td-heading-self-link" href="#list-application-configuration" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
      &#34;PLATFORM&#34;: &#34;drycc&#34;
    },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="create-new-config">Create new Config<a class="td-heading-self-link" href="#create-new-config" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;values&#34;: {&#34;HELLO&#34;: &#34;world&#34;, &#34;PLATFORM&#34;: &#34;drycc&#34;}}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json
X-Drycc-Release: 3

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
        &#34;DRYCC_APP&#34;: &#34;example-go&#34;,
        &#34;DRYCC_RELEASE&#34;: &#34;v3&#34;,
        &#34;HELLO&#34;: &#34;world&#34;,
        &#34;PLATFORM&#34;: &#34;drycc&#34;

    },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="unset-config-variable">Unset Config Variable<a class="td-heading-self-link" href="#unset-config-variable" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;values&#34;: {&#34;HELLO&#34;: null}}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json
X-Drycc-Release: 4

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
        &#34;DRYCC_APP&#34;: &#34;example-go&#34;,
        &#34;DRYCC_RELEASE&#34;: &#34;v4&#34;,
        &#34;PLATFORM&#34;: &#34;drycc&#34;
   },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h2 id="domains">Domains<a class="td-heading-self-link" href="#domains" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-domains">List Application Domains<a class="td-heading-self-link" href="#list-application-domains" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/domains/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;domain&#34;: &#34;example.example.com&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;
        }
    ]
}
</code></pre><h3 id="add-domain">Add Domain<a class="td-heading-self-link" href="#add-domain" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/domains/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#39;domain&#39;: &#39;example.example.com&#39;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;domain&#34;: &#34;example.example.com&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;
}
</code></pre><h3 id="remove-domain">Remove Domain<a class="td-heading-self-link" href="#remove-domain" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/domains/example.example.com HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="builds">Builds<a class="td-heading-self-link" href="#builds" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-builds">List Application Builds<a class="td-heading-self-link" href="#list-application-builds" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/build/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;dockerfile&#34;: &#34;FROM drycc/slugrunner RUN mkdir -p /app WORKDIR /app ENTRYPOINT [\&#34;/runner/init\&#34;] ADD slug.tgz /app ENV GIT_SHA 060da68f654e75fac06dbedd1995d5f8ad9084db&#34;,
    &#34;image&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;procfile&#34;: {
        &#34;web&#34;: &#34;example-go&#34;
    },
    &#34;sha&#34;: &#34;060da68f&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="create-application-build">Create Application Build<a class="td-heading-self-link" href="#create-application-build" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/build/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;image&#34;: &#34;drycc/example-go:latest&#34;}
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;procfile&#34;: {
      &#34;web&#34;: &#34;./cmd&#34;
    }
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json
X-Drycc-Release: 4

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;dockerfile&#34;: &#34;&#34;,
    &#34;image&#34;: &#34;drycc/example-go:latest&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;procfile&#34;: {},
    &#34;sha&#34;: &#34;&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h2 id="releases">Releases<a class="td-heading-self-link" href="#releases" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-releases">List Application Releases<a class="td-heading-self-link" href="#list-application-releases" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/releases/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 3,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: &#34;202d8e4b-600e-4425-a85c-ffc7ea607f61&#34;,
            &#34;config&#34;: &#34;ed637ceb-5d32-44bd-9406-d326a777a513&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test changed nothing&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 3
        },
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: &#34;202d8e4b-600e-4425-a85c-ffc7ea607f61&#34;,
            &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test deployed 060da68&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 2
        },
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: null,
            &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test created initial release&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 1
        }
    ]
}
</code></pre><h3 id="list-release-details">List Release Details<a class="td-heading-self-link" href="#list-release-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/releases/v2/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;build&#34;: null,
    &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;summary&#34;: &#34;test created initial release&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
    &#34;version&#34;: 1
}
</code></pre><h3 id="rollback-release">Rollback Release<a class="td-heading-self-link" href="#rollback-release" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/releases/rollback/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;version&#34;: 1}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{&#34;version&#34;: 5}
</code></pre><h2 id="keys">Keys<a class="td-heading-self-link" href="#keys" aria-label="Heading self-link"></a></h2>
<h3 id="list-keys">List Keys<a class="td-heading-self-link" href="#list-keys" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/keys/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;id&#34;: &#34;test@example.com&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
        }
    ]
}
</code></pre><h3 id="add-key-to-user">Add Key to User<a class="td-heading-self-link" href="#add-key-to-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/keys/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;id&#34;: &#34;example&#34;,
    &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example&#34;,
    &#34;owner&#34;: &#34;example&#34;,
    &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="remove-key-from-user">Remove Key from User<a class="td-heading-self-link" href="#remove-key-from-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/keys/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="permissions">Permissions<a class="td-heading-self-link" href="#permissions" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-permissions">List Application Permissions<a class="td-heading-self-link" href="#list-application-permissions" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This does not include the app owner.</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;users&#34;: [
        &#34;test&#34;,
        &#34;foo&#34;
    ]
}
</code></pre><h3 id="create-application-permission">Create Application Permission<a class="td-heading-self-link" href="#create-application-permission" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#34;username&#34;: &#34;example&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="remove-application-permission">Remove Application Permission<a class="td-heading-self-link" href="#remove-application-permission" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/perms/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="list-administrators">List Administrators<a class="td-heading-self-link" href="#list-administrators" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/admin/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 2,
    &#34;next&#34;: null
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;username&#34;: &#34;test&#34;,
            &#34;is_superuser&#34;: true
        },
        {
            &#34;username&#34;: &#34;foo&#34;,
            &#34;is_superuser&#34;: true
        }
    ]
}
</code></pre><h3 id="grant-user-administrative-privileges">Grant User Administrative Privileges<a class="td-heading-self-link" href="#grant-user-administrative-privileges" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/admin/perms HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#34;username&#34;: &#34;example&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="remove-users-administrative-privileges">Remove User&rsquo;s Administrative Privileges<a class="td-heading-self-link" href="#remove-users-administrative-privileges" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/admin/perms/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="users">Users<a class="td-heading-self-link" href="#users" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-users">List all users<a class="td-heading-self-link" href="#list-all-users" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/users HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.0
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;id&#34;: 1,
            &#34;last_login&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
            &#34;is_superuser&#34;: true,
            &#34;username&#34;: &#34;test&#34;,
            &#34;first_name&#34;: &#34;test&#34;,
            &#34;last_name&#34;: &#34;testerson&#34;,
            &#34;email&#34;: &#34;test@example.com&#34;,
            &#34;is_staff&#34;: true,
            &#34;is_active&#34;: true,
            &#34;date_joined&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
            &#34;groups&#34;: [],
            &#34;user_permissions&#34;: []
        }
    ]
}
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cee50ca92714d97db6e9e68bc506be78">10.3 - Controller API v2.1</h1>
    <div class="lead">This is the v2.1 REST API for the Controller.</div>
	<h2 id="whats-new">What&rsquo;s New<a class="td-heading-self-link" href="#whats-new" aria-label="Heading self-link"></a></h2>
<p><strong>New!</strong> <code>healthcheck</code> field in configuration, deprecates the <code>HEALTHCHECK_*</code> environment variables.</p>
<p><strong>New!</strong> Unsetting a configuration variable that does not exist will return a 422.</p>
<p><strong>New!</strong> Creating an identical sequential release returns a 409 rather than create a no-op release.</p>
<h2 id="authentication">Authentication<a class="td-heading-self-link" href="#authentication" aria-label="Heading self-link"></a></h2>
<h3 id="register-a-new-user">Register a New User<a class="td-heading-self-link" href="#register-a-new-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/register/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json

{
    &#34;username&#34;: &#34;test&#34;,
    &#34;password&#34;: &#34;opensesame&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;
}
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;first_name&#34;: &#34;test&#34;,
    &#34;last_name&#34;: &#34;testerson&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;id&#34;: 1,
    &#34;last_login&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;is_superuser&#34;: true,
    &#34;username&#34;: &#34;test&#34;,
    &#34;first_name&#34;: &#34;test&#34;,
    &#34;last_name&#34;: &#34;testerson&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;,
    &#34;is_staff&#34;: true,
    &#34;is_active&#34;: true,
    &#34;date_joined&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;groups&#34;: [],
    &#34;user_permissions&#34;: []
}
</code></pre><h3 id="log-in">Log in<a class="td-heading-self-link" href="#log-in" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/login/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json

{&#34;username&#34;: &#34;test&#34;, &#34;password&#34;: &#34;opensesame&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{&#34;token&#34;: &#34;abc123&#34;}
</code></pre><h3 id="cancel-account">Cancel Account<a class="td-heading-self-link" href="#cancel-account" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/auth/cancel/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="regenerate-token">Regenerate Token<a class="td-heading-self-link" href="#regenerate-token" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command could require administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/tokens/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;username&#34; : &#34;test&#34;
    &#34;all&#34; : &#34;true&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{&#34;token&#34;: &#34;abc123&#34;}
</code></pre><h3 id="change-password">Change Password<a class="td-heading-self-link" href="#change-password" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/passwd/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;password&#34;: &#34;foo&#34;,
    &#34;new_password&#34;: &#34;bar&#34;
}
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{&#34;username&#34;: &#34;testuser&#34;}
</code></pre><blockquote>
<p><strong>note</strong></p>
<p>Using the <code>username</code> parameter requires administrative privileges and makes the <code>password</code> parameter optional.</p>
</blockquote>
<p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="applications">Applications<a class="td-heading-self-link" href="#applications" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-applications">List all Applications<a class="td-heading-self-link" href="#list-all-applications" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;id&#34;: &#34;example-go&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;structure&#34;: {},
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;url&#34;: &#34;example-go.example.com&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
        }
    ]
}
</code></pre><h3 id="create-an-application">Create an Application<a class="td-heading-self-link" href="#create-an-application" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{&#34;id&#34;: &#34;example-go&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;structure&#34;: {},
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;url&#34;: &#34;example-go.example.com&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="destroy-an-application">Destroy an Application<a class="td-heading-self-link" href="#destroy-an-application" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="list-application-details">List Application Details<a class="td-heading-self-link" href="#list-application-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;structure&#34;: {},
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;url&#34;: &#34;example-go.example.com&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="update-application-details">Update Application Details<a class="td-heading-self-link" href="#update-application-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{
  &#34;owner&#34;: &#34;test&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 1.8.0
Content-Type: application/json
</code></pre><h3 id="retrieve-application-logs">Retrieve Application Logs<a class="td-heading-self-link" href="#retrieve-application-logs" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/logs/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional URL Query Parameters:</p>
<pre tabindex="0"><code>?log_lines=
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: text/plain

&#34;16:51:14 drycc[api]: test created initial release\n&#34;
</code></pre><h3 id="run-one-off-commands">Run one-off Commands<a class="td-heading-self-link" href="#run-one-off-commands" aria-label="Heading self-link"></a></h3>
<pre tabindex="0"><code>POST /v2/apps/example-go/run/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;command&#34;: &#34;echo hi&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{&#34;exit_code&#34;: 0, &#34;output&#34;: &#34;hi\n&#34;}
</code></pre><h2 id="certificates">Certificates<a class="td-heading-self-link" href="#certificates" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-certificates">List all Certificates<a class="td-heading-self-link" href="#list-all-certificates" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/certs HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
  &#34;count&#34;: 1,
  &#34;next&#34;: null,
  &#34;previous&#34;: null,
  &#34;results&#34;: [
    {
      &#34;id&#34;: 22,
      &#34;owner&#34;: &#34;test&#34;,
      &#34;san&#34;: [],
      &#34;domains&#34;: [],
      &#34;created&#34;: &#34;2016-06-22T22:24:20Z&#34;,
      &#34;updated&#34;: &#34;2016-06-22T22:24:20Z&#34;,
      &#34;name&#34;: &#34;foo&#34;,
      &#34;common_name&#34;: &#34;bar.com&#34;,
      &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
      &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
      &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
      &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
      &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
    }
  ]
}
</code></pre><h3 id="get-certificate-details">Get Certificate Details<a class="td-heading-self-link" href="#get-certificate-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/certs/foo HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
  &#34;id&#34;: 22,
  &#34;owner&#34;: &#34;test&#34;,
  &#34;san&#34;: [],
  &#34;domains&#34;: [],
  &#34;created&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;updated&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;name&#34;: &#34;foo&#34;,
  &#34;common_name&#34;: &#34;bar.com&#34;,
  &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
  &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
  &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
  &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
  &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
}
</code></pre><h3 id="create-certificate">Create Certificate<a class="td-heading-self-link" href="#create-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/certs/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{
    &#34;name&#34;: &#34;foo&#34;
    &#34;certificate&#34;: &#34;-----BEGIN CERTIFICATE-----&#34;,
    &#34;key&#34;: &#34;-----BEGIN RSA PRIVATE KEY-----&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
  &#34;id&#34;: 22,
  &#34;owner&#34;: &#34;test&#34;,
  &#34;san&#34;: [],
  &#34;domains&#34;: [],
  &#34;created&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;updated&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;name&#34;: &#34;foo&#34;,
  &#34;common_name&#34;: &#34;bar.com&#34;,
  &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
  &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
  &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
  &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
  &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
}
</code></pre><h3 id="destroy-a-certificate">Destroy a Certificate<a class="td-heading-self-link" href="#destroy-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/certs/foo HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="attach-a-domain-to-a-certificate">Attach a Domain to a Certificate<a class="td-heading-self-link" href="#attach-a-domain-to-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/certs/foo/domain/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;domain&#34;: &#34;test.com&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="remove-a-domain-from-a-certificate">Remove a Domain from a Certificate<a class="td-heading-self-link" href="#remove-a-domain-from-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/certs/foo/domain/test.com/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="pods">Pods<a class="td-heading-self-link" href="#pods" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-pods">List all Pods<a class="td-heading-self-link" href="#list-all-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/pods/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;results&#34;: [
        {
            &#34;name&#34;: &#34;go-v2-web-e7dej&#34;,
            &#34;release&#34;: &#34;v2&#34;,
            &#34;started&#34;: &#34;2014-01-01T00:00:00Z&#34;,
            &#34;state&#34;: &#34;up&#34;,
            &#34;type&#34;: &#34;web&#34;
        }
    ]
}
</code></pre><h3 id="list-all-pods-by-type">List all Pods by Type<a class="td-heading-self-link" href="#list-all-pods-by-type" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/pods/web/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;results&#34;: [
        {
            &#34;name&#34;: &#34;go-v2-web-e7dej&#34;,
            &#34;release&#34;: &#34;v2&#34;,
            &#34;started&#34;: &#34;2014-01-01T00:00:00Z&#34;,
            &#34;state&#34;: &#34;up&#34;,
            &#34;type&#34;: &#34;web&#34;
        }
    ]
}
</code></pre><h3 id="restart-all-pods">Restart All Pods<a class="td-heading-self-link" href="#restart-all-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="restart-pods-by-type">Restart Pods by Type<a class="td-heading-self-link" href="#restart-pods-by-type" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/web/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="restart-pods-by-type-and-name">Restart Pods by Type and Name<a class="td-heading-self-link" href="#restart-pods-by-type-and-name" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/go-v2-web-atots/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="scale-pods">Scale Pods<a class="td-heading-self-link" href="#scale-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/scale/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;web&#34;: 3}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="configuration">Configuration<a class="td-heading-self-link" href="#configuration" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-configuration">List Application Configuration<a class="td-heading-self-link" href="#list-application-configuration" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
      &#34;PLATFORM&#34;: &#34;drycc&#34;
    },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="create-new-config">Create new Config<a class="td-heading-self-link" href="#create-new-config" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;values&#34;: {&#34;HELLO&#34;: &#34;world&#34;, &#34;PLATFORM&#34;: &#34;drycc&#34;}}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
        &#34;DRYCC_APP&#34;: &#34;example-go&#34;,
        &#34;DRYCC_RELEASE&#34;: &#34;v3&#34;,
        &#34;HELLO&#34;: &#34;world&#34;,
        &#34;PLATFORM&#34;: &#34;drycc&#34;

    },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="unset-config-variable">Unset Config Variable<a class="td-heading-self-link" href="#unset-config-variable" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;values&#34;: {&#34;HELLO&#34;: null}}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
        &#34;DRYCC_APP&#34;: &#34;example-go&#34;,
        &#34;DRYCC_RELEASE&#34;: &#34;v4&#34;,
        &#34;PLATFORM&#34;: &#34;drycc&#34;
   },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h2 id="domains">Domains<a class="td-heading-self-link" href="#domains" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-domains">List Application Domains<a class="td-heading-self-link" href="#list-application-domains" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/domains/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;domain&#34;: &#34;example.example.com&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;
        }
    ]
}
</code></pre><h3 id="add-domain">Add Domain<a class="td-heading-self-link" href="#add-domain" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/domains/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#39;domain&#39;: &#39;example.example.com&#39;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;domain&#34;: &#34;example.example.com&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;
}
</code></pre><h3 id="remove-domain">Remove Domain<a class="td-heading-self-link" href="#remove-domain" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/domains/example.example.com HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="builds">Builds<a class="td-heading-self-link" href="#builds" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-builds">List Application Builds<a class="td-heading-self-link" href="#list-application-builds" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/build/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;dockerfile&#34;: &#34;FROM drycc/slugrunner RUN mkdir -p /app WORKDIR /app ENTRYPOINT [\&#34;/runner/init\&#34;] ADD slug.tgz /app ENV GIT_SHA 060da68f654e75fac06dbedd1995d5f8ad9084db&#34;,
    &#34;image&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;procfile&#34;: {
        &#34;web&#34;: &#34;example-go&#34;
    },
    &#34;sha&#34;: &#34;060da68f&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="create-application-build">Create Application Build<a class="td-heading-self-link" href="#create-application-build" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/build/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;image&#34;: &#34;drycc/example-go:latest&#34;}
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;procfile&#34;: {
      &#34;web&#34;: &#34;./cmd&#34;
    }
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;dockerfile&#34;: &#34;&#34;,
    &#34;image&#34;: &#34;drycc/example-go:latest&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;procfile&#34;: {},
    &#34;sha&#34;: &#34;&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h2 id="releases">Releases<a class="td-heading-self-link" href="#releases" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-releases">List Application Releases<a class="td-heading-self-link" href="#list-application-releases" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/releases/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 3,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: &#34;202d8e4b-600e-4425-a85c-ffc7ea607f61&#34;,
            &#34;config&#34;: &#34;ed637ceb-5d32-44bd-9406-d326a777a513&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test changed nothing&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 3
        },
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: &#34;202d8e4b-600e-4425-a85c-ffc7ea607f61&#34;,
            &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test deployed 060da68&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 2
        },
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: null,
            &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test created initial release&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 1
        }
    ]
}
</code></pre><h3 id="list-release-details">List Release Details<a class="td-heading-self-link" href="#list-release-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/releases/v2/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;build&#34;: null,
    &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;summary&#34;: &#34;test created initial release&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
    &#34;version&#34;: 1
}
</code></pre><h3 id="rollback-release">Rollback Release<a class="td-heading-self-link" href="#rollback-release" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/releases/rollback/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;version&#34;: 1}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{&#34;version&#34;: 5}
</code></pre><h2 id="keys">Keys<a class="td-heading-self-link" href="#keys" aria-label="Heading self-link"></a></h2>
<h3 id="list-keys">List Keys<a class="td-heading-self-link" href="#list-keys" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/keys/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;id&#34;: &#34;test@example.com&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
        }
    ]
}
</code></pre><h3 id="add-key-to-user">Add Key to User<a class="td-heading-self-link" href="#add-key-to-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/keys/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;id&#34;: &#34;example&#34;,
    &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example&#34;,
    &#34;owner&#34;: &#34;example&#34;,
    &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="remove-key-from-user">Remove Key from User<a class="td-heading-self-link" href="#remove-key-from-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/keys/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="permissions">Permissions<a class="td-heading-self-link" href="#permissions" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-permissions">List Application Permissions<a class="td-heading-self-link" href="#list-application-permissions" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This does not include the app owner.</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;users&#34;: [
        &#34;test&#34;,
        &#34;foo&#34;
    ]
}
</code></pre><h3 id="create-application-permission">Create Application Permission<a class="td-heading-self-link" href="#create-application-permission" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#34;username&#34;: &#34;example&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="remove-application-permission">Remove Application Permission<a class="td-heading-self-link" href="#remove-application-permission" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/perms/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="list-administrators">List Administrators<a class="td-heading-self-link" href="#list-administrators" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/admin/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 2,
    &#34;next&#34;: null
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;username&#34;: &#34;test&#34;,
            &#34;is_superuser&#34;: true
        },
        {
            &#34;username&#34;: &#34;foo&#34;,
            &#34;is_superuser&#34;: true
        }
    ]
}
</code></pre><h3 id="grant-user-administrative-privileges">Grant User Administrative Privileges<a class="td-heading-self-link" href="#grant-user-administrative-privileges" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/admin/perms HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#34;username&#34;: &#34;example&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h3 id="remove-users-administrative-privileges">Remove User&rsquo;s Administrative Privileges<a class="td-heading-self-link" href="#remove-users-administrative-privileges" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/admin/perms/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
</code></pre><h2 id="users">Users<a class="td-heading-self-link" href="#users" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-users">List all users<a class="td-heading-self-link" href="#list-all-users" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/users HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.1
DRYCC_PLATFORM_VERSION: 2.1.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;id&#34;: 1,
            &#34;last_login&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
            &#34;is_superuser&#34;: true,
            &#34;username&#34;: &#34;test&#34;,
            &#34;first_name&#34;: &#34;test&#34;,
            &#34;last_name&#34;: &#34;testerson&#34;,
            &#34;email&#34;: &#34;test@example.com&#34;,
            &#34;is_staff&#34;: true,
            &#34;is_active&#34;: true,
            &#34;date_joined&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
            &#34;groups&#34;: [],
            &#34;user_permissions&#34;: []
        }
    ]
}
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b5fb7561bc7d913f5efd9e06d7b13c33">10.4 - Controller API v2.2</h1>
    <div class="lead">This is the v2.2 REST API for the Controller.</div>
	<h2 id="whats-new">What&rsquo;s New<a class="td-heading-self-link" href="#whats-new" aria-label="Heading self-link"></a></h2>
<p><strong>New!</strong> <code>/v2/auth/whoami</code> endpoint</p>
<h2 id="authentication">Authentication<a class="td-heading-self-link" href="#authentication" aria-label="Heading self-link"></a></h2>
<h3 id="register-a-new-user">Register a New User<a class="td-heading-self-link" href="#register-a-new-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/register/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json

{
    &#34;username&#34;: &#34;test&#34;,
    &#34;password&#34;: &#34;opensesame&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;
}
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;first_name&#34;: &#34;test&#34;,
    &#34;last_name&#34;: &#34;testerson&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;id&#34;: 1,
    &#34;last_login&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;is_superuser&#34;: true,
    &#34;username&#34;: &#34;test&#34;,
    &#34;first_name&#34;: &#34;test&#34;,
    &#34;last_name&#34;: &#34;testerson&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;,
    &#34;is_staff&#34;: true,
    &#34;is_active&#34;: true,
    &#34;date_joined&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;groups&#34;: [],
    &#34;user_permissions&#34;: []
}
</code></pre><h3 id="log-in">Log in<a class="td-heading-self-link" href="#log-in" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/login/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json

{&#34;username&#34;: &#34;test&#34;, &#34;password&#34;: &#34;opensesame&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{&#34;token&#34;: &#34;abc123&#34;}
</code></pre><h3 id="cancel-account">Cancel Account<a class="td-heading-self-link" href="#cancel-account" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/auth/cancel/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h3 id="who-am-i">Who Am I<a class="td-heading-self-link" href="#who-am-i" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/auth/whoami/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;id&#34;: 1,
    &#34;last_login&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;is_superuser&#34;: true,
    &#34;username&#34;: &#34;test&#34;,
    &#34;first_name&#34;: &#34;test&#34;,
    &#34;last_name&#34;: &#34;testerson&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;,
    &#34;is_staff&#34;: true,
    &#34;is_active&#34;: true,
    &#34;date_joined&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;groups&#34;: [],
    &#34;user_permissions&#34;: []
}
</code></pre><h3 id="regenerate-token">Regenerate Token<a class="td-heading-self-link" href="#regenerate-token" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command could require administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/tokens/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;username&#34; : &#34;test&#34;
    &#34;all&#34; : &#34;true&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{&#34;token&#34;: &#34;abc123&#34;}
</code></pre><h3 id="change-password">Change Password<a class="td-heading-self-link" href="#change-password" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/passwd/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;password&#34;: &#34;foo&#34;,
    &#34;new_password&#34;: &#34;bar&#34;
}
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{&#34;username&#34;: &#34;testuser&#34;}
</code></pre><blockquote>
<p><strong>note</strong></p>
<p>Using the <code>username</code> parameter requires administrative privileges and makes the <code>password</code> parameter optional.</p>
</blockquote>
<p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h2 id="applications">Applications<a class="td-heading-self-link" href="#applications" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-applications">List all Applications<a class="td-heading-self-link" href="#list-all-applications" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;id&#34;: &#34;example-go&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;structure&#34;: {},
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;url&#34;: &#34;example-go.example.com&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
        }
    ]
}
</code></pre><h3 id="create-an-application">Create an Application<a class="td-heading-self-link" href="#create-an-application" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{&#34;id&#34;: &#34;example-go&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;structure&#34;: {},
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;url&#34;: &#34;example-go.example.com&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="destroy-an-application">Destroy an Application<a class="td-heading-self-link" href="#destroy-an-application" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h3 id="list-application-details">List Application Details<a class="td-heading-self-link" href="#list-application-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;structure&#34;: {},
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;url&#34;: &#34;example-go.example.com&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="update-application-details">Update Application Details<a class="td-heading-self-link" href="#update-application-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{
  &#34;owner&#34;: &#34;test&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 1.8.0
Content-Type: application/json
</code></pre><h3 id="retrieve-application-logs">Retrieve Application Logs<a class="td-heading-self-link" href="#retrieve-application-logs" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/logs/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional URL Query Parameters:</p>
<pre tabindex="0"><code>?log_lines=
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: text/plain

&#34;16:51:14 drycc[api]: test created initial release\n&#34;
</code></pre><h3 id="run-one-off-commands">Run one-off Commands<a class="td-heading-self-link" href="#run-one-off-commands" aria-label="Heading self-link"></a></h3>
<pre tabindex="0"><code>POST /v2/apps/example-go/run/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;command&#34;: &#34;echo hi&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{&#34;exit_code&#34;: 0, &#34;output&#34;: &#34;hi\n&#34;}
</code></pre><h2 id="certificates">Certificates<a class="td-heading-self-link" href="#certificates" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-certificates">List all Certificates<a class="td-heading-self-link" href="#list-all-certificates" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/certs HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
  &#34;count&#34;: 1,
  &#34;next&#34;: null,
  &#34;previous&#34;: null,
  &#34;results&#34;: [
    {
      &#34;id&#34;: 22,
      &#34;owner&#34;: &#34;test&#34;,
      &#34;san&#34;: [],
      &#34;domains&#34;: [],
      &#34;created&#34;: &#34;2016-06-22T22:24:20Z&#34;,
      &#34;updated&#34;: &#34;2016-06-22T22:24:20Z&#34;,
      &#34;name&#34;: &#34;foo&#34;,
      &#34;common_name&#34;: &#34;bar.com&#34;,
      &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
      &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
      &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
      &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
      &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
    }
  ]
}
</code></pre><h3 id="get-certificate-details">Get Certificate Details<a class="td-heading-self-link" href="#get-certificate-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/certs/foo HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
  &#34;id&#34;: 22,
  &#34;owner&#34;: &#34;test&#34;,
  &#34;san&#34;: [],
  &#34;domains&#34;: [],
  &#34;created&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;updated&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;name&#34;: &#34;foo&#34;,
  &#34;common_name&#34;: &#34;bar.com&#34;,
  &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
  &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
  &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
  &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
  &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
}
</code></pre><h3 id="create-certificate">Create Certificate<a class="td-heading-self-link" href="#create-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/certs/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{
    &#34;name&#34;: &#34;foo&#34;
    &#34;certificate&#34;: &#34;-----BEGIN CERTIFICATE-----&#34;,
    &#34;key&#34;: &#34;-----BEGIN RSA PRIVATE KEY-----&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
  &#34;id&#34;: 22,
  &#34;owner&#34;: &#34;test&#34;,
  &#34;san&#34;: [],
  &#34;domains&#34;: [],
  &#34;created&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;updated&#34;: &#34;2016-06-22T22:24:20Z&#34;,
  &#34;name&#34;: &#34;foo&#34;,
  &#34;common_name&#34;: &#34;bar.com&#34;,
  &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
  &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
  &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
  &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
  &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
}
</code></pre><h3 id="destroy-a-certificate">Destroy a Certificate<a class="td-heading-self-link" href="#destroy-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/certs/foo HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h3 id="attach-a-domain-to-a-certificate">Attach a Domain to a Certificate<a class="td-heading-self-link" href="#attach-a-domain-to-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/certs/foo/domain/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;domain&#34;: &#34;test.com&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h3 id="remove-a-domain-from-a-certificate">Remove a Domain from a Certificate<a class="td-heading-self-link" href="#remove-a-domain-from-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/certs/foo/domain/test.com/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h2 id="pods">Pods<a class="td-heading-self-link" href="#pods" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-pods">List all Pods<a class="td-heading-self-link" href="#list-all-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/pods/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;results&#34;: [
        {
            &#34;name&#34;: &#34;go-v2-web-e7dej&#34;,
            &#34;release&#34;: &#34;v2&#34;,
            &#34;started&#34;: &#34;2014-01-01T00:00:00Z&#34;,
            &#34;state&#34;: &#34;up&#34;,
            &#34;type&#34;: &#34;web&#34;
        }
    ]
}
</code></pre><h3 id="list-all-pods-by-type">List all Pods by Type<a class="td-heading-self-link" href="#list-all-pods-by-type" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/pods/web/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;results&#34;: [
        {
            &#34;name&#34;: &#34;go-v2-web-e7dej&#34;,
            &#34;release&#34;: &#34;v2&#34;,
            &#34;started&#34;: &#34;2014-01-01T00:00:00Z&#34;,
            &#34;state&#34;: &#34;up&#34;,
            &#34;type&#34;: &#34;web&#34;
        }
    ]
}
</code></pre><h3 id="restart-all-pods">Restart All Pods<a class="td-heading-self-link" href="#restart-all-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="restart-pods-by-type">Restart Pods by Type<a class="td-heading-self-link" href="#restart-pods-by-type" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/web/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="restart-pods-by-type-and-name">Restart Pods by Type and Name<a class="td-heading-self-link" href="#restart-pods-by-type-and-name" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/go-v2-web-atots/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="scale-pods">Scale Pods<a class="td-heading-self-link" href="#scale-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/scale/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;web&#34;: 3}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h2 id="configuration">Configuration<a class="td-heading-self-link" href="#configuration" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-configuration">List Application Configuration<a class="td-heading-self-link" href="#list-application-configuration" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
      &#34;PLATFORM&#34;: &#34;drycc&#34;
    },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="create-new-config">Create new Config<a class="td-heading-self-link" href="#create-new-config" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;values&#34;: {&#34;HELLO&#34;: &#34;world&#34;, &#34;PLATFORM&#34;: &#34;drycc&#34;}}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
        &#34;DRYCC_APP&#34;: &#34;example-go&#34;,
        &#34;DRYCC_RELEASE&#34;: &#34;v3&#34;,
        &#34;HELLO&#34;: &#34;world&#34;,
        &#34;PLATFORM&#34;: &#34;drycc&#34;

    },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="unset-config-variable">Unset Config Variable<a class="td-heading-self-link" href="#unset-config-variable" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;values&#34;: {&#34;HELLO&#34;: null}}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
        &#34;DRYCC_APP&#34;: &#34;example-go&#34;,
        &#34;DRYCC_RELEASE&#34;: &#34;v4&#34;,
        &#34;PLATFORM&#34;: &#34;drycc&#34;
   },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h2 id="domains">Domains<a class="td-heading-self-link" href="#domains" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-domains">List Application Domains<a class="td-heading-self-link" href="#list-application-domains" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/domains/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;domain&#34;: &#34;example.example.com&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;
        }
    ]
}
</code></pre><h3 id="add-domain">Add Domain<a class="td-heading-self-link" href="#add-domain" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/domains/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#39;domain&#39;: &#39;example.example.com&#39;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;domain&#34;: &#34;example.example.com&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;
}
</code></pre><h3 id="remove-domain">Remove Domain<a class="td-heading-self-link" href="#remove-domain" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/domains/example.example.com HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h2 id="builds">Builds<a class="td-heading-self-link" href="#builds" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-builds">List Application Builds<a class="td-heading-self-link" href="#list-application-builds" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/build/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;dockerfile&#34;: &#34;FROM drycc/slugrunner RUN mkdir -p /app WORKDIR /app ENTRYPOINT [\&#34;/runner/init\&#34;] ADD slug.tgz /app ENV GIT_SHA 060da68f654e75fac06dbedd1995d5f8ad9084db&#34;,
    &#34;image&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;procfile&#34;: {
        &#34;web&#34;: &#34;example-go&#34;
    },
    &#34;sha&#34;: &#34;060da68f&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="create-application-build">Create Application Build<a class="td-heading-self-link" href="#create-application-build" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/build/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;image&#34;: &#34;drycc/example-go:latest&#34;}
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;procfile&#34;: {
      &#34;web&#34;: &#34;./cmd&#34;
    }
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;dockerfile&#34;: &#34;&#34;,
    &#34;image&#34;: &#34;drycc/example-go:latest&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;procfile&#34;: {},
    &#34;sha&#34;: &#34;&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h2 id="releases">Releases<a class="td-heading-self-link" href="#releases" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-releases">List Application Releases<a class="td-heading-self-link" href="#list-application-releases" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/releases/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;count&#34;: 3,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: &#34;202d8e4b-600e-4425-a85c-ffc7ea607f61&#34;,
            &#34;config&#34;: &#34;ed637ceb-5d32-44bd-9406-d326a777a513&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test changed nothing&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 3
        },
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: &#34;202d8e4b-600e-4425-a85c-ffc7ea607f61&#34;,
            &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test deployed 060da68&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 2
        },
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: null,
            &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test created initial release&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 1
        }
    ]
}
</code></pre><h3 id="list-release-details">List Release Details<a class="td-heading-self-link" href="#list-release-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/releases/v2/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;build&#34;: null,
    &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;summary&#34;: &#34;test created initial release&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
    &#34;version&#34;: 1
}
</code></pre><h3 id="rollback-release">Rollback Release<a class="td-heading-self-link" href="#rollback-release" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/releases/rollback/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;version&#34;: 1}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{&#34;version&#34;: 5}
</code></pre><h2 id="keys">Keys<a class="td-heading-self-link" href="#keys" aria-label="Heading self-link"></a></h2>
<h3 id="list-keys">List Keys<a class="td-heading-self-link" href="#list-keys" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/keys/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;id&#34;: &#34;test@example.com&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
        }
    ]
}
</code></pre><h3 id="add-key-to-user">Add Key to User<a class="td-heading-self-link" href="#add-key-to-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/keys/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;id&#34;: &#34;example&#34;,
    &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example&#34;,
    &#34;owner&#34;: &#34;example&#34;,
    &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="remove-key-from-user">Remove Key from User<a class="td-heading-self-link" href="#remove-key-from-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/keys/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h2 id="permissions">Permissions<a class="td-heading-self-link" href="#permissions" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-permissions">List Application Permissions<a class="td-heading-self-link" href="#list-application-permissions" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This does not include the app owner.</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;users&#34;: [
        &#34;test&#34;,
        &#34;foo&#34;
    ]
}
</code></pre><h3 id="create-application-permission">Create Application Permission<a class="td-heading-self-link" href="#create-application-permission" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#34;username&#34;: &#34;example&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h3 id="remove-application-permission">Remove Application Permission<a class="td-heading-self-link" href="#remove-application-permission" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/perms/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h3 id="list-administrators">List Administrators<a class="td-heading-self-link" href="#list-administrators" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/admin/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;count&#34;: 2,
    &#34;next&#34;: null
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;username&#34;: &#34;test&#34;,
            &#34;is_superuser&#34;: true
        },
        {
            &#34;username&#34;: &#34;foo&#34;,
            &#34;is_superuser&#34;: true
        }
    ]
}
</code></pre><h3 id="grant-user-administrative-privileges">Grant User Administrative Privileges<a class="td-heading-self-link" href="#grant-user-administrative-privileges" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/admin/perms HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#34;username&#34;: &#34;example&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h3 id="remove-users-administrative-privileges">Remove User&rsquo;s Administrative Privileges<a class="td-heading-self-link" href="#remove-users-administrative-privileges" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/admin/perms/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
</code></pre><h2 id="users">Users<a class="td-heading-self-link" href="#users" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-users">List all users<a class="td-heading-self-link" href="#list-all-users" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/users HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.2
DRYCC_PLATFORM_VERSION: 2.2.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;id&#34;: 1,
            &#34;last_login&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
            &#34;is_superuser&#34;: true,
            &#34;username&#34;: &#34;test&#34;,
            &#34;first_name&#34;: &#34;test&#34;,
            &#34;last_name&#34;: &#34;testerson&#34;,
            &#34;email&#34;: &#34;test@example.com&#34;,
            &#34;is_staff&#34;: true,
            &#34;is_active&#34;: true,
            &#34;date_joined&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
            &#34;groups&#34;: [],
            &#34;user_permissions&#34;: []
        }
    ]
}
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6272bef032a9303c3be681bdf0c9d07b">10.5 - Controller API v2.3</h1>
    <div class="lead">This is the v2.3 REST API for the Controller.</div>
	<h2 id="whats-new">What&rsquo;s New<a class="td-heading-self-link" href="#whats-new" aria-label="Heading self-link"></a></h2>
<p><strong>New!</strong> <code>/v2/apps/{name}/logs</code> endpoint was fixed and no longer returns <code>b'log data'</code> and instead returns a normal string <code>log data</code></p>
<h2 id="authentication">Authentication<a class="td-heading-self-link" href="#authentication" aria-label="Heading self-link"></a></h2>
<h3 id="register-a-new-user">Register a New User<a class="td-heading-self-link" href="#register-a-new-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/register/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json

{
    &#34;username&#34;: &#34;test&#34;,
    &#34;password&#34;: &#34;opensesame&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;
}
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;first_name&#34;: &#34;test&#34;,
    &#34;last_name&#34;: &#34;testerson&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;id&#34;: 1,
    &#34;last_login&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;is_superuser&#34;: true,
    &#34;username&#34;: &#34;test&#34;,
    &#34;first_name&#34;: &#34;test&#34;,
    &#34;last_name&#34;: &#34;testerson&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;,
    &#34;is_staff&#34;: true,
    &#34;is_active&#34;: true,
    &#34;date_joined&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;groups&#34;: [],
    &#34;user_permissions&#34;: []
}
</code></pre><h3 id="log-in">Log in<a class="td-heading-self-link" href="#log-in" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/login/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json

{&#34;username&#34;: &#34;test&#34;, &#34;password&#34;: &#34;opensesame&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{&#34;token&#34;: &#34;abc123&#34;}
</code></pre><h3 id="cancel-account">Cancel Account<a class="td-heading-self-link" href="#cancel-account" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/auth/cancel/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h3 id="who-am-i">Who Am I<a class="td-heading-self-link" href="#who-am-i" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/auth/whoami/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;id&#34;: 1,
    &#34;last_login&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;is_superuser&#34;: true,
    &#34;username&#34;: &#34;test&#34;,
    &#34;first_name&#34;: &#34;test&#34;,
    &#34;last_name&#34;: &#34;testerson&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;,
    &#34;is_staff&#34;: true,
    &#34;is_active&#34;: true,
    &#34;date_joined&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
    &#34;groups&#34;: [],
    &#34;user_permissions&#34;: []
}
</code></pre><h3 id="regenerate-token">Regenerate Token<a class="td-heading-self-link" href="#regenerate-token" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command could require administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/tokens/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;username&#34; : &#34;test&#34;
    &#34;all&#34; : &#34;true&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{&#34;token&#34;: &#34;abc123&#34;}
</code></pre><h3 id="change-password">Change Password<a class="td-heading-self-link" href="#change-password" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/auth/passwd/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;password&#34;: &#34;foo&#34;,
    &#34;new_password&#34;: &#34;bar&#34;
}
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{&#34;username&#34;: &#34;testuser&#34;}
</code></pre><blockquote>
<p><strong>note</strong></p>
<p>Using the <code>username</code> parameter requires administrative privileges and makes the <code>password</code> parameter optional.</p>
</blockquote>
<p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h2 id="applications">Applications<a class="td-heading-self-link" href="#applications" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-applications">List all Applications<a class="td-heading-self-link" href="#list-all-applications" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;id&#34;: &#34;example-go&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;structure&#34;: {},
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;url&#34;: &#34;example-go.example.com&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
        }
    ]
}
</code></pre><h3 id="create-an-application">Create an Application<a class="td-heading-self-link" href="#create-an-application" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{&#34;id&#34;: &#34;example-go&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;structure&#34;: {},
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;url&#34;: &#34;example-go.example.com&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="destroy-an-application">Destroy an Application<a class="td-heading-self-link" href="#destroy-an-application" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h3 id="list-application-details">List Application Details<a class="td-heading-self-link" href="#list-application-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;structure&#34;: {},
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;url&#34;: &#34;example-go.example.com&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="update-application-details">Update Application Details<a class="td-heading-self-link" href="#update-application-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional parameters:</p>
<pre tabindex="0"><code>{
  &#34;owner&#34;: &#34;test&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 1.8.0
Content-Type: application/json
</code></pre><h3 id="retrieve-application-logs">Retrieve Application Logs<a class="td-heading-self-link" href="#retrieve-application-logs" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/logs/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Optional URL Query Parameters:</p>
<pre tabindex="0"><code>?log_lines=
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: text/plain

&#34;16:51:14 drycc[api]: test created initial release\n&#34;
</code></pre><h3 id="run-one-off-commands">Run one-off Commands<a class="td-heading-self-link" href="#run-one-off-commands" aria-label="Heading self-link"></a></h3>
<pre tabindex="0"><code>POST /v2/apps/example-go/run/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;command&#34;: &#34;echo hi&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{&#34;exit_code&#34;: 0, &#34;output&#34;: &#34;hi\n&#34;}
</code></pre><h2 id="certificates">Certificates<a class="td-heading-self-link" href="#certificates" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-certificates">List all Certificates<a class="td-heading-self-link" href="#list-all-certificates" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/certs HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
  &#34;count&#34;: 1,
  &#34;next&#34;: null,
  &#34;previous&#34;: null,
  &#34;results&#34;: [
    {
      &#34;id&#34;: 22,
      &#34;owner&#34;: &#34;test&#34;,
      &#34;san&#34;: [],
      &#34;domains&#34;: [],
      &#34;created&#34;: &#34;2016-06-22.32.34:20Z&#34;,
      &#34;updated&#34;: &#34;2016-06-22.32.34:20Z&#34;,
      &#34;name&#34;: &#34;foo&#34;,
      &#34;common_name&#34;: &#34;bar.com&#34;,
      &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
      &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
      &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
      &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
      &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
    }
  ]
}
</code></pre><h3 id="get-certificate-details">Get Certificate Details<a class="td-heading-self-link" href="#get-certificate-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/certs/foo HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
  &#34;id&#34;: 22,
  &#34;owner&#34;: &#34;test&#34;,
  &#34;san&#34;: [],
  &#34;domains&#34;: [],
  &#34;created&#34;: &#34;2016-06-22.32.34:20Z&#34;,
  &#34;updated&#34;: &#34;2016-06-22.32.34:20Z&#34;,
  &#34;name&#34;: &#34;foo&#34;,
  &#34;common_name&#34;: &#34;bar.com&#34;,
  &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
  &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
  &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
  &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
  &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
}
</code></pre><h3 id="create-certificate">Create Certificate<a class="td-heading-self-link" href="#create-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/certs/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{
    &#34;name&#34;: &#34;foo&#34;
    &#34;certificate&#34;: &#34;-----BEGIN CERTIFICATE-----&#34;,
    &#34;key&#34;: &#34;-----BEGIN RSA PRIVATE KEY-----&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
  &#34;id&#34;: 22,
  &#34;owner&#34;: &#34;test&#34;,
  &#34;san&#34;: [],
  &#34;domains&#34;: [],
  &#34;created&#34;: &#34;2016-06-22.32.34:20Z&#34;,
  &#34;updated&#34;: &#34;2016-06-22.32.34:20Z&#34;,
  &#34;name&#34;: &#34;foo&#34;,
  &#34;common_name&#34;: &#34;bar.com&#34;,
  &#34;fingerprint&#34;: &#34;7A:CA:B8:50:FF:8D:EB:03:3D:AC:AD:13:4F:EE:03:D5:5D:EB:5E:37:51:8C:E0:98:F8:1B:36:2B:20:83:0D:C0&#34;,
  &#34;expires&#34;: &#34;2017-01-14T23:57:57Z&#34;,
  &#34;starts&#34;: &#34;2016-01-15T23:57:57Z&#34;,
  &#34;issuer&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;,
  &#34;subject&#34;: &#34;/C=US/ST=CA/L=San Francisco/O=Drycc/OU=Engineering/CN=bar.com/emailAddress=engineering@drycc.cc&#34;
}
</code></pre><h3 id="destroy-a-certificate">Destroy a Certificate<a class="td-heading-self-link" href="#destroy-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/certs/foo HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h3 id="attach-a-domain-to-a-certificate">Attach a Domain to a Certificate<a class="td-heading-self-link" href="#attach-a-domain-to-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/certs/foo/domain/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;domain&#34;: &#34;test.com&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h3 id="remove-a-domain-from-a-certificate">Remove a Domain from a Certificate<a class="td-heading-self-link" href="#remove-a-domain-from-a-certificate" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/certs/foo/domain/test.com/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h3 id="enable-or-disable-tls">Enable or disable TLS<a class="td-heading-self-link" href="#enable-or-disable-tls" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/tls/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{
  &#34;https_enforced&#34;: true
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;https_enforced&#34;: true,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="get-tls-status">Get TLS status<a class="td-heading-self-link" href="#get-tls-status" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/tls/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;https_enforced&#34;: false,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h2 id="pods">Pods<a class="td-heading-self-link" href="#pods" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-pods">List all Pods<a class="td-heading-self-link" href="#list-all-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/pods/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;results&#34;: [
        {
            &#34;name&#34;: &#34;go-v2-web-e7dej&#34;,
            &#34;release&#34;: &#34;v2&#34;,
            &#34;started&#34;: &#34;2014-01-01T00:00:00Z&#34;,
            &#34;state&#34;: &#34;up&#34;,
            &#34;type&#34;: &#34;web&#34;
        }
    ]
}
</code></pre><h3 id="list-all-pods-by-type">List all Pods by Type<a class="td-heading-self-link" href="#list-all-pods-by-type" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/pods/web/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;results&#34;: [
        {
            &#34;name&#34;: &#34;go-v2-web-e7dej&#34;,
            &#34;release&#34;: &#34;v2&#34;,
            &#34;started&#34;: &#34;2014-01-01T00:00:00Z&#34;,
            &#34;state&#34;: &#34;up&#34;,
            &#34;type&#34;: &#34;web&#34;
        }
    ]
}
</code></pre><h3 id="restart-all-pods">Restart All Pods<a class="td-heading-self-link" href="#restart-all-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="restart-pods-by-type">Restart Pods by Type<a class="td-heading-self-link" href="#restart-pods-by-type" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/web/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="restart-pods-by-type-and-name">Restart Pods by Type and Name<a class="td-heading-self-link" href="#restart-pods-by-type-and-name" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/pods/go-v2-web-atots/restart/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

[
    {
        &#34;name&#34;: &#34;go-v2-web-atots&#34;,
        &#34;release&#34;: &#34;v2&#34;,
        &#34;started&#34;: &#34;2016-04-11T21:07:54Z&#34;,
        &#34;state&#34;: &#34;up&#34;,
        &#34;type&#34;: &#34;web&#34;
    }
]
</code></pre><h3 id="scale-pods">Scale Pods<a class="td-heading-self-link" href="#scale-pods" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/scale/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;web&#34;: 3}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h2 id="configuration">Configuration<a class="td-heading-self-link" href="#configuration" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-configuration">List Application Configuration<a class="td-heading-self-link" href="#list-application-configuration" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
      &#34;PLATFORM&#34;: &#34;drycc&#34;
    },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="create-new-config">Create new Config<a class="td-heading-self-link" href="#create-new-config" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;values&#34;: {&#34;HELLO&#34;: &#34;world&#34;, &#34;PLATFORM&#34;: &#34;drycc&#34;}}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
        &#34;DRYCC_APP&#34;: &#34;example-go&#34;,
        &#34;DRYCC_RELEASE&#34;: &#34;v3&#34;,
        &#34;HELLO&#34;: &#34;world&#34;,
        &#34;PLATFORM&#34;: &#34;drycc&#34;

    },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="unset-config-variable">Unset Config Variable<a class="td-heading-self-link" href="#unset-config-variable" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/config/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;values&#34;: {&#34;HELLO&#34;: null}}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;owner&#34;: &#34;test&#34;,
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;values&#34;: {
        &#34;DRYCC_APP&#34;: &#34;example-go&#34;,
        &#34;DRYCC_RELEASE&#34;: &#34;v4&#34;,
        &#34;PLATFORM&#34;: &#34;drycc&#34;
   },
    &#34;memory&#34;: {},
    &#34;cpu&#34;: {},
    &#34;tags&#34;: {},
    &#34;healthcheck&#34;: {},
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h2 id="domains">Domains<a class="td-heading-self-link" href="#domains" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-domains">List Application Domains<a class="td-heading-self-link" href="#list-application-domains" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/domains/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;domain&#34;: &#34;example.example.com&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;
        }
    ]
}
</code></pre><h3 id="add-domain">Add Domain<a class="td-heading-self-link" href="#add-domain" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/domains/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#39;domain&#39;: &#39;example.example.com&#39;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;domain&#34;: &#34;example.example.com&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;
}
</code></pre><h3 id="remove-domain">Remove Domain<a class="td-heading-self-link" href="#remove-domain" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/domains/example.example.com HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h2 id="builds">Builds<a class="td-heading-self-link" href="#builds" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-builds">List Application Builds<a class="td-heading-self-link" href="#list-application-builds" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/build/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;dockerfile&#34;: &#34;FROM drycc/slugrunner RUN mkdir -p /app WORKDIR /app ENTRYPOINT [\&#34;/runner/init\&#34;] ADD slug.tgz /app ENV GIT_SHA 060da68f654e75fac06dbedd1995d5f8ad9084db&#34;,
    &#34;image&#34;: &#34;example-go&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;procfile&#34;: {
        &#34;web&#34;: &#34;example-go&#34;
    },
    &#34;sha&#34;: &#34;060da68f&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="create-application-build">Create Application Build<a class="td-heading-self-link" href="#create-application-build" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/build/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;image&#34;: &#34;drycc/example-go:latest&#34;}
</code></pre><p>Optional Parameters:</p>
<pre tabindex="0"><code>{
    &#34;procfile&#34;: {
      &#34;web&#34;: &#34;./cmd&#34;
    }
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;dockerfile&#34;: &#34;&#34;,
    &#34;image&#34;: &#34;drycc/example-go:latest&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;procfile&#34;: {},
    &#34;sha&#34;: &#34;&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h2 id="releases">Releases<a class="td-heading-self-link" href="#releases" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-releases">List Application Releases<a class="td-heading-self-link" href="#list-application-releases" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/releases/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;count&#34;: 3,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: &#34;2.3d8e4b-600e-4425-a85c-ffc7ea607f61&#34;,
            &#34;config&#34;: &#34;ed637ceb-5d32-44bd-9406-d326a777a513&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test changed nothing&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 3
        },
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: &#34;2.3d8e4b-600e-4425-a85c-ffc7ea607f61&#34;,
            &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test deployed 060da68&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 2
        },
        {
            &#34;app&#34;: &#34;example-go&#34;,
            &#34;build&#34;: null,
            &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;summary&#34;: &#34;test created initial release&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
            &#34;version&#34;: 1
        }
    ]
}
</code></pre><h3 id="list-release-details">List Release Details<a class="td-heading-self-link" href="#list-release-details" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/releases/v2/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;app&#34;: &#34;example-go&#34;,
    &#34;build&#34;: null,
    &#34;config&#34;: &#34;95bd6dea-1685-4f78-a03d-fd7270b058d1&#34;,
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;owner&#34;: &#34;test&#34;,
    &#34;summary&#34;: &#34;test created initial release&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;,
    &#34;version&#34;: 1
}
</code></pre><h3 id="rollback-release">Rollback Release<a class="td-heading-self-link" href="#rollback-release" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/releases/rollback/ HTTP/1.1
Host: drycc.example.com
Content-Type: application/json
Authorization: token abc123

{&#34;version&#34;: 1}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{&#34;version&#34;: 5}
</code></pre><h2 id="keys">Keys<a class="td-heading-self-link" href="#keys" aria-label="Heading self-link"></a></h2>
<h3 id="list-keys">List Keys<a class="td-heading-self-link" href="#list-keys" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/keys/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;id&#34;: &#34;test@example.com&#34;,
            &#34;owner&#34;: &#34;test&#34;,
            &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;,
            &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
            &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
        }
    ]
}
</code></pre><h3 id="add-key-to-user">Add Key to User<a class="td-heading-self-link" href="#add-key-to-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/keys/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{
    &#34;id&#34;: &#34;example&#34;,
    &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;
}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;created&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;id&#34;: &#34;example&#34;,
    &#34;owner&#34;: &#34;example&#34;,
    &#34;public&#34;: &#34;ssh-rsa &lt;...&gt;&#34;,
    &#34;updated&#34;: &#34;2014-01-01T00:00:00UTC&#34;,
    &#34;uuid&#34;: &#34;de1bf5b5-4a72-4f94-a10c-d2a3741cdf75&#34;
}
</code></pre><h3 id="remove-key-from-user">Remove Key from User<a class="td-heading-self-link" href="#remove-key-from-user" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/keys/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h2 id="permissions">Permissions<a class="td-heading-self-link" href="#permissions" aria-label="Heading self-link"></a></h2>
<h3 id="list-application-permissions">List Application Permissions<a class="td-heading-self-link" href="#list-application-permissions" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This does not include the app owner.</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/apps/example-go/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;users&#34;: [
        &#34;test&#34;,
        &#34;foo&#34;
    ]
}
</code></pre><h3 id="create-application-permission">Create Application Permission<a class="td-heading-self-link" href="#create-application-permission" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/apps/example-go/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#34;username&#34;: &#34;example&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h3 id="remove-application-permission">Remove Application Permission<a class="td-heading-self-link" href="#remove-application-permission" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/apps/example-go/perms/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h3 id="list-administrators">List Administrators<a class="td-heading-self-link" href="#list-administrators" aria-label="Heading self-link"></a></h3>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/admin/perms/ HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;count&#34;: 2,
    &#34;next&#34;: null
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;username&#34;: &#34;test&#34;,
            &#34;is_superuser&#34;: true
        },
        {
            &#34;username&#34;: &#34;foo&#34;,
            &#34;is_superuser&#34;: true
        }
    ]
}
</code></pre><h3 id="grant-user-administrative-privileges">Grant User Administrative Privileges<a class="td-heading-self-link" href="#grant-user-administrative-privileges" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>POST /v2/admin/perms HTTP/1.1
Host: drycc.example.com
Authorization: token abc123

{&#34;username&#34;: &#34;example&#34;}
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 201 CREATED
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h3 id="remove-users-administrative-privileges">Remove User&rsquo;s Administrative Privileges<a class="td-heading-self-link" href="#remove-users-administrative-privileges" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>DELETE /v2/admin/perms/example HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 204 NO CONTENT
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
</code></pre><h2 id="users">Users<a class="td-heading-self-link" href="#users" aria-label="Heading self-link"></a></h2>
<h3 id="list-all-users">List all users<a class="td-heading-self-link" href="#list-all-users" aria-label="Heading self-link"></a></h3>
<blockquote>
<p><strong>note</strong></p>
<p>This command requires administrative privileges</p>
</blockquote>
<p>Example Request:</p>
<pre tabindex="0"><code>GET /v2/users HTTP/1.1
Host: drycc.example.com
Authorization: token abc123
</code></pre><p>Example Response:</p>
<pre tabindex="0"><code>HTTP/1.1 200 OK
DRYCC_API_VERSION: 2.3
DRYCC_PLATFORM_VERSION: 2.3.0
Content-Type: application/json

{
    &#34;count&#34;: 1,
    &#34;next&#34;: null,
    &#34;previous&#34;: null,
    &#34;results&#34;: [
        {
            &#34;id&#34;: 1,
            &#34;last_login&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
            &#34;is_superuser&#34;: true,
            &#34;username&#34;: &#34;test&#34;,
            &#34;first_name&#34;: &#34;test&#34;,
            &#34;last_name&#34;: &#34;testerson&#34;,
            &#34;email&#34;: &#34;test@example.com&#34;,
            &#34;is_staff&#34;: true,
            &#34;is_active&#34;: true,
            &#34;date_joined&#34;: &#34;2014-10-19T22:01:00.601Z&#34;,
            &#34;groups&#34;: [],
            &#34;user_permissions&#34;: []
        }
    ]
}
</code></pre>
</div>



    
	
  

    
	
  



          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="td-footer__left col-6 col-sm-4 order-sm-1">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Tawk" aria-label="Tawk">
    <a target="_blank" rel="noopener" href="https://tawk.to/chat/6234b5491ffac05b1d7f4669/1fueu8a9t" aria-label="Tawk">
      <i class="fa fa-comment-dots"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Reddit" aria-label="Reddit">
    <a target="_blank" rel="noopener" href="https://www.reddit.com/r/drycc" aria-label="Reddit">
      <i class="fa-brands fa-reddit"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__right col-6 col-sm-4 order-sm-3">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/drycc" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Slack" aria-label="Slack">
    <a target="_blank" rel="noopener" href="https://drycc.slack.com/" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2">
        <span class="td-footer__copyright">&copy;
    2015&ndash;2025
    <span class="td-footer__authors">Drycc Authors | <a href="https://legal.doopai.com/#/cloud-services-terms">Terms of Service</a> | <a href="https://legal.doopai.com/#/doopai-cookie-policy">Cookies</a> |</span></span><span class="td-footer__all_rights_reserved">All Rights Reserved</span><span class="ms-2"><a href="https://legal.doopai.com/#/doopai-privacy-policy" target="_blank" rel="noopener">Privacy Policy</a></span>
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="/js/main.min.69e2c1ae9320465ab10236d9ef752c6a4442c54b48b883b17c497b7c7d96a796.js" integrity="sha256-aeLBrpMgRlqxAjbZ73UsakRCxUtIuIOxfEl7fH2Wp5Y=" crossorigin="anonymous"></script>
<script defer src="/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js" integrity="sha256-c0eKfUgHaYrtfjVesj&#43;YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>
